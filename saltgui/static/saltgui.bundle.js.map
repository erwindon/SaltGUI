{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./saltgui/static/sorttable/sorttable.js","webpack:///./saltgui/static/scripts/ParseCommandLine.js","webpack:///./saltgui/static/scripts/Utils.js","webpack:///./saltgui/static/scripts/routes/Route.js","webpack:///./saltgui/static/scripts/routes/Login.js","webpack:///./saltgui/static/scripts/output/OutputDocumentation.js","webpack:///./saltgui/static/scripts/output/OutputHighstate.js","webpack:///./saltgui/static/scripts/output/OutputJson.js","webpack:///./saltgui/static/scripts/output/OutputNested.js","webpack:///./saltgui/static/scripts/output/OutputSaltGuiHighstate.js","webpack:///./saltgui/static/scripts/output/OutputYaml.js","webpack:///./saltgui/static/scripts/output/Output.js","webpack:///./saltgui/static/scripts/routes/Page.js","webpack:///./saltgui/static/scripts/DropDown.js","webpack:///./saltgui/static/scripts/routes/Minions.js","webpack:///./saltgui/static/scripts/routes/Keys.js","webpack:///./saltgui/static/scripts/routes/Grains.js","webpack:///./saltgui/static/scripts/routes/GrainsMinion.js","webpack:///./saltgui/static/scripts/routes/Schedules.js","webpack:///./saltgui/static/scripts/routes/SchedulesMinion.js","webpack:///./saltgui/static/scripts/routes/Pillars.js","webpack:///./saltgui/static/scripts/routes/PillarsMinion.js","webpack:///./saltgui/static/scripts/routes/Job.js","webpack:///./saltgui/static/scripts/routes/Jobs.js","webpack:///./saltgui/static/scripts/routes/Templates.js","webpack:///./saltgui/static/scripts/Documentation.js","webpack:///./saltgui/static/scripts/RunType.js","webpack:///./saltgui/static/scripts/TargetType.js","webpack:///./saltgui/static/scripts/CommandBox.js","webpack:///./saltgui/static/scripts/Api.js","webpack:///./saltgui/static/scripts/Router.js","webpack:///./saltgui/static/scripts/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","sorttable","init","arguments","callee","done","_timer","clearInterval","document","createElement","getElementsByTagName","DATE_RE","forEach","table","className","search","makeSortable","length","the","appendChild","rows","insertBefore","firstChild","tHead","sortbottomrows","tFoot","tfo","headrow","cells","match","mtch","override","sorttable_sortfunction","guessType","sorttable_columnindex","sorttable_tbody","tBodies","dean_addEvent","innerSortFunction","e","this","reverse","replace","removeChild","getElementById","sortrevind","id","innerHTML","sortfwdind","theadrow","parentNode","childNodes","cell","nodeType","row_array","col","j","getInnerText","sort","tb","column","sortfn","sort_alpha","text","sort_numeric","possdate","first","parseInt","second","sort_ddmm","sort_mmdd","node","hasInputs","getAttribute","textContent","innerText","nodeName","toLowerCase","nodeValue","tbody","newrows","a","b","aa","parseFloat","isNaN","bb","y","dt1","dt2","shaker_sort","list","comp_func","swap","q","addEventListener","test","navigator","userAgent","setInterval","readyState","element","type","handler","$$guid","guid","events","handlers","handleEvent","event","returnValue","fixEvent","ownerDocument","parentWindow","window","$$handleEvent","preventDefault","stopPropagation","onload","cancelBubble","Array","array","block","context","Function","String","string","split","chr","index","resolve","patNull","patBooleanFalse","patBooleanTrue","patJid","patInteger","patFloat","parseCommandLine","toRun","args","params","trim","firstSpaceChar","indexOf","firstEqualSign","substr","endChar","undefined","objType","substring","JSON","parse","err","str","isFinite","push","elapsedToString","date","secondsPassed","Date","getTime","Math","round","content","classList","add","getQueryParam","vars","hashes","location","href","slice","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","hashparts","return","escape","input","div","createTextNode","makeTargetText","targetType","targetPattern","returnText","Route","path","page_selector","menuitem_selector","router","_classCallCheck","RegExp","page_element","querySelector","menuitem_element1","menuitem_element2","td","evt","targetString","commandString","_runFullCommand","targettype","commandbox","_showManualRun","target","command","targetbox","startsWith","endsWith","tt","style","display","TargetType","setTargetType","cmdmenu","verifyAll","rawArguments","rawObject","argumentsText","_typeof","keys","includes","stringify","LoginRoute","_Route","_this","Login_classCallCheck","_getPrototypeOf","loginPending","onLogin","_assertThisInitialized","onLoginSuccess","onLoginFailure","registerEventListeners","_inherits","eauthSelector","eauthValue","localStorage","getItem","username","password","eauth","toggleForm","api","login","then","notice","success","_createDiv","backgroundColor","replaceChild","disabled","focus","goTo","authFailed","allowSubmit","OutputDocumentation","OutputDocumentation_classCallCheck","filterKey","output","response","isOutputFormatAllowed","result","reduceFilterKey","_arr","_i","OutputDocumentation_typeof","isArray","_arr2","_i2","isDocuKeyMatch","visualKey","selectedMinion","_arr3","_i3","hostname","hostResponse","_arr4","_i4","savedDocumentation","outputContainer","_arr5","_i5","out","trimRight","reference","words","console","log","link","OutputHighstate","OutputHighstate_classCallCheck","Output","OutputHighstate_typeof","millis","concat","anyFailures","anySkips","task","getHostnameHtml","tasks","taskKey","___key___","__run_num__","succeeded","failed","skipped","total_millis","changes","taskDiv","span","color","append","__id__","encodeURIComponent","__sls__","components","indent","comment","txt","change","lines","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","line","old","new","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","taskkey","start_time","duration","getDurationClause","item","total","OutputJson","OutputJson_classCallCheck","OutputJson_typeof","indentLevel","formatSimpleJSON","separator","elem","repeat","formatJSON","OutputNested","OutputNested_classCallCheck","msg","prefix","suffix","ret","ustring","first_line","line_prefix","OutputNested_typeof","ind","val","join","OutputSaltGuiHighstate","OutputSaltGuiHighstate_classCallCheck","OutputSaltGuiHighstate_typeof","idx","addChangesInfo","dateTimeStr","OutputYaml","OutputYaml_classCallCheck","needQuotes","Number","OutputYaml_typeof","formatSimpleYAML","formatYAML","Output_classCallCheck","requestedOutputFormat","supportedOutputFormats","RUNNER","WHEEL","extraClass","obj","formatNESTED","formatObject","props","Output_typeof","prop","datetime_fraction_digits_str","datetime_fraction_digits_nr","dotPos","minions","addVirtualMinion","commandArg","isDocumentationOutput","reduceDocumentationOutput","addDocumentationOutput","allDiv","isAsyncOutput","cntResponses","cntMinions","masterTriangle","_","childs","getElementsByClassName","tr","MouseEvent","dispatchEvent","nrMultiLineBlocks","_loop","hasProperties","hostOutput","hostMultiLine","fndRepresentation","hostClass","hostLabel","getTextOutput","getNormalOutput","commandCmd","isHighStateOutput","getHighStateLabel","getHighStateOutput","triangle","PageRoute","Page_classCallCheck","Page_getPrototypeOf","_runCommand","Page_assertThisInitialized","_runningJobs","_updateJobs","_updateMinions","Page_inherits","data","getPageElement","hostnames","setItem","minion_info","_updateOfflineMinion","_updateMinion","container","_getElement","_createTd","offline","minion","ipv4","fqdn_ip4","_getBestIpNumber","address","ipv4parts","sorttable_customkey","padStart","setAttribute","_copyAddress","accepted","saltversion","os","osrelease","img","prepend","freeColumns","numberOfJobs","detailedJob","jobContainer","jobs","_jobsToArray","_sortJobs","shown","job","_addDetailedJob","_addJob","jobsLoaded","keysLoaded","resolvePromise","jobsStatus","k","targetText","targetField","Target","Running","Returned","remove","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","statusField","functionText","startTimeText","StartTime","DropDownMenu","addMenuItem","assign","_createJobListener","jidText","_decodeArgumentsText","Arguments","menu","parentElement","newArray","selection","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","execCommand","DropDown_classCallCheck","callback","tagName","nelement","menuDropdown","menuButton","menuDropdownContent","visibleCount","children","chld","verifyCallback","display_visible","title","button","_value","MinionsRoute","_PageRoute","Minions_classCallCheck","Minions_getPrototypeOf","_updateKeys","Minions_assertThisInitialized","Minions_inherits","Promise","reject","getLocalGrainsItems","getWheelKeyListAll","getRunnerJobsListJobs","getRunnerJobsActive","getWheelConfigValues","_configvalues","templates","saltgui_templates","public_pillars","saltgui_public_pillars","preview_grains","saltgui_preview_grains","nodegroups","output_formats","saltgui_output_formats","datetime_fraction_digits","saltgui_datetime_fraction_digits","_this2","_addMinion","_addMenuItemStateApply","_get","_this3","KeysRoute","Keys_classCallCheck","Keys_getPrototypeOf","Keys_assertThisInitialized","_updateKeysFingerprint","Keys_inherits","p1","p2","getWheelKeyFinger","all","hosts","fingerprintElement","fingerprint","hostnames_pre","minions_pre","_addPreMinion","hostnames_accepted","_addMenuItemReject","_addMenuItemDelete","hostnames_denied","minions_denied","_addDeniedMinion","hostnames_rejected","minions_rejected","_addRejectedMinion","summary","Keys_get","rejected","_addMenuItemAccept","denied","pre","extra","GrainsRoute","Grains_classCallCheck","Grains_getPrototypeOf","Grains_assertThisInitialized","previewGrainsText","_previewGrains","childElementCount","lastChild","th","oldHead","newHead","cloneNode","Grains_inherits","_addMenuItemShowGrains","Grains_get","cnt","grainInfoText","grainInfoTd","grainName","GrainsMinionRoute","GrainsMinion_classCallCheck","GrainsMinion_getPrototypeOf","_showGrains","GrainsMinion_assertThisInitialized","GrainsMinion_inherits","decodeURIComponent","grains","gmp","deleteRow","grain","grain_value","SchedulesRoute","Schedules_classCallCheck","Schedules_getPrototypeOf","Schedules_assertThisInitialized","Schedules_inherits","schedules","enabled","getLocalScheduleList","_addMenuItemShowSchedules","Schedules_get","_fixMinion","scheduleinfo","statusDiv","SchedulesMinionRoute","SchedulesMinion_classCallCheck","SchedulesMinion_getPrototypeOf","_showSchedules","SchedulesMinion_assertThisInitialized","SchedulesMinion_inherits","page","schedule","jid_include","maxrunning","isJobDisabled","cmd","schedule_value","noSchedulesMsg","PillarsRoute","Pillars_classCallCheck","Pillars_getPrototypeOf","Pillars_assertThisInitialized","Pillars_inherits","getLocalPillarObfuscate","_addMenuItemShowPillars","Pillars_get","pillarInfoText","pillarInfoTd","PillarsMinionRoute","PillarsMinion_classCallCheck","PillarsMinion_getPrototypeOf","_showPillars","PillarsMinion_assertThisInitialized","PillarsMinion_inherits","getLocalPillarItems","pillars","pmp","_addMenuItemRefreshPillar","publicPillarsText","pillar","pillar_hidden","value_shown","pillar_shown","noPillarsMsg","JobRoute","Job_classCallCheck","Job_getPrototypeOf","_onJobData","Job_assertThisInitialized","Job_inherits","getRunnerJobsListJob","retcode","info","commandText","jobinfo","menuSection","minionList","Minions","lst","has1","has2","Result","_isResultOk","addResponseOutput","JobsRoute","Jobs_classCallCheck","Jobs_possibleConstructorReturn","Jobs_getPrototypeOf","Jobs_inherits","TemplatesRoute","Templates_classCallCheck","Templates_getPrototypeOf","_updateTemplates","Templates_assertThisInitialized","_applyTemplate","Templates_inherits","template","_addTemplate","description","Documentation","Documentation_classCallCheck","_manualRunMenuSysDocRun","_manualRunMenuSysDocPrepare","menuitem","docCommand","dummyCommand","tgtType","menuTargetType","_getRunParams","_onRunReturn","RunType","RunType_classCallCheck","runblock","menuRunType","setTitle","_updateRunTypeText","getRunType","runType","TargetType_classCallCheck","manualUpdateTargetTypeText","_targetTypeNodeGroupPrepare","setTargetTypeDefault","_system","_updateTargetTypeText","getTargetType","CommandBox","CommandBox_classCallCheck","_onRun","_hideManualRun","cmdbox","documentation","_registerEventListeners","createMenu","templatesText","_addKeyEventListener","autoSelectTargetType","selector","func","body","setRunTypeDefault","targetlist","nodegroup","option","reload","message","_showError","kwargs","functionToRun","shift","CommandBox_typeof","client","fun","arg","tgt","tgt_type","kwarg","apiRequest","catch","error","HTTPError","_Error","status","Api_classCallCheck","Api_possibleConstructorReturn","Api_getPrototypeOf","Api_inherits","_wrapNativeSuper","Error","API","apiurl","APIURL","sessionStorage","perms","token","removeItem","return_yaml","jid","method","route","options","url","headers","Accept","X-Auth-Token","Cache-Control","fetch","ok","json","statusText","Router","Router_classCallCheck","currentRoute","routes","registerRoute","isAuthenticated","valid_session","pathname","logout","onRegister","switchingRoute","getPath","history","pushState","showRoute","minionMenuItem","jobsMenuItem","from","querySelectorAll","elem1","getMenuItemElement1","elem2","getMenuItemElement2","afterLoad","hideRoute","getName","onShow","setTimeout","onHide"],"mappings":"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","file":"saltgui.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","/*\n  SortTable\n  version 2\n  7th April 2007\n  Stuart Langridge, http://www.kryogenix.org/code/browser/sorttable/\n\n  Instructions:\n  Download this file\n  Add <script src=\"sorttable.js\"></script> to your HTML\n  Add class=\"sortable\" to any table you'd like to make sortable\n  Click on the headers to sort\n\n  Thanks to many, many people for contributions and suggestions.\n  Licenced as X11: http://www.kryogenix.org/code/browser/licence.html\n  This basically means: do what you want with it.\n*/\n\n\nvar stIsIE = /*@cc_on!@*/false;\n\nsorttable = {\n  init: function() {\n    // quit if this function has already been called\n    if (arguments.callee.done) return;\n    // flag this function so we don't do the same thing twice\n    arguments.callee.done = true;\n    // kill the timer\n    if (_timer) clearInterval(_timer);\n\n    if (!document.createElement || !document.getElementsByTagName) return;\n\n    sorttable.DATE_RE = /^(\\d\\d?)[\\/\\.-](\\d\\d?)[\\/\\.-]((\\d\\d)?\\d\\d)$/;\n\n    forEach(document.getElementsByTagName('table'), function(table) {\n      if (table.className.search(/\\bsortable\\b/) != -1) {\n        sorttable.makeSortable(table);\n      }\n    });\n\n  },\n\n  makeSortable: function(table) {\n    if (table.getElementsByTagName('thead').length == 0) {\n      // table doesn't have a tHead. Since it should have, create one and\n      // put the first table row in it.\n      the = document.createElement('thead');\n      the.appendChild(table.rows[0]);\n      table.insertBefore(the,table.firstChild);\n    }\n    // Safari doesn't support table.tHead, sigh\n    if (table.tHead == null) table.tHead = table.getElementsByTagName('thead')[0];\n\n    if (table.tHead.rows.length != 1) return; // can't cope with two header rows\n\n    // Sorttable v1 put rows with a class of \"sortbottom\" at the bottom (as\n    // \"total\" rows, for example). This is B&R, since what you're supposed\n    // to do is put them in a tfoot. So, if there are sortbottom rows,\n    // for backwards compatibility, move them to tfoot (creating it if needed).\n    sortbottomrows = [];\n    for (var i=0; i<table.rows.length; i++) {\n      if (table.rows[i].className.search(/\\bsortbottom\\b/) != -1) {\n        sortbottomrows[sortbottomrows.length] = table.rows[i];\n      }\n    }\n    if (sortbottomrows) {\n      if (table.tFoot == null) {\n        // table doesn't have a tfoot. Create one.\n        tfo = document.createElement('tfoot');\n        table.appendChild(tfo);\n      }\n      for (var i=0; i<sortbottomrows.length; i++) {\n        tfo.appendChild(sortbottomrows[i]);\n      }\n      delete sortbottomrows;\n    }\n\n    // work through each column and calculate its type\n    headrow = table.tHead.rows[0].cells;\n    for (var i=0; i<headrow.length; i++) {\n      // manually override the type with a sorttable_type attribute\n      if (!headrow[i].className.match(/\\bsorttable_nosort\\b/)) { // skip this col\n        mtch = headrow[i].className.match(/\\bsorttable_([a-z0-9]+)\\b/);\n        if (mtch) { override = mtch[1]; }\n\t      if (mtch && typeof sorttable[\"sort_\"+override] == 'function') {\n\t        headrow[i].sorttable_sortfunction = sorttable[\"sort_\"+override];\n\t      } else {\n\t        headrow[i].sorttable_sortfunction = sorttable.guessType(table,i);\n\t      }\n\t      // make it clickable to sort\n\t      headrow[i].sorttable_columnindex = i;\n\t      headrow[i].sorttable_tbody = table.tBodies[0];\n\t      dean_addEvent(headrow[i],\"click\", sorttable.innerSortFunction = function(e) {\n\n          if (this.className.search(/\\bsorttable_sorted\\b/) != -1) {\n            // if we're already sorted by this column, just\n            // reverse the table, which is quicker\n            sorttable.reverse(this.sorttable_tbody);\n            this.className = this.className.replace('sorttable_sorted',\n                                                    'sorttable_sorted_reverse');\n            this.removeChild(document.getElementById('sorttable_sortfwdind'));\n            sortrevind = document.createElement('span');\n            sortrevind.id = \"sorttable_sortrevind\";\n            sortrevind.innerHTML = stIsIE ? '&nbsp<font face=\"webdings\">5</font>' : '&nbsp;\\u2191';\n            this.appendChild(sortrevind);\n            return;\n          }\n          if (this.className.search(/\\bsorttable_sorted_reverse\\b/) != -1) {\n            // if we're already sorted by this column in reverse, just\n            // re-reverse the table, which is quicker\n            sorttable.reverse(this.sorttable_tbody);\n            this.className = this.className.replace('sorttable_sorted_reverse',\n                                                    'sorttable_sorted');\n            this.removeChild(document.getElementById('sorttable_sortrevind'));\n            sortfwdind = document.createElement('span');\n            sortfwdind.id = \"sorttable_sortfwdind\";\n            sortfwdind.innerHTML = stIsIE ? '&nbsp<font face=\"webdings\">6</font>' : '&nbsp;\\u2193';\n            this.appendChild(sortfwdind);\n            return;\n          }\n\n          // remove sorttable_sorted classes\n          theadrow = this.parentNode;\n          forEach(theadrow.childNodes, function(cell) {\n            if (cell.nodeType == 1) { // an element\n              cell.className = cell.className.replace('sorttable_sorted_reverse','');\n              cell.className = cell.className.replace('sorttable_sorted','');\n            }\n          });\n          sortfwdind = document.getElementById('sorttable_sortfwdind');\n          if (sortfwdind) { sortfwdind.parentNode.removeChild(sortfwdind); }\n          sortrevind = document.getElementById('sorttable_sortrevind');\n          if (sortrevind) { sortrevind.parentNode.removeChild(sortrevind); }\n\n          this.className += ' sorttable_sorted';\n          sortfwdind = document.createElement('span');\n          sortfwdind.id = \"sorttable_sortfwdind\";\n          sortfwdind.innerHTML = stIsIE ? '&nbsp<font face=\"webdings\">6</font>' : '&nbsp;\\u2193';\n          this.appendChild(sortfwdind);\n\n\t        // build an array to sort. This is a Schwartzian transform thing,\n\t        // i.e., we \"decorate\" each row with the actual sort key,\n\t        // sort based on the sort keys, and then put the rows back in order\n\t        // which is a lot faster because you only do getInnerText once per row\n\t        row_array = [];\n\t        col = this.sorttable_columnindex;\n\t        rows = this.sorttable_tbody.rows;\n\t        for (var j=0; j<rows.length; j++) {\n\t          row_array[row_array.length] = [sorttable.getInnerText(rows[j].cells[col]), rows[j]];\n\t        }\n\t        /* If you want a stable sort, uncomment the following line */\n\t        //sorttable.shaker_sort(row_array, this.sorttable_sortfunction);\n\t        /* and comment out this one */\n\t        row_array.sort(this.sorttable_sortfunction);\n\n\t        tb = this.sorttable_tbody;\n\t        for (var j=0; j<row_array.length; j++) {\n\t          tb.appendChild(row_array[j][1]);\n\t        }\n\n\t        delete row_array;\n\t      });\n\t    }\n    }\n  },\n\n  guessType: function(table, column) {\n    // guess the type of a column based on its first non-blank row\n    sortfn = sorttable.sort_alpha;\n    for (var i=0; i<table.tBodies[0].rows.length; i++) {\n      text = sorttable.getInnerText(table.tBodies[0].rows[i].cells[column]);\n      if (text != '') {\n        if (text.match(/^-?[$]?[\\d,.]+%?$/)) {\n          return sorttable.sort_numeric;\n        }\n        // check for a date: dd/mm/yyyy or dd/mm/yy\n        // can have / or . or - as separator\n        // can be mm/dd as well\n        possdate = text.match(sorttable.DATE_RE)\n        if (possdate) {\n          // looks like a date\n          first = parseInt(possdate[1]);\n          second = parseInt(possdate[2]);\n          if (first > 12) {\n            // definitely dd/mm\n            return sorttable.sort_ddmm;\n          } else if (second > 12) {\n            return sorttable.sort_mmdd;\n          } else {\n            // looks like a date, but we can't tell which, so assume\n            // that it's dd/mm (English imperialism!) and keep looking\n            sortfn = sorttable.sort_ddmm;\n          }\n        }\n      }\n    }\n    return sortfn;\n  },\n\n  getInnerText: function(node) {\n    // gets the text we want to use for sorting for a cell.\n    // strips leading and trailing whitespace.\n    // this is *not* a generic getInnerText function; it's special to sorttable.\n    // for example, you can override the cell text with a customkey attribute.\n    // it also gets .value for <input> fields.\n\n    if (!node) return \"\";\n\n    hasInputs = (typeof node.getElementsByTagName == 'function') &&\n                 node.getElementsByTagName('input').length;\n\n    if (node.getAttribute(\"sorttable_customkey\") != null) {\n      return node.getAttribute(\"sorttable_customkey\");\n    }\n    else if (typeof node.textContent != 'undefined' && !hasInputs) {\n      return node.textContent.replace(/^\\s+|\\s+$/g, '');\n    }\n    else if (typeof node.innerText != 'undefined' && !hasInputs) {\n      return node.innerText.replace(/^\\s+|\\s+$/g, '');\n    }\n    else if (typeof node.text != 'undefined' && !hasInputs) {\n      return node.text.replace(/^\\s+|\\s+$/g, '');\n    }\n    else {\n      switch (node.nodeType) {\n        case 3:\n          if (node.nodeName.toLowerCase() == 'input') {\n            return node.value.replace(/^\\s+|\\s+$/g, '');\n          }\n        case 4:\n          return node.nodeValue.replace(/^\\s+|\\s+$/g, '');\n          break;\n        case 1:\n        case 11:\n          var innerText = '';\n          for (var i = 0; i < node.childNodes.length; i++) {\n            innerText += sorttable.getInnerText(node.childNodes[i]);\n          }\n          return innerText.replace(/^\\s+|\\s+$/g, '');\n          break;\n        default:\n          return '';\n      }\n    }\n  },\n\n  reverse: function(tbody) {\n    // reverse the rows in a tbody\n    newrows = [];\n    for (var i=0; i<tbody.rows.length; i++) {\n      newrows[newrows.length] = tbody.rows[i];\n    }\n    for (var i=newrows.length-1; i>=0; i--) {\n       tbody.appendChild(newrows[i]);\n    }\n    delete newrows;\n  },\n\n  /* sort functions\n     each sort function takes two parameters, a and b\n     you are comparing a[0] and b[0] */\n  sort_numeric: function(a,b) {\n    aa = parseFloat(a[0].replace(/[^0-9.-]/g,''));\n    if (isNaN(aa)) aa = 0;\n    bb = parseFloat(b[0].replace(/[^0-9.-]/g,''));\n    if (isNaN(bb)) bb = 0;\n    return aa-bb;\n  },\n  sort_alpha: function(a,b) {\n    if (a[0]==b[0]) return 0;\n    if (a[0]<b[0]) return -1;\n    return 1;\n  },\n  sort_ddmm: function(a,b) {\n    mtch = a[0].match(sorttable.DATE_RE);\n    y = mtch[3]; m = mtch[2]; d = mtch[1];\n    if (m.length == 1) m = '0'+m;\n    if (d.length == 1) d = '0'+d;\n    dt1 = y+m+d;\n    mtch = b[0].match(sorttable.DATE_RE);\n    y = mtch[3]; m = mtch[2]; d = mtch[1];\n    if (m.length == 1) m = '0'+m;\n    if (d.length == 1) d = '0'+d;\n    dt2 = y+m+d;\n    if (dt1==dt2) return 0;\n    if (dt1<dt2) return -1;\n    return 1;\n  },\n  sort_mmdd: function(a,b) {\n    mtch = a[0].match(sorttable.DATE_RE);\n    y = mtch[3]; d = mtch[2]; m = mtch[1];\n    if (m.length == 1) m = '0'+m;\n    if (d.length == 1) d = '0'+d;\n    dt1 = y+m+d;\n    mtch = b[0].match(sorttable.DATE_RE);\n    y = mtch[3]; d = mtch[2]; m = mtch[1];\n    if (m.length == 1) m = '0'+m;\n    if (d.length == 1) d = '0'+d;\n    dt2 = y+m+d;\n    if (dt1==dt2) return 0;\n    if (dt1<dt2) return -1;\n    return 1;\n  },\n\n  shaker_sort: function(list, comp_func) {\n    // A stable sort function to allow multi-level sorting of data\n    // see: http://en.wikipedia.org/wiki/Cocktail_sort\n    // thanks to Joseph Nahmias\n    var b = 0;\n    var t = list.length - 1;\n    var swap = true;\n\n    while(swap) {\n        swap = false;\n        for(var i = b; i < t; ++i) {\n            if ( comp_func(list[i], list[i+1]) > 0 ) {\n                var q = list[i]; list[i] = list[i+1]; list[i+1] = q;\n                swap = true;\n            }\n        } // for\n        t--;\n\n        if (!swap) break;\n\n        for(var i = t; i > b; --i) {\n            if ( comp_func(list[i], list[i-1]) < 0 ) {\n                var q = list[i]; list[i] = list[i-1]; list[i-1] = q;\n                swap = true;\n            }\n        } // for\n        b++;\n\n    } // while(swap)\n  }\n}\n\n/* ******************************************************************\n   Supporting functions: bundled here to avoid depending on a library\n   ****************************************************************** */\n\n// Dean Edwards/Matthias Miller/John Resig\n\n/* for Mozilla/Opera9 */\nif (document.addEventListener) {\n    document.addEventListener(\"DOMContentLoaded\", sorttable.init, false);\n}\n\n/* for Internet Explorer */\n/*@cc_on @*/\n/*@if (@_win32)\n    document.write(\"<script id=__ie_onload defer src=javascript:void(0)><\\/script>\");\n    var script = document.getElementById(\"__ie_onload\");\n    script.onreadystatechange = function() {\n        if (this.readyState == \"complete\") {\n            sorttable.init(); // call the onload handler\n        }\n    };\n/*@end @*/\n\n/* for Safari */\nif (/WebKit/i.test(navigator.userAgent)) { // sniff\n    var _timer = setInterval(function() {\n        if (/loaded|complete/.test(document.readyState)) {\n            sorttable.init(); // call the onload handler\n        }\n    }, 10);\n}\n\n/* for other browsers */\nwindow.onload = sorttable.init;\n\n// written by Dean Edwards, 2005\n// with input from Tino Zijdel, Matthias Miller, Diego Perini\n\n// http://dean.edwards.name/weblog/2005/10/add-event/\n\nfunction dean_addEvent(element, type, handler) {\n\tif (element.addEventListener) {\n\t\telement.addEventListener(type, handler, false);\n\t} else {\n\t\t// assign each event handler a unique ID\n\t\tif (!handler.$$guid) handler.$$guid = dean_addEvent.guid++;\n\t\t// create a hash table of event types for the element\n\t\tif (!element.events) element.events = {};\n\t\t// create a hash table of event handlers for each element/event pair\n\t\tvar handlers = element.events[type];\n\t\tif (!handlers) {\n\t\t\thandlers = element.events[type] = {};\n\t\t\t// store the existing event handler (if there is one)\n\t\t\tif (element[\"on\" + type]) {\n\t\t\t\thandlers[0] = element[\"on\" + type];\n\t\t\t}\n\t\t}\n\t\t// store the event handler in the hash table\n\t\thandlers[handler.$$guid] = handler;\n\t\t// assign a global event handler to do all the work\n\t\telement[\"on\" + type] = handleEvent;\n\t}\n};\n// a counter used to create unique IDs\ndean_addEvent.guid = 1;\n\nfunction removeEvent(element, type, handler) {\n\tif (element.removeEventListener) {\n\t\telement.removeEventListener(type, handler, false);\n\t} else {\n\t\t// delete the event handler from the hash table\n\t\tif (element.events && element.events[type]) {\n\t\t\tdelete element.events[type][handler.$$guid];\n\t\t}\n\t}\n};\n\nfunction handleEvent(event) {\n\tvar returnValue = true;\n\t// grab the event object (IE uses a global event object)\n\tevent = event || fixEvent(((this.ownerDocument || this.document || this).parentWindow || window).event);\n\t// get a reference to the hash table of event handlers\n\tvar handlers = this.events[event.type];\n\t// execute each event handler\n\tfor (var i in handlers) {\n\t\tthis.$$handleEvent = handlers[i];\n\t\tif (this.$$handleEvent(event) === false) {\n\t\t\treturnValue = false;\n\t\t}\n\t}\n\treturn returnValue;\n};\n\nfunction fixEvent(event) {\n\t// add W3C standard event methods\n\tevent.preventDefault = fixEvent.preventDefault;\n\tevent.stopPropagation = fixEvent.stopPropagation;\n\treturn event;\n};\nfixEvent.preventDefault = function() {\n\tthis.returnValue = false;\n};\nfixEvent.stopPropagation = function() {\n  this.cancelBubble = true;\n}\n\n// Dean's forEach: http://dean.edwards.name/base/forEach.js\n/*\n\tforEach, version 1.0\n\tCopyright 2006, Dean Edwards\n\tLicense: http://www.opensource.org/licenses/mit-license.php\n*/\n\n// array-like enumeration\nif (!Array.forEach) { // mozilla already supports this\n\tArray.forEach = function(array, block, context) {\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tblock.call(context, array[i], i, array);\n\t\t}\n\t};\n}\n\n// generic enumeration\nFunction.prototype.forEach = function(object, block, context) {\n\tfor (var key in object) {\n\t\tif (typeof this.prototype[key] == \"undefined\") {\n\t\t\tblock.call(context, object[key], key, object);\n\t\t}\n\t}\n};\n\n// character enumeration\nString.forEach = function(string, block, context) {\n\tArray.forEach(string.split(\"\"), function(chr, index) {\n\t\tblock.call(context, chr, index, string);\n\t});\n};\n\n// globally resolve forEach enumeration\nvar forEach = function(object, block, context) {\n\tif (object) {\n\t\tvar resolve = Object; // default\n\t\tif (object instanceof Function) {\n\t\t\t// functions have a \"length\" property\n\t\t\tresolve = Function;\n\t\t} else if (object.forEach instanceof Function) {\n\t\t\t// the object implements a custom forEach method so use that\n\t\t\tobject.forEach(block, context);\n\t\t\treturn;\n\t\t} else if (typeof object == \"string\") {\n\t\t\t// the object is a string\n\t\t\tresolve = String;\n\t\t} else if (typeof object.length == \"number\") {\n\t\t\t// the object is array-like\n\t\t\tresolve = Array;\n\t\t}\n\t\tresolve.forEach(object, block, context);\n\t}\n};\n\n","// Function to parse a commandline\n// The line is broken into individual tokens\n// Each token that is recognized as a JS type will get that type\n// Otherwise the token is considered to be a string\n// name-value pairs in the form \"name=value\" are added to the \"params\" dictionary\n// other parameters are added to the \"args\" array\n// e.g.:\n//   test \"1 2 3\" 4 x=7 {\"a\":1, \"b\":2}\n// is a command line of 5 tokens\n//   string: \"test\"\n//   string: \"1 2 3\"\n//   number: 4\n//   number: 7\n//   dictionary: {\"a\":1, \"b\": 2}\n// the array will be filled with 4 elements\n// the dictionary will be filled with one element named \"x\"\n\n\n// note that \"none\" is not case-insensitive, but \"null\" is\nconst patNull = /^(None|null|Null|NULL)$/;\n\nconst patBooleanFalse = /^(false|False|FALSE)$/;\nconst patBooleanTrue = /^(true|True|TRUE)$/;\n\nconst patJid = /^[2-9][0-9][0-9][0-9][01][0-9][0-3][0-9][0-2][0-9][0-5][0-9][0-5][0-9][0-9][0-9][0-9][0-9][0-9][0-9]$/;\n\nconst patInteger = /^((0)|([-+]?[1-9][0-9]*))$/;\n\nconst patFloat = /^([-+]?(([0-9]+)|([0-9]+[.][0-9]*)|([0-9]*[.][0-9]+))([eE][-+]?[0-9]+)?)$/;\n\n\nwindow.parseCommandLine = function(toRun, args, params) {\n  // just in case the user typed some extra whitespace\n  // at the start of the line\n  toRun = toRun.trim();\n\n  while(toRun.length > 0)\n  {\n    let name = null;\n\n    let firstSpaceChar = toRun.indexOf(\" \");\n    if(firstSpaceChar < 0)\n      firstSpaceChar = toRun.length;\n    const firstEqualSign = toRun.indexOf(\"=\");\n    if(firstEqualSign >= 0 && firstEqualSign < firstSpaceChar) {\n      // we have the name of a named parameter\n      name = toRun.substr(0, firstEqualSign);\n      toRun = toRun.substr(firstEqualSign + 1);\n      if(toRun === \"\" || toRun[0] === \" \") {\n        return \"Must have value for named parameter '\" + name + \"'\";\n      }\n    }\n\n    // Determine whether the JSON string starts with a known\n    // character for a JSON type\n    let endChar = undefined;\n    let objType = undefined;\n    if(toRun[0] === \"{\") {\n      endChar = \"}\";\n      objType = \"dictionary\";\n    } else if(toRun[0] === \"[\") {\n      endChar = \"]\";\n      objType = \"array\";\n    } else if(toRun[0] === \"\\\"\") {\n      // note that json does not support single-quoted strings\n      endChar = \"\\\"\";\n      objType = \"double-quoted-string\";\n    }\n\n    let value;\n    if(endChar && objType) {\n      // The string starts with a character for a known JSON type\n      let p = 1;\n      while(true) {\n        // Try until the next closing character\n        let n = toRun.indexOf(endChar, p);\n        if(n < 0) {\n          return \"No valid \" + objType + \" found\";\n        }\n\n        // parse what we have found so far\n        // the string ends with a closing character\n        // but that may not be enough, e.g. \"{a:{}\"\n        const s = toRun.substring(0, n + 1);\n        try {\n          value = JSON.parse(s);\n        }\n        catch(err) {\n          // the string that we tried to parse is not valid json\n          // continue to add more text from the input\n          p = n + 1;\n          continue;\n        }\n\n        // the first part of the string is valid JSON\n        n = n + 1;\n        if(n < toRun.length && toRun[n] !== \" \") {\n          return \"Valid \" + objType + \", but followed by text:\" + toRun.substring(n) + \"...\";\n        }\n\n        // valid JSON and not followed by strange characters\n        toRun = toRun.substring(n);\n        break;\n      }\n    } else {\n      // everything else is a string (without quotes)\n      // when we are done, we'll see whether it actually is a number\n      // or any of the known constants\n      let str = \"\";\n      while(toRun.length > 0 && toRun[0] !== \" \") {\n        str += toRun[0];\n        toRun = toRun.substring(1);\n      }\n\n      // try to find whether the string is actually a known constant\n      // or integer or float\n      if(patNull.test(str)) {\n        value = null;\n      } else if(patBooleanFalse.test(str)) {\n        value = false;\n      } else if(patBooleanTrue.test(str)) {\n        value = true;\n      } else if(patJid.test(str)) {\n        // jids look like numbers but must be strings\n        value = str;\n      } else if(patInteger.test(str)) {\n        value = parseInt(str);\n      } else if(patFloat.test(str)) {\n        value = parseFloat(str);\n        if(!isFinite(value)) {\n          return \"Numeric argument has overflowed or is infinity\";\n        }\n      } else {\n        value = str;\n      }\n    }\n\n    if(name !== null) {\n      // named parameter\n      params[name] = value;\n    } else {\n      // anonymous parameter\n      args.push(value);\n    }\n\n    // ignore the whitespace before the next part\n    toRun = toRun.trim();\n  }\n\n  // succesfull (no error message return)\n  return null;\n};\n","window.elapsedToString = function(date) {\n  try {\n    const secondsPassed = (new Date().getTime() / 1000) - (date.getTime() / 1000);\n\n    if(secondsPassed < 0) return \"Magic happened in the future\";\n    if(secondsPassed < 20) return \"A few moments ago\";\n    if(secondsPassed < 120) return \"A few minutes ago\";\n\n    if(secondsPassed < 60 * 60) {\n      const minutes = Math.round(secondsPassed / 60);\n      return minutes + \" minute(s) ago\";\n    }\n\n    if(secondsPassed < 60 * 60 * 24) {\n      const hours = Math.round(secondsPassed / 60 / 60);\n      return hours + \" hour(s) ago\";\n    }\n\n    if(secondsPassed < 60 * 60 * 24 * 2) {\n      return \"Yesterday\";\n    }\n\n    if(secondsPassed < 60 * 60 * 24 * 30) {\n      const days = Math.round(secondsPassed / 60 / 60 / 24);\n      return days + \" days ago\";\n    }\n\n    return \"A long time ago, in a galaxy far, far away\";\n  }\n  catch(err) {\n    //console.error(err);\n    return \"It did happen, when I don't know\";\n  }\n};\n\nwindow.createElement = function(type, className, content) {\n  const element = document.createElement(type);\n  element.classList.add(className);\n  if(content !== \"\") element.innerHTML = content;\n  return element;\n};\n\nwindow.getQueryParam = function(name) {\n  const vars = [];\n  const hashes = window.location.href.slice(window.location.href.indexOf(\"?\") + 1).split(\"&\");\n  for(const hash of hashes) {\n    const hashparts = hash.split(\"=\");\n    vars.push(hashparts[0]);\n    if(hashparts[0] === name) return hashparts[1];\n  }\n  return undefined;\n};\n\nwindow.escape = function(input) {\n  const div = document.createElement(\"div\");\n  div.appendChild(document.createTextNode(input));\n  return div.innerHTML;\n};\n\nwindow.makeTargetText = function(targetType, targetPattern) {\n  // note that \"glob\" is the most common case\n  // when used from the command-line, that target-type\n  // is not even specified.\n  // therefore we suppress that one\n\n  // note that due to bug in 2018.3, all finished jobs\n  // will be shown as if of type \"list\"\n  // therefore we suppress that one\n\n  let returnText = \"\";\n  if(targetType !== \"glob\" && targetType !== \"list\") {\n    returnText = targetType + \" \";\n  }\n  returnText += targetPattern;\n  return returnText;\n};\n","export class Route {\n\n  constructor(path, name, page_selector, menuitem_selector, router) {\n    this.path = new RegExp(path);\n    this.name = name;\n    this.page_element = document.querySelector(page_selector);\n    this.router = router;\n    if(menuitem_selector) {\n      this.menuitem_element1 = document.querySelector(menuitem_selector + \"1\");\n      this.menuitem_element2 = document.querySelector(menuitem_selector + \"2\");\n    }\n  }\n\n  getName() {\n    return this.name;\n  }\n\n  getPath() {\n    return this.path;\n  }\n\n  getPageElement() {\n    return this.page_element;\n  }\n\n  getMenuItemElement1() {\n    return this.menuitem_element1;\n  }\n\n  getMenuItemElement2() {\n    return this.menuitem_element2;\n  }\n\n  static _createTd(className, content) {\n    const td = document.createElement(\"td\");\n    if(className) td.className = className;\n    td.innerText = content;\n    return td;\n  }\n\n  static _createDiv(className, content) {\n    const div = document.createElement(\"div\");\n    if(className) div.className = className;\n    div.innerText = content;\n    return div;\n  }\n\n  _runCommand(evt, targetString, commandString) {\n    this._runFullCommand(evt, \"\", targetString, commandString);\n  }\n\n  _runFullCommand(evt, targettype, targetString, commandString) {\n    this.router.commandbox._showManualRun(evt);\n    const target = document.querySelector(\"#target\");\n    const command = document.querySelector(\"#command\");\n    const targetbox = document.querySelector(\"#targetbox\");\n\n    // handle https://github.com/saltstack/salt/issues/48734\n    if(targetString === \"unknown-target\") {\n      // target was lost...\n      targetString = \"\";\n      targettype = \"\";\n    }\n    if(commandString.startsWith(\"wheel.\") && targetString.endsWith(\"_master\")) {\n      // target was {hostname}_master...\n      // too bad when the real hostname is actually like that :-(\n      targetString = \"\";\n      targettype = \"\";\n    }\n    if(commandString.startsWith(\"runners.\")) {\n      // runners do not have a target, so do not bother\n      targetString = \"\";\n      targettype = \"\";\n    }\n\n    if(!targetString) targetString = \"\";\n    if(!commandString) commandString = \"\";\n\n    if(targettype) {\n      let tt = targettype;\n      // show the extended selection controls when\n      targetbox.style.display = \"inherit\";\n      if(tt !== \"glob\" && tt !== \"list\" && tt !== \"compound\" && tt !== \"nodegroup\") {\n        // we don't support that, revert to standard (not default)\n        tt = \"glob\";\n      }\n      TargetType.setTargetType(tt);\n    }\n\n    target.value = targetString;\n    command.value = commandString;\n    // the menu may become (in)visible due to content of command field\n    this.router.commandbox.cmdmenu.verifyAll();\n  }\n\n  _decodeArgumentsText(rawArguments) {\n    const rawObject = rawArguments;\n    let argumentsText = \"\";\n\n    switch (typeof rawObject) {\n    case \"undefined\":\n      argumentsText = \"\";\n      break;\n    case \"object\": {      \n      // object args need special treatment\n      const keys = Object.keys(rawObject).sort();\n      for(const key of keys) {\n        // remove speciall parameters like __kwargs__\n        if(!key.includes(\"__\")) {\n          argumentsText = argumentsText + key + \"=\" + rawObject[key];\n        }\n      }\n      break;\n    }\n    default:\n      argumentsText = JSON.stringify(rawObject);\n      break;\n    }\n\n    return argumentsText;\n  }\n\n}\n","import {Route} from './Route';\n\nexport class LoginRoute extends Route {\n\n  constructor(router) {\n    super(\"^[\\/]login$\", \"Login\", \"#page_login\", \"\", router);\n\n    this.loginPending = false;\n\n    this.onLogin = this.onLogin.bind(this);\n    this.onLoginSuccess = this.onLoginSuccess.bind(this);\n    this.onLoginFailure = this.onLoginFailure.bind(this);\n    this.registerEventListeners();\n  }\n\n  onShow() {\n    const eauthSelector = document.querySelector(\"#login-form #eauth\");\n    const eauthValue = window.localStorage.getItem(\"eauth\");\n    eauthSelector.value = eauthValue ? eauthValue : \"pam\";\n  }\n\n  registerEventListeners() {\n    const submit = document.querySelector(\"#login-form\");\n    submit.addEventListener(\"submit\", this.onLogin);\n  }\n\n  onLogin(evt) {\n    evt.preventDefault();\n    if(this.loginPending) return; //Don't continue if waiting on a request\n\n    const username = document.querySelector(\"#username\").value;\n    const password = document.querySelector(\"#password\").value;\n    const eauth = document.querySelector(\"#eauth\").value;\n\n    this.toggleForm(false);\n    this.router.api.login(username, password, eauth)\n      .then(this.onLoginSuccess, this.onLoginFailure);\n  }\n\n  onLoginSuccess() {\n    this.toggleForm(true);\n\n    const notice = document.querySelector(\".notice-wrapper\");\n\n    const success = Route._createDiv(\"notice\", \"Please wait...\");\n    success.style.backgroundColor = \"#4CAF50\";\n    notice.replaceChild(success, notice.firstChild);\n\n    document.querySelector(\"#username\").disabled = true;\n    document.querySelector(\"#password\").disabled = true;\n    document.querySelector(\"#eauth\").disabled = true;\n\n    notice.className = \"notice-wrapper\";\n    notice.focus(); //Used to trigger a reflow (to restart animation)\n    notice.className = \"notice-wrapper show\";\n\n    this.router.goTo(\"/\");\n  }\n\n  onLoginFailure() {\n    this.toggleForm(true);\n\n    const notice = document.querySelector(\".notice-wrapper\");\n\n    const authFailed = Route._createDiv(\"notice\", \"Authentication failed\");\n    authFailed.style.backgroundColor = \"#F44336\";\n\n    notice.replaceChild(authFailed, notice.firstChild);\n    notice.className = \"notice-wrapper\";\n    notice.focus(); //Used to trigger a reflow (to restart animation)\n    notice.className = \"notice-wrapper show\";\n  }\n\n  toggleForm(allowSubmit) {\n    this.loginPending = !allowSubmit;\n    document.querySelector(\"#login-form input[type='submit']\")\n      .disabled = !allowSubmit;\n  }\n\n}\n","export class OutputDocumentation {\n\n  // test whether the returned data matches the requested data\n  static isDocuKeyMatch(key, filterKey) {\n\n    // no filter is always OK\n    if(!filterKey) return true;\n\n    // an exact match is great\n    if(key === filterKey) return true;\n\n    // a true prefix is also ok\n    if(key.startsWith(filterKey + \".\")) return true;\n\n    // no match\n    return false;\n  }\n\n\n  // we only treat output as documentation output when it sticks to strict rules\n  // all minions must return strings\n  // and when its key matches the requested documentation\n  // empty values are allowed due to errors in the documentation\n  // 'output' is needed like this to prevent an error during testing\n  static isDocumentationOutput(output, response, command) {\n\n    if(!output.isOutputFormatAllowed(\"doc\")) return false;\n\n    let result = false;\n\n    // reduce the search key to match the data in the response\n    command = OutputDocumentation.reduceFilterKey(command);\n\n    for(const hostname of Object.keys(response)) {\n\n      const output = response[hostname];\n\n      if(!output) {\n        // some commands do not have help-text\n        // e.g. wheel.key.get_key\n        continue;\n      }\n\n      if(typeof output !== \"object\") {\n        // strange --> no documentation object\n        return false;\n      }\n\n      // arrays are also objects,\n      // but not what we are looking for\n      if(Array.isArray(output)) {\n        return false;\n      }\n\n      for(const key of Object.keys(output)) {\n        // e.g. for \"test.rand_str\"\n        if(output[key] === null) {\n          continue;\n        }\n\n        // but otherwise it must be a (documentation)string\n        if(typeof output[key] !== \"string\") {\n          return false;\n        }\n\n        // is this what we were looking for?\n        if(OutputDocumentation.isDocuKeyMatch(key, command)) {\n          result = true;\n        }\n      }\n    }\n\n    return result;\n  }\n\n\n  // reduce the search key to match the data in the response\n  static reduceFilterKey(filterKey) {\n    if(filterKey === \"wheel\") {\n      return \"\";\n    }\n    if(filterKey.startsWith(\"wheel.\")) {\n      // strip the prefix \"wheel.\"\n      return filterKey.substring(6);\n    }\n\n    if(filterKey === \"runners\") {\n      return \"\";\n    }\n    if(filterKey.startsWith(\"runners.\")) {\n      // strip the prefix \"runners.\"\n      return filterKey.substring(8);\n    }\n\n    return filterKey;\n  }\n\n\n  // documentation is requested from all targetted minions\n  // these all return roughly the same output\n  // it is a big waste of screen lines to show the output for each minion\n  // so the output is reduced to the output from a single minion only\n  // this is exactly what the salt commandline also does\n  // Parameters:\n  //   response: the data returned from all minions\n  //   visualKey: the name under which the result must be visualized\n  //              this replaces the traditional minion-name\n  //   filterKey: the prefix (or the full command) that the documentation\n  //              was requested for. The internal functions for WHEEL and\n  //              RUNNERS always return all documentation in that category\n  //              thus that response must be reduced.\n  static reduceDocumentationOutput(response, visualKey, filterKey) {\n    if(!response || typeof response !== \"object\") {\n      // strange --> don't try to fix anything\n      return;\n    }\n\n    // reduce the search key to match the data in the response\n    // i.e. remove the prefixes for \"wheel\" and \"runners\"\n    filterKey = OutputDocumentation.reduceFilterKey(filterKey);\n\n    let selectedMinion = null;\n    for(const hostname of Object.keys(response)) {\n\n      // When we already found the documentation ignore all others\n      if(selectedMinion) {\n        delete response[hostname];\n        continue;\n      }\n\n      // make sure it is an object (instead of e.g. \"false\" for an offline minion)\n      // when it is not, the whole entry is ignored\n      if(!response[hostname] || typeof response[hostname] !== \"object\") {\n        delete response[hostname];\n        continue;\n      }\n\n      // make sure that the entry matches with the requested command or prefix\n      // that's always the case for SYS.DOC output, but not for RUNNERS.DOC.RUNNER\n      // and/or RUNNERS.DOC.WHEEL.\n      const hostResponse = response[hostname];\n      for(const key of Object.keys(hostResponse)) {\n\n        // is this what we were looking for?\n        if(!OutputDocumentation.isDocuKeyMatch(key, filterKey)) {\n          // no match, ignore the whole entry\n          delete hostResponse[key];\n        }\n      }\n\n      // no documentation present (or left) on this minion?\n      // then discard the result of this minion\n      if(Object.keys(hostResponse).length === 0) {\n        delete response[hostname];\n        continue;\n      }\n\n      // we have found documentation output\n      // mark all other documentation for discarding\n      selectedMinion = hostname;\n    }\n\n    if(selectedMinion) {\n      // basically rename the key\n      const savedDocumentation = response[selectedMinion];\n      delete response[selectedMinion];\n      response[visualKey] = savedDocumentation;\n    } else {\n      // prepare a dummy response when no documentation could be found\n      // otherwise leave all documentation responses organized by minion\n      response[\"dummy\"] = { };\n      response[\"dummy\"][visualKey] = \"no documentation found\";\n    }\n  }\n\n  // add the output of a documentation command to the display\n  static addDocumentationOutput(outputContainer, response) {\n\n    // we expect no hostnames present\n    // as it should have been reduced already\n    for(const hostname of Object.keys(response)) {\n\n      const hostResponse = response[hostname];\n\n      for(const key of Object.keys(hostResponse).sort()) {\n\n        let out = hostResponse[key];\n        if(out === null) continue;\n        out = out.trimRight();\n\n        // internal links: remove the \".. rubric::\" prefix\n        // e.g. in \"sys.doc state.apply\"\n        out = out.replace(/[.][.] rubric:: */g, \"\");\n\n        // internal links: remove prefixes like \":mod:\" and \":py:func:\"\n        // e.g. in \"sys.doc state.apply\"\n        out = out.replace(/(:[a-z_]*)*:`/g, \"`\");\n\n        // internal links: remove link indicators in highlighted text\n        // e.g. in \"sys.doc state.apply\"\n        out = out.replace(/[ \\n]*<[^`]*>`/gm, \"`\");\n\n        // turn text into html\n        // e.g. in \"sys.doc cmd.run\"\n        out = out.replace(/&/g, \"&amp;\");\n\n        // turn text into html\n        // e.g. in \"sys.doc state.template\"\n        out = out.replace(/</g, \"&lt;\");\n\n        // turn text into html\n        // e.g. in \"sys.doc state.template\"\n        out = out.replace(/>/g, \"&gt;\");\n\n        // external links\n        // e.g. in \"sys.doc pkg.install\"\n        while(out.includes(\".. _\")) {\n          // take only a line containing \".. _\"\n          const reference = out.\n            replace(/^(.|\\n|\\r)*[.][.] _/m, \"\").\n            replace(/(\\n|\\r)(.|\\n|\\r)*$/m, \"\");\n          const words = reference.split(\": \");\n          if(words.length !== 2) { console.log(\"words\", words); break; }\n          const link = words[0];\n          const target = words[1];\n          // add link to all references\n          while(out.includes(link + \"_\")) {\n            out = out.replace(\n              link + \"_\",\n              \"<a href='\" + target + \"' target='_blank'>\" + link + \"</a>\");\n          }\n          // remove the item from the link table\n          out = out.replace(\".. _\" + reference, \"\");\n        }\n\n        // replace ``......``\n        // e.g. in \"sys.doc state.apply\"\n        out = out.replace(/``([^`]*)``/g, \"<span style='background-color: #575757'>$1</span>\");\n\n        // replace `......`\n        // e.g. in \"sys.doc state.apply\"\n        out = out.replace(/`([^`]*)`/g, \"<span style='color: yellow'>$1</span>\");\n\n        // remove whitespace at end of lines\n        out = out.replace(/  *\\n/gm, \"\");\n\n        // remove duplicate empty lines (usually due to previous rule)\n        out = out.replace(/\\n\\n\\n*/gm, \"\\n\\n\");\n\n        outputContainer.innerHTML +=\n          \"<div><span class='hostname'>\" + key + \"</span>:</br><pre style='height: initial; overflow-y: initial;'>\" + out + \"</pre></div>\";\n      }\n    }\n  }\n\n}","import {Output} from './Output';\n\nexport class OutputHighstate {\n\n  static isHighStateOutput(command, response) {\n\n    if(!Output.isOutputFormatAllowed(\"highstate\")) return false;\n\n    if(typeof response !== \"object\") return false;\n    if(Array.isArray(response)) return false;\n    if(command !== \"state.apply\" && command !== \"state.highstate\") return false;\n    for(const key of Object.keys(response)) {\n      const components = key.split(\"_|-\");\n      if(components.length !== 4) return false;\n    }\n    return true;\n  }\n\n  static getDurationClause(millis) {\n    if(millis === 1) {\n      return `${millis} millisecond`;\n    }\n    if(millis < 1000) {\n      return `${millis} milliseconds`;\n    }\n    if(millis === 1000) {\n      return `${millis/1000} second`;\n    }\n    return `${millis/1000} seconds`;\n  }\n\n  static getHighStateLabel(hostname, hostResponse) {\n    let anyFailures = false;\n    let anySkips = false;\n    // do not use Object.entries, that is not supported by the test framework\n    for(const key of Object.keys(hostResponse)) {\n      const task = hostResponse[key];\n      if(task.result === null) anySkips = true;\n      else if(!task.result) anyFailures = true;\n    }\n\n    if(anyFailures) {\n      return Output.getHostnameHtml(hostname, \"host_failure\");\n    }\n    if(anySkips) {\n      return Output.getHostnameHtml(hostname, \"host_skips\");\n    }\n    return Output.getHostnameHtml(hostname, \"host_success\");\n  }\n\n  static getHighStateOutput(hostResponse) {\n\n    // The tasks are in an (unordered) object with uninteresting keys\n    // convert it to an array that is in execution order\n    // first put all the values in an array\n    const tasks = [];\n    Object.keys(hostResponse).forEach(\n      function(taskKey) {\n        hostResponse[taskKey].___key___ = taskKey;\n        tasks.push(hostResponse[taskKey]);\n      }\n    );\n    // then sort the array\n    tasks.sort(function(a, b) { return a.__run_num__ - b.__run_num__; } );\n\n    const indent = \"    \";\n\n    const div = document.createElement(\"div\");\n\n    let succeeded = 0;\n    let failed = 0;\n    let skipped = 0;\n    let total_millis = 0;\n    let changes = 0;\n    for(const task of tasks) {\n\n      const taskDiv = document.createElement(\"div\");\n\n      const span = document.createElement(\"span\");\n      if(task.result === null) {\n        // 2714 = HEAVY CHECK MARK\n        span.style.color = \"yellow\";\n        span.innerText = \"\\u2714\";\n        skipped += 1;\n      } else if(task.result) {\n        // 2714 = HEAVY CHECK MARK\n        span.style.color = \"green\";\n        span.innerText = \"\\u2714\";\n        succeeded += 1;\n      } else {\n        // 2718 = HEAVY BALLOT X\n        span.style.color = \"red\";\n        span.innerText = \"\\u2718\";\n        failed += 1;\n      }\n      taskDiv.append(span);\n\n      taskDiv.append(document.createTextNode(\" \"));\n\n      if(task.name) {\n        taskDiv.append(document.createTextNode(task.name));\n      } else {\n        // make sure that the checkbox/ballot-x is on a reasonable line\n        // also for the next \"from\" clause (if any)\n        taskDiv.append(document.createTextNode(\"(anonymous task)\"));\n      }\n\n      if(task.__id__ && task.__id__ !== task.name) {\n        taskDiv.append(document.createTextNode(\" id=\" + encodeURIComponent(task.__id__)));\n      }\n\n      if(task.__sls__) {\n        taskDiv.append(document.createTextNode(\n          \" (from \" + task.__sls__.replace(\".\", \"/\") + \".sls)\"));\n      }\n\n      const components = task.___key___.split(\"_|-\");\n      taskDiv.append(document.createElement(\"br\"));\n      taskDiv.append(document.createTextNode(\n        indent + \"Function is \" + components[0] + \".\" + components[3]));\n\n      if(task.comment) {\n        taskDiv.append(document.createElement(\"br\"));\n        let txt = task.comment;\n        // trim extra whitespace\n        txt = txt.replace(/[ \\r\\n]+$/g, \"\");\n        // indent extra lines\n        txt = txt.replace(/[\\n]+/g, \"\\n\" + indent);\n        taskDiv.append(document.createTextNode(indent + txt));\n      }\n\n      if(task.hasOwnProperty(\"changes\")) {\n        if(typeof task.changes !== \"object\" || Array.isArray(task.changes)) {\n          taskDiv.append(document.createElement(\"br\"));\n          taskDiv.append(document.createTextNode(indent + JSON.stringify(task.changes)));\n        } else {\n          for(const key of Object.keys(task.changes).sort()) {\n            changes = changes + 1;\n            const change = task.changes[key];\n            // 25BA = BLACK RIGHT-POINTING POINTER\n            // don't use arrows here, these are higher than a regular\n            // text-line and disturb the text-flow\n            if(typeof change === \"string\" && change.includes(\"\\n\")) {\n              taskDiv.append(document.createElement(\"br\"));\n              // show multi-line text as a separate block\n              taskDiv.append(document.createTextNode(indent + key + \":\"));\n              const lines = change.trim().split(\"\\n\");\n              for(const line of lines) {\n                taskDiv.append(document.createElement(\"br\"));\n                taskDiv.append(document.createTextNode(\"      \" + line));\n              }\n            } else if(typeof change !== \"object\" || Array.isArray(task.change)) {\n              // show all other non-objects in a simple way\n              taskDiv.append(document.createElement(\"br\"));\n              taskDiv.append(document.createTextNode(\n                indent + key + \": \" +\n                JSON.stringify(change)));\n            } else {\n              // treat old->new first\n              if(change.hasOwnProperty(\"old\") && change.hasOwnProperty(\"new\")) {\n                taskDiv.append(document.createElement(\"br\"));\n                // place changes on one line\n                taskDiv.append(document.createTextNode(\n                  indent + key + \": \" +\n                  JSON.stringify(change.old) + \" \\u25BA \" +\n                  JSON.stringify(change.new)));\n                delete change.old;\n                delete change.new;\n              }\n              // then show whatever remains\n              for(const taskkey of Object.keys(change).sort()) {\n                taskDiv.append(document.createElement(\"br\"));\n                taskDiv.append(document.createTextNode(\n                  indent + key + \": \" + taskkey + \": \" +\n                  JSON.stringify(change[taskkey])));\n              }\n            }\n          }\n        }\n      }\n\n      if(task.hasOwnProperty(\"start_time\")) {\n        taskDiv.append(document.createElement(\"br\"));\n        taskDiv.append(document.createTextNode(\n          indent + \"Started at \" + task.start_time));\n      }\n\n      if(task.hasOwnProperty(\"duration\")) {\n        const millis = Math.round(task.duration);\n        total_millis += millis;\n        if(millis >= 10) {\n          // anything below 10ms is not worth reporting\n          // report only the \"slow\" jobs\n          // it still counts for the grand total thought\n          taskDiv.append(document.createElement(\"br\"));\n          taskDiv.append(document.createTextNode(\n            indent + \"Duration \" + OutputHighstate.getDurationClause(millis)));\n        }\n      }\n\n      // show any unknown attribute of a task\n      // do not use Object.entries, that is not supported by the test framework\n      for(const key of Object.keys(task)) {\n        const item = task[key];\n        if(key === \"___key___\") continue; // ignored, generated by us\n        if(key === \"__id__\") continue; // handled\n        if(key === \"__sls__\") continue; // handled\n        if(key === \"__run_num__\") continue; // handled, not shown\n        if(key === \"changes\") continue; // handled\n        if(key === \"comment\") continue; // handled\n        if(key === \"duration\") continue; // handled\n        if(key === \"host\") continue; // ignored, same as host\n        if(key === \"name\") continue; // handled\n        if(key === \"pchanges\") continue; // ignored, also ignored by cli\n        if(key === \"result\") continue; // handled\n        if(key === \"start_time\") continue; // handled\n        taskDiv.append(document.createElement(\"br\"));\n        taskDiv.append(document.createTextNode(\n          indent + key + \" = \" + JSON.stringify(item)));\n      }\n\n      div.append(taskDiv);\n    }\n\n    // add a summary line\n    let line = \"\";\n\n    if(succeeded) line += \", \" + succeeded + \" succeeded\";\n    if(skipped) line += \", \" + skipped + \" skipped\";\n    if(failed) line += \", \" + failed + \" failed\";\n    const total = succeeded + skipped + failed;\n    if(total !== succeeded && total !== skipped && total !== failed) {\n      line += \", \" + (succeeded + skipped + failed) + \" total\";\n    }\n\n    // note that the number of changes may be higher or lower\n    // than the number of tasks. tasks may contribute multiple\n    // changes, or tasks may have no changes.\n    if(changes === 1) line += \", \" + changes + \" change\";\n    else if(changes) line += \", \" + changes + \" changes\";\n\n    // multiple durations and significant?\n    if(total > 1 && total_millis >= 10) {\n      line += \", \" + OutputHighstate.getDurationClause(total_millis);\n    }\n\n    if(line) {\n      div.append(document.createTextNode(line.substring(2)));\n    }\n\n\n    return div;\n  }\n\n}","export class OutputJson {\n\n  // format an object as JSON\n  // returns NULL when it is not a simple object\n  // i.e. no multi-line objects, no indentation here\n  static formatSimpleJSON(value) {\n\n    if(value === null) {\n      // null is an object, but not really\n      // leave that to the builtin function\n      return JSON.stringify(value);\n    }\n\n    if(value === undefined) {\n      // JSON.stringify does not return a string for this\n      // but again a value undefined, we need a string\n      return \"undefined\";\n    }\n\n    if(typeof value !== \"object\") {\n      // a simple type\n      // leave that to the builtin function\n      return JSON.stringify(value);\n    }\n\n    if(Array.isArray(value) && value.length === 0) {\n      // show the brackets for an empty array a bit wider apart\n      return \"[ ]\";\n    }\n\n    if(!Array.isArray(value) && Object.keys(value).length === 0) {\n      // show the brackets for an empty object a bit wider apart\n      return \"{ }\";\n    }\n\n    return null;\n  }\n\n  // format an object as JSON\n  // based on an initial indentation and an indentation increment\n  static formatJSON(value, indentLevel=0) {\n\n    // indent each level with 4 spaces\n    const indentStep = 4;\n\n    let str = OutputJson.formatSimpleJSON(value);\n    if(str !== null) {\n      return str;\n    }\n\n    if(Array.isArray(value)) {\n      // an array\n      // put each element on its own line\n      str = \"[\";\n      let separator = \"\";\n      for(const elem of value) {\n        str += separator + \"\\n\" + \" \".repeat(indentLevel + indentStep) +\n          OutputJson.formatJSON(elem, indentLevel + indentStep);\n        separator = \",\";\n      }\n      str += \"\\n\" + \" \".repeat(indentLevel) + \"]\";\n      return str;\n    }\n\n    // regular object\n    // put each name+value on its own line\n    const keys = Object.keys(value);\n    str = \"{\";\n    let separator = \"\";\n    // do not use Object.entries, that is not supported by the test framework\n    for(const key of Object.keys(value).sort()) {\n      const item = value[key];\n      str += separator + \"\\n\" + \" \".repeat(indentLevel + indentStep) + \"\\\"\" + key + \"\\\": \" +\n        OutputJson.formatJSON(item, indentLevel + indentStep);\n      separator = \",\";\n    }\n    str += \"\\n\" + \" \".repeat(indentLevel) + \"}\";\n    return str;\n  }\n\n}","export class OutputNested {\n\n  // heavily inspired by the implementation for NESTED output\n  // as originally implemented in salt/output/nested.py from Salt\n\n  static ustring(indent, msg, prefix='', suffix='') {\n    return \" \".repeat(indent) + prefix + msg + suffix;\n  }\n\n  static display(ret, indent, prefix, out) {\n    if(ret === null) {\n      out.push(OutputNested.ustring(indent, \"None\", prefix));\n    } else if(ret === undefined) {\n      out.push(OutputNested.ustring(indent, \"undefined\", prefix));\n    } else if(typeof ret === \"boolean\" || typeof ret === \"number\") {\n      out.push(OutputNested.ustring(indent, ret, prefix));\n    } else if(typeof ret === \"string\") {\n      let first_line = true;\n      ret = ret.replace(/\\n$/, \"\");\n      for(const line of ret.split(\"\\n\")) {\n        let line_prefix = prefix;\n        if(!first_line)\n          line_prefix = \".\".repeat(prefix.length);\n        out.push(OutputNested.ustring(indent, line, line_prefix));\n        first_line = false;\n      }\n    } else if(typeof ret === \"object\" && Array.isArray(ret)) {\n      for(const ind of ret) {\n        if(typeof ind === \"object\" /* including array */ ) {\n          out.push(OutputNested.ustring(indent, '|_'));\n          let prefix;\n          if(typeof ind === \"object\" && !Array.isArray(ind))\n            prefix = '';\n          else\n            prefix ='-\\u00A0';\n          OutputNested.display(ind, indent + 2, prefix, out);\n        } else {\n          OutputNested.display(ind, indent, '-\\u00A0', out);\n        }\n      }\n    } else if(typeof ret === \"object\") {\n      if(indent) out.push(OutputNested.ustring(indent, '----------'));\n      for(const key of Object.keys(ret).sort()) {\n        const val = ret[key];\n        out.push(OutputNested.ustring(indent, key, prefix, ':'));\n        if(val !== null && val !== \"\") {\n          OutputNested.display(val, indent + 4, '', out);\n        }\n      }\n    }\n    return out;\n  }\n\n  static formatNESTED(value, indentLevel=0) {\n    const lines = OutputNested.display(value, 0, '', []);\n    return lines.join('\\n');\n  }\n\n}","import {Output} from './Output';\n\nexport class OutputSaltGuiHighstate {\n\n  // no separate `isHighStateOutput` here\n  // the implementation from OutputHighstate is (re)used\n\n  static getDurationClause(millis) {\n    if(millis === 1) {\n      return `${millis} millisecond`;\n    }\n    if(millis < 1000) {\n      return `${millis} milliseconds`;\n    }\n    if(millis === 1000) {\n      return `${millis/1000} second`;\n    }\n    return `${millis/1000} seconds`;\n  }\n\n  static getHighStateLabel(hostname, hostResponse) {\n    let anyFailures = false;\n    let anySkips = false;\n    // do not use Object.entries, that is not supported by the test framework\n    for(const key of Object.keys(hostResponse)) {\n      const task = hostResponse[key];\n      if(task.result === null) anySkips = true;\n      else if(!task.result) anyFailures = true;\n    }\n\n    if(anyFailures) {\n      return Output.getHostnameHtml(hostname, \"host_failure\");\n    }\n    if(anySkips) {\n      return Output.getHostnameHtml(hostname, \"host_skips\");\n    }\n    return Output.getHostnameHtml(hostname, \"host_success\");\n  }\n\n  static addChangesInfo(taskDiv, task, indent) {\n    if(!task.hasOwnProperty(\"changes\")) {\n      return 0;\n    }\n\n    if(typeof task.changes !== \"object\" || Array.isArray(task.changes)) {\n      taskDiv.append(document.createElement(\"br\"));\n      taskDiv.append(document.createTextNode(indent + JSON.stringify(task.changes)));\n      return 0;\n    }\n\n    let changes = 0;\n    for(const key of Object.keys(task.changes).sort()) {\n\n      changes = changes + 1;\n\n      const change = task.changes[key];\n\n      if(typeof change === \"string\" && change.includes(\"\\n\")) {\n        taskDiv.append(document.createElement(\"br\"));\n        // show multi-line text as a separate block\n        taskDiv.append(document.createTextNode(indent + key + \":\"));\n        const lines = change.trim().split(\"\\n\");\n        for(const line of lines) {\n          taskDiv.append(document.createElement(\"br\"));\n          taskDiv.append(document.createTextNode(\"      \" + line));\n        }\n        continue;\n      }\n\n      if(Array.isArray(change)) {\n        for(const idx in change) {\n          const task = change[idx];\n          taskDiv.append(document.createElement(\"br\"));\n          taskDiv.append(document.createTextNode(\n            indent + key + \"[\" + idx + \"]: \" + JSON.stringify(task)));\n        }\n        continue;\n      }\n\n      if(typeof change !== \"object\") {\n        // show all other non-objects in a simple way\n        taskDiv.append(document.createElement(\"br\"));\n        taskDiv.append(document.createTextNode(\n          indent + key + \": \" +\n          JSON.stringify(change)));\n        continue;\n      }\n\n      // treat old->new first\n      if(change.hasOwnProperty(\"old\") && change.hasOwnProperty(\"new\")) {\n        taskDiv.append(document.createElement(\"br\"));\n        // place changes on one line\n        // 25BA = BLACK RIGHT-POINTING POINTER\n        // don't use arrows here, these are higher than a regular\n        // text-line and disturb the text-flow\n        taskDiv.append(document.createTextNode(\n          indent + key + \": \" +\n          JSON.stringify(change.old) + \" \\u25BA \" +\n          JSON.stringify(change.new)));\n        delete change.old;\n        delete change.new;\n      }\n      // then show whatever remains\n      for(const taskkey of Object.keys(change).sort()) {\n        taskDiv.append(document.createElement(\"br\"));\n        taskDiv.append(document.createTextNode(\n          indent + key + \": \" + taskkey + \": \" +\n          JSON.stringify(change[taskkey])));\n      }\n    }\n  }\n\n  static getHighStateOutput(hostResponse) {\n\n    // The tasks are in an (unordered) object with uninteresting keys\n    // convert it to an array that is in execution order\n    // first put all the values in an array\n    const tasks = [];\n    Object.keys(hostResponse).forEach(\n      function(taskKey) {\n        hostResponse[taskKey].___key___ = taskKey;\n        tasks.push(hostResponse[taskKey]);\n      }\n    );\n    // then sort the array\n    tasks.sort(function(a, b) { return a.__run_num__ - b.__run_num__; } );\n\n    const indent = \"    \";\n\n    const div = document.createElement(\"div\");\n\n    let succeeded = 0;\n    let failed = 0;\n    let skipped = 0;\n    let total_millis = 0;\n    let changes = 0;\n    for(const task of tasks) {\n\n      const taskDiv = document.createElement(\"div\");\n\n      const span = document.createElement(\"span\");\n      if(task.result === null) {\n        // 2714 = HEAVY CHECK MARK\n        span.style.color = \"yellow\";\n        span.innerText = \"\\u2714\";\n        skipped += 1;\n      } else if(task.result) {\n        // 2714 = HEAVY CHECK MARK\n        span.style.color = \"green\";\n        span.innerText = \"\\u2714\";\n        succeeded += 1;\n      } else {\n        // 2718 = HEAVY BALLOT X\n        span.style.color = \"red\";\n        span.innerText = \"\\u2718\";\n        failed += 1;\n      }\n      taskDiv.append(span);\n\n      taskDiv.append(document.createTextNode(\" \"));\n\n      if(task.name) {\n        taskDiv.append(document.createTextNode(task.name));\n      } else {\n        // make sure that the checkbox/ballot-x is on a reasonable line\n        // also for the next \"from\" clause (if any)\n        taskDiv.append(document.createTextNode(\"(anonymous task)\"));\n      }\n\n      if(task.__id__ && task.__id__ !== task.name) {\n        taskDiv.append(document.createTextNode(\" id=\" + encodeURIComponent(task.__id__)));\n      }\n\n      if(task.__sls__) {\n        taskDiv.append(document.createTextNode(\n          \" (from \" + task.__sls__.replace(\".\", \"/\") + \".sls)\"));\n      }\n\n      const components = task.___key___.split(\"_|-\");\n      taskDiv.append(document.createElement(\"br\"));\n      taskDiv.append(document.createTextNode(\n        indent + \"Function is \" + components[0] + \".\" + components[3]));\n\n      if(task.comment) {\n        taskDiv.append(document.createElement(\"br\"));\n        let txt = task.comment;\n        // trim extra whitespace\n        txt = txt.replace(/[ \\r\\n]+$/g, \"\");\n        // indent extra lines\n        txt = txt.replace(/[\\n]+/g, \"\\n\" + indent);\n        taskDiv.append(document.createTextNode(indent + txt));\n      }\n\n      changes += OutputSaltGuiHighstate.addChangesInfo(taskDiv, task, indent);\n\n      if(task.hasOwnProperty(\"start_time\")) {\n        taskDiv.append(document.createElement(\"br\"));\n        taskDiv.append(document.createTextNode(\n          indent + \"Started at \" + Output.dateTimeStr(task.start_time)));\n      }\n\n      if(task.hasOwnProperty(\"duration\")) {\n        const millis = Math.round(task.duration);\n        total_millis += millis;\n        if(millis >= 10) {\n          // anything below 10ms is not worth reporting\n          // report only the \"slow\" jobs\n          // it still counts for the grand total thought\n          taskDiv.append(document.createElement(\"br\"));\n          taskDiv.append(document.createTextNode(\n            indent + \"Duration \" + OutputSaltGuiHighstate.getDurationClause(millis)));\n        }\n      }\n\n      // show any unknown attribute of a task\n      // do not use Object.entries, that is not supported by the test framework\n      for(const key of Object.keys(task)) {\n        const item = task[key];\n        if(key === \"___key___\") continue; // ignored, generated by us\n        if(key === \"__id__\") continue; // handled\n        if(key === \"__sls__\") continue; // handled\n        if(key === \"__run_num__\") continue; // handled, not shown\n        if(key === \"changes\") continue; // handled\n        if(key === \"comment\") continue; // handled\n        if(key === \"duration\") continue; // handled\n        if(key === \"host\") continue; // ignored, same as host\n        if(key === \"name\") continue; // handled\n        if(key === \"pchanges\") continue; // ignored, also ignored by cli\n        if(key === \"result\") continue; // handled\n        if(key === \"start_time\") continue; // handled\n        taskDiv.append(document.createElement(\"br\"));\n        taskDiv.append(document.createTextNode(\n          indent + key + \" = \" + JSON.stringify(item)));\n      }\n\n      div.append(taskDiv);\n    }\n\n    // add a summary line\n    let line = \"\";\n\n    if(succeeded) line += \", \" + succeeded + \" succeeded\";\n    if(skipped) line += \", \" + skipped + \" skipped\";\n    if(failed) line += \", \" + failed + \" failed\";\n    const total = succeeded + skipped + failed;\n    if(total !== succeeded && total !== skipped && total !== failed) {\n      line += \", \" + (succeeded + skipped + failed) + \" total\";\n    }\n\n    // note that the number of changes may be higher or lower\n    // than the number of tasks. tasks may contribute multiple\n    // changes, or tasks may have no changes.\n    if(changes === 1) line += \", \" + changes + \" change\";\n    else if(changes) line += \", \" + changes + \" changes\";\n\n    // multiple durations and significant?\n    if(total > 1 && total_millis >= 10) {\n      line += \", \" + OutputSaltGuiHighstate.getDurationClause(total_millis);\n    }\n\n    if(line) {\n      div.append(document.createTextNode(line.substring(2)));\n    }\n\n    return div;\n  }\n\n}","export class OutputYaml {\n\n  // format an object as YAML\n  // returns NULL when it is not a simple object\n  // i.e. no multi-line objects, no indentation here\n  static formatSimpleYAML(value) {\n\n    if(value === null) {\n      return \"null\";\n    }\n\n    if(value === undefined) {\n      return \"undefined\";\n    }\n\n    if(typeof value === \"boolean\") {\n      return value ? \"true\" : \"false\";\n    }\n\n    if(typeof value === \"string\") {\n      let needQuotes = false;\n\n      // simple number with extra 0's at the start is still a string\n      if(value.match(/^0[0-9]+$/)) return value;\n\n      if(!isNaN(Number(value))) needQuotes = true;\n\n      if(value.match(/^$/)) needQuotes = true;\n\n      if(value.match(/^ /)) needQuotes = true;\n      if(value.match(/ $/)) needQuotes = true;\n\n      if(value.match(/^@/)) needQuotes = true;\n      if(value.match(/^`/)) needQuotes = true;\n      if(value.match(/^%/)) needQuotes = true;\n\n      if(!value.match(/^[-a-z0-9_()./:+ ]+$/i)) needQuotes = true;\n\n      if(!needQuotes) return value;\n      return \"'\" + value + \"'\";\n    }\n\n    if(typeof value !== \"object\") {\n      return \"\" + value;\n    }\n\n    if(Array.isArray(value) && value.length === 0) {\n      // show the brackets for an empty array a bit wider apart\n      return \"[ ]\";\n    }\n\n    if(!Array.isArray(value) && Object.keys(value).length === 0) {\n      // show the brackets for an empty object a bit wider apart\n      return \"{ }\";\n    }\n\n    return null;\n  }\n\n  // format an object as YAML\n  // based on an initial indentation and an indentation increment\n  static formatYAML(value, indentLevel=0) {\n\n    // indent each level with this number of spaces\n    // note that list items are indented with 2 spaces\n    // independently of this setting to match the prefix \"- \"\n    const indentStep = 2;\n\n    const str = OutputYaml.formatSimpleYAML(value);\n    if(str !== null) {\n      return str;\n    }\n\n    if(Array.isArray(value)) {\n      let out = \"\";\n      let separator = \"\";\n      for(const item of value) {\n        out += separator + \"-\\u00A0\" + OutputYaml.formatYAML(item, indentLevel + 2);\n        separator = \"\\n\" + \" \".repeat(indentLevel);\n      }\n      return out;\n    }\n\n    // regular object\n    let out = \"\";\n    let separator = \"\";\n    for(const key of Object.keys(value).sort()) {\n      const item = value[key];\n      out += separator + key + \":\";\n      const str = OutputYaml.formatSimpleYAML(item);\n      if(str !== null) {\n        out += \" \" + str;\n      } else if(Array.isArray(item)) {\n        out += \"\\n\" + \" \".repeat(indentLevel) + OutputYaml.formatYAML(item, indentLevel);\n      } else if(typeof item === \"object\") {\n        out += \"\\n\" + \" \".repeat(indentLevel + indentStep) + OutputYaml.formatYAML(item, indentLevel + indentStep);\n      } else {\n        out += \"x\" + OutputYaml.formatYAML(item, indentLevel + indentStep);\n      }\n      separator = \"\\n\" + \" \".repeat(indentLevel);\n    }\n    return out;\n  }\n\n}","import {OutputDocumentation} from './OutputDocumentation';\nimport {OutputHighstate} from './OutputHighstate';\nimport {OutputJson} from './OutputJson';\nimport {OutputNested} from './OutputNested';\nimport {OutputSaltGuiHighstate} from './OutputSaltGuiHighstate';\nimport {OutputYaml} from './OutputYaml';\n\n// Functions to turn responses from the salt system into visual information\n// The following variations exist:\n// A) documentation output\n//    one of the responsing nodes is selected\n//    all other nodes are then ignored\n// B) state output\n//    the response is formatted as a list of tasks\n// C) error output\n//    the response is formatted as text\n// D) other output\n//    the response is formatted as json text\n//\n// Additionally the following preparations may be needed:\n// 1) Output from WHEEL functions\n//    This output is re-organized to let it appear as if the output comes\n//    from a single node called \"master\".\n// 2) Output from RUNNERS functions\n//    This output is re-organized to let it appear as if the output comes\n//    from a single node called \"master\".\n\n\nexport class Output {\n\n  static isOutputFormatAllowed(requestedOutputFormat) {\n    let supportedOutputFormats = null;\n    // window.localStorage is not defined during unit testing\n    if(window.localStorage) supportedOutputFormats = window.localStorage.getItem(\"output_formats\");\n    if(supportedOutputFormats === \"undefined\") supportedOutputFormats = null;\n    if(supportedOutputFormats === null) supportedOutputFormats = \"doc,saltguihighstate,json\";\n    return supportedOutputFormats.includes(requestedOutputFormat);\n  }\n\n  // Re-organize the output to let it appear as if the output comes\n  // from a single node called \"RUNNER\" or \"MASTER\".\n  // This way all responses are organized by minion\n  static addVirtualMinion(response, command) {\n\n    if(command.startsWith(\"runners.\")) {\n      // Add a new level in the object\n      return { \"RUNNER\": response };\n    }\n\n    if(command.startsWith(\"wheel.\")) {\n      // Add a new level in the object\n      return { \"WHEEL\": response };\n    }\n\n    // otherwise return the original\n    return response;\n  }\n\n  // compose the host/minion-name label that is shown with each response\n  static getHostnameHtml(hostname, extraClass=\"\") {\n    const span = document.createElement(\"span\");\n    span.classList.add(\"hostname\");\n    if(extraClass) span.classList.add(extraClass);\n    span.innerText = hostname;\n    return span;\n  }\n\n  // the output is only text\n  // note: do not return a text-node\n  static getTextOutput(hostResponse) {\n    // strip trailing whitespace\n    hostResponse = hostResponse.replace(/[ \\r\\n]+$/g, \"\");\n\n    // replace all returned JIDs to links\n    // typically found in the output of an async job\n    // patJid is defined in scripts/parsecmdline.js\n    if(hostResponse.match(patJid)) {\n      const a = document.createElement(\"a\");\n      a.href = \"/job?id=\" + encodeURIComponent(hostResponse);\n      a.innerText = hostResponse;\n      return a;\n    }\n\n    // all regular text\n    const span = document.createElement(\"span\");\n    span.innerText = hostResponse;\n    return span;\n  }\n\n\n  // format an object in the preferred style\n  static formatObject(obj) {\n    if(Output.isOutputFormatAllowed(\"json\")) {\n      return OutputJson.formatJSON(obj);\n    }\n\n    if(Output.isOutputFormatAllowed(\"yaml\")) {\n      return OutputYaml.formatYAML(obj);\n    }\n\n    if(Output.isOutputFormatAllowed(\"nested\")) {\n      return OutputNested.formatNESTED(obj);\n    }\n\n    // when nothing is allowed, JSON is always allowed\n    return OutputJson.formatJSON(obj);\n  }\n\n\n  // this is the default output form\n  // just format the returned objects\n  // note: do not return a text-node\n  static getNormalOutput(hostResponse) {\n    const content = Output.formatObject(hostResponse);\n    const element = document.createElement(content.includes(\"\\n\") ? \"div\" : \"span\");\n    element.innerText = content;\n    return element;\n  }\n\n\n  static hasProperties(obj, props) {\n    if(!obj || typeof obj !== \"object\") {\n      return false;\n    }\n    for(const prop of props) {\n      if(!obj.hasOwnProperty(prop)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n\n  static isAsyncOutput(response) {\n    let keys = Object.keys(response);\n    if(keys.length !== 2) return false;\n    keys = keys.sort();\n    if(keys[0] !== \"jid\") return false;\n    if(keys[1] !== \"minions\") return false;\n    return true;\n  }\n\n\n  // reformat a date-time string\n  // supported formats:\n  // (time) 19:05:01.561754\n  // (datetime) 2019, Jan 26 19:05:22.808348\n  // current action is (only):\n  // - reduce the number of digits for the fractional seconds\n  static dateTimeStr(str) {\n\n    // no available setting, then return the original\n    const datetime_fraction_digits_str = window.localStorage.getItem(\"datetime_fraction_digits\");\n    if(datetime_fraction_digits_str === null) return str;\n\n    // setting is not a number, return the original\n    let datetime_fraction_digits_nr = Number.parseInt(datetime_fraction_digits_str);\n    if(isNaN(datetime_fraction_digits_nr)) return str;\n\n    // stick to the min/max values without complaining\n    if(datetime_fraction_digits_nr < 0) datetime_fraction_digits_nr = 0;\n    if(datetime_fraction_digits_nr > 6) datetime_fraction_digits_nr = 6;\n\n    // find the fractional part (assume only one '.' in the string)\n    let dotPos = str.indexOf(\".\");\n    if(dotPos < 0) return str;\n\n    // with no digits, also remove the dot\n    if(datetime_fraction_digits_nr === 0) dotPos -= 1;\n\n    return str.substring(0, dotPos + datetime_fraction_digits_nr + 1);\n  }\n\n\n  // the orchestrator for the output\n  // determines what format should be used and uses that\n  static addResponseOutput(outputContainer, minions, response, command) {\n\n    // remove old content\n    outputContainer.innerText = \"\";\n\n    // reformat runner/wheel output into regular output\n    response = Output.addVirtualMinion(response, command);\n\n    if(typeof response === \"string\") {\n      // do not format a string as an object\n      outputContainer.innerText = response;\n      return;\n    }\n\n    if(typeof response !== \"object\" || Array.isArray(response)) {\n      outputContainer.innerText = Output.formatObject(response);\n      return;\n    }\n\n    // it might be documentation\n    const commandArg = command.trim().replace(/^[a-z.]* */i, \"\");\n    const isDocumentationOutput = OutputDocumentation.isDocumentationOutput(Output, response, commandArg);\n    if(isDocumentationOutput) {\n      OutputDocumentation.reduceDocumentationOutput(response, commandArg, commandArg);\n      OutputDocumentation.addDocumentationOutput(outputContainer, response);\n      return;\n    }\n\n    const allDiv = document.createElement(\"div\");\n\n    if(!command.startsWith(\"runners.\") &&\n       !command.startsWith(\"wheel.\") &&\n       !Output.isAsyncOutput(response)) {\n      // runners/wheel responses are not per minion\n      // Do not produce a #response line for async-start confirmation\n      const span = document.createElement(\"span\");\n\n      const cntResponses = Object.keys(response).length;\n      const cntMinions = minions.length;\n\n      let txt;\n\n      if(cntResponses === 1) {\n        txt = cntResponses + \" response\";\n      } else {\n        txt = cntResponses + \" responses\";\n      }\n\n      if(cntMinions !== cntResponses) {\n        txt = txt + \", \" + (cntMinions - cntResponses) + \" no response\";\n      }\n\n      if(cntResponses > 0 && cntMinions !== cntResponses) {\n        txt = txt + \", \" + cntMinions + \" total\";\n      }\n\n      // some room for the triangle\n      txt = txt + \" \";\n\n      span.innerText = txt;\n      allDiv.appendChild(span);\n    }\n\n    const masterTriangle = document.createElement(\"span\");\n    masterTriangle.innerText = \"\\u25bd\";\n    masterTriangle.style = \"cursor: pointer\";\n    allDiv.appendChild(masterTriangle);\n\n    outputContainer.appendChild(allDiv);\n\n    masterTriangle.addEventListener(\"click\", _ => {\n      // 25B7 = WHITE RIGHT-POINTING TRIANGLE\n      // 25BD = WHITE DOWN-POINTING TRIANGLE\n      if(masterTriangle.innerText !== \"\\u25bd\") {\n        masterTriangle.innerText = \"\\u25bd\";\n      } else {\n        masterTriangle.innerText = \"\\u25b7\";\n      }\n\n      for(const div of outputContainer.childNodes) {\n        // only click on items that are collapsible\n        const childs = div.getElementsByClassName(\"triangle\");\n        if(childs.length !== 1) continue;\n        // do not collapse the \"all\" item again\n        const tr = childs[0];\n        if(tr === masterTriangle) continue;\n        // only click on items that are not already the same as \"all\"\n        if(tr.innerText === masterTriangle.innerText) continue;\n        // (un)collapse the minion\n        const evt = new MouseEvent(\"click\", {});\n        tr.dispatchEvent(evt);\n      }\n    });\n\n    let nrMultiLineBlocks = 0;\n\n    // for all other types we consider the output per minion\n    // this is more generic and it simplifies the handlers\n    for(const hostname of minions.sort()) {\n\n      const isSuccess = true;\n      const retCode = 0;\n\n      let hostResponse = response[hostname];\n      if(Output.hasProperties(hostResponse, [\"retcode\", \"return\", \"success\"])) {\n        hostResponse = hostResponse.return;\n      }\n      else if(command.startsWith(\"runner.\") && hostResponse && hostResponse.hasOwnProperty(\"return\")) {\n        hostResponse = hostResponse.return.return;\n      }\n\n      let hostOutput = null;\n      let hostMultiLine = null;\n      let fndRepresentation = false;\n\n      // the standard label is the hostname,\n      // future: colored based on the successflag\n      // future: colored based on the retcode\n      let hostClass = \"host_success\";\n      if(!isSuccess) hostClass = \"host_failure\";\n      if(!response.hasOwnProperty(hostname)) hostClass = \"host_noresponse\";\n      let hostLabel = Output.getHostnameHtml(hostname, hostClass);\n\n      if(!fndRepresentation && !response.hasOwnProperty(hostname)) {\n        hostOutput = Output.getTextOutput(\"(no response)\");\n        fndRepresentation = true;\n      }\n\n      if(!fndRepresentation && typeof hostResponse === \"string\") {\n        hostOutput = Output.getTextOutput(hostResponse);\n        hostMultiLine = hostResponse.includes(\"\\n\");\n        fndRepresentation = true;\n      }\n\n      if(!fndRepresentation && typeof hostResponse !== \"object\") {\n        hostOutput = Output.getNormalOutput(hostResponse);\n        hostMultiLine = false;\n        fndRepresentation = true;\n      }\n\n      // null is an object, but treat it separatelly\n      if(!fndRepresentation && hostResponse === null) {\n        hostOutput = Output.getNormalOutput(hostResponse);\n        hostMultiLine = false;\n        fndRepresentation = true;\n      }\n\n      // an array is an object, but treat it separatelly\n      if(!fndRepresentation && Array.isArray(hostResponse)) {\n        hostOutput = Output.getNormalOutput(hostResponse);\n        hostMultiLine = hostResponse.length > 0;\n        fndRepresentation = true;\n      }\n\n      // it might be highstate output\n      const commandCmd = command.trim().replace(/ .*/, \"\");\n      const isHighStateOutput = OutputHighstate.isHighStateOutput(commandCmd, hostResponse);\n      // enhanced highstate display\n      if(!fndRepresentation && isHighStateOutput && Output.isOutputFormatAllowed(\"saltguihighstate\")) {\n        hostLabel = OutputSaltGuiHighstate.getHighStateLabel(hostname, hostResponse);\n        hostOutput = OutputSaltGuiHighstate.getHighStateOutput(hostResponse);\n        hostMultiLine = true;\n        fndRepresentation = true;\n      }\n      // regular highstate display\n      if(!fndRepresentation && isHighStateOutput && Output.isOutputFormatAllowed(\"highstate\")) {\n        hostLabel = OutputHighstate.getHighStateLabel(hostname, hostResponse);\n        hostOutput = OutputHighstate.getHighStateOutput(hostResponse);\n        hostMultiLine = true;\n        fndRepresentation = true;\n      }\n\n      // nothing special? then it is normal output\n      if(!fndRepresentation) {\n        hostOutput = Output.getNormalOutput(hostResponse);\n        hostMultiLine = Object.keys(hostResponse).length > 0;\n      }\n\n      // one response does not need to be collapsible\n      const cnt = Object.keys(response).length;\n      if(cnt === 1) {\n        hostMultiLine = false;\n      }\n\n      if(hostMultiLine) nrMultiLineBlocks += 1;\n\n      // compose the actual output\n      const div = document.createElement(\"div\");\n\n      div.append(hostLabel);\n\n      div.appendChild(document.createTextNode(\": \"));\n\n      // multiple line, collapsible\n      // 25B7 = WHITE RIGHT-POINTING TRIANGLE\n      // 25BD = WHITE DOWN-POINTING TRIANGLE\n      let triangle = null;\n      if(hostMultiLine) {\n        triangle = document.createElement(\"span\");\n        triangle.innerText = \"\\u25bd\";\n        triangle.style = \"cursor: pointer\";\n        triangle.classList.add(\"triangle\");\n        div.appendChild(triangle);\n        div.appendChild(document.createElement(\"br\"));\n\n        triangle.addEventListener(\"click\", _ => {\n          // 25B7 = WHITE RIGHT-POINTING TRIANGLE\n          // 25BD = WHITE DOWN-POINTING TRIANGLE\n          if(triangle.innerText !== \"\\u25bd\") {\n            triangle.innerText = \"\\u25bd\";\n            hostOutput.style.display = \"\";\n          } else {\n            triangle.innerText = \"\\u25b7\";\n            hostOutput.style.display = \"none\";\n          }\n        });\n      }\n\n      div.append(hostOutput);\n\n      outputContainer.append(div);\n    }\n\n    if(nrMultiLineBlocks <= 1) {\n      // No collapsible elements, hide the master\n      // Also hide with 1 collapsible element\n      masterTriangle.style.display = \"none\";\n    }\n\n  }\n}","import {Route} from './Route';\nimport {Output} from '../output/Output';\n\nexport class PageRoute extends Route {\n\n  constructor(path, name, page_selector, menuitem_selector, router) {\n    super(path, name, page_selector, menuitem_selector, router);\n\n    this._runCommand = this._runCommand.bind(this);\n    this._runningJobs = this._runningJobs.bind(this);\n    this._updateJobs = this._updateJobs.bind(this);\n    this._updateMinions = this._updateMinions.bind(this);\n  }\n\n  _updateMinions(data) {\n    const minions = data.return[0];\n\n    const list = this.getPageElement().querySelector(\"#minions\");\n    const hostnames = Object.keys(minions).sort();\n\n    // save for the autocompletion\n    window.localStorage.setItem(\"minions\", JSON.stringify(hostnames));\n\n    for(const hostname of hostnames) {\n      const minion_info = minions[hostname];\n\n      // minions can be offline, then the info will be false\n      if(minion_info === false) {\n        this._updateOfflineMinion(list, hostname);\n      } else {\n        this._updateMinion(list, minion_info, hostname);\n      }\n    }\n  }\n\n  _getElement(container, id) {\n    let element = document.getElementById(id);\n\n    if(element === null) {\n      // minion not found on screen...\n      // construct a basic element that can be updated\n      element = document.createElement(\"tr\");\n      element.id = id;\n      container.appendChild(element);\n      return element;\n    }\n\n    // remove existing content\n    while(element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n\n    return element;\n  }\n\n  _updateOfflineMinion(container, hostname) {\n    const element = this._getElement(container, hostname);\n\n    element.appendChild(Route._createTd(\"hostname\", hostname));\n\n    const offline = Route._createTd(\"status\", \"offline\");\n    offline.classList.add(\"offline\");\n    element.appendChild(offline);\n  }\n\n  _getBestIpNumber(minion) {\n    if(!minion) return null;\n    const ipv4 = minion.fqdn_ip4;\n    if(!ipv4) return null;\n    // either a string or something strange\n    if(!Array.isArray(ipv4)) return ipv4;\n\n    // so, it is an array\n\n    // get the public IP number (if any)\n    for(const s of ipv4) {\n      // local = 127.0.0.0/8\n      if(s.startsWith(\"127.\")) continue;\n      // private A = 10.0.0.0/8\n      if(s.startsWith(\"10.\")) continue;\n      // private B = 172.16.0.0/20\n      if(s.startsWith(\"172.16.\")) continue;\n      if(s.startsWith(\"172.17.\")) continue;\n      if(s.startsWith(\"172.18.\")) continue;\n      if(s.startsWith(\"172.19.\")) continue;\n      if(s.startsWith(\"172.20.\")) continue;\n      if(s.startsWith(\"172.21.\")) continue;\n      if(s.startsWith(\"172.22.\")) continue;\n      if(s.startsWith(\"172.23.\")) continue;\n      if(s.startsWith(\"172.24.\")) continue;\n      if(s.startsWith(\"172.25.\")) continue;\n      if(s.startsWith(\"172.26.\")) continue;\n      if(s.startsWith(\"172.27.\")) continue;\n      if(s.startsWith(\"172.28.\")) continue;\n      if(s.startsWith(\"172.29.\")) continue;\n      if(s.startsWith(\"172.30.\")) continue;\n      if(s.startsWith(\"172.31.\")) continue;\n      // private C = 192.168.0.0/16\n      if(s.startsWith(\"192.168.\")) continue;\n      // not a local/private address, therefore it is public\n      return s;\n    }\n\n    // no public IP number\n    // get the private IP number (if any)\n    for(const s of ipv4) {\n      // local = 127.0.0.0/8\n      if(s.startsWith(\"127.\")) continue;\n      // not a local address, therefore it is private\n      return s;\n    }\n\n    // just pick the first one, should then be a local address\n    return ipv4[0];\n  }\n\n  _updateMinion(container, minion, hostname) {\n\n    const element = this._getElement(container, hostname);\n\n    element.appendChild(Route._createTd(\"hostname\", hostname));\n\n    const ipv4 = this._getBestIpNumber(minion);\n    if(ipv4) {\n      const address = Route._createTd(\"status\", ipv4);\n      // ipnumbers do not sort well, reformat into something sortable\n      const ipv4parts = ipv4.split(\".\");\n      let sorttable_customkey = \"\";\n      if(ipv4parts.length === 4) {\n        // never mind adding '.'; this is only a sort-key\n        for(let i = 0; i < 4; i++) sorttable_customkey += ipv4parts[i].padStart(3, \"0\");\n        address.setAttribute(\"sorttable_customkey\", sorttable_customkey);\n      }\n      address.classList.add(\"address\");\n      address.setAttribute(\"tabindex\", -1);\n      address.addEventListener(\"click\", this._copyAddress);\n      element.appendChild(address);\n    } else {\n      const accepted = Route._createTd(\"status\", \"accepted\");\n      accepted.classList.add(\"accepted\");\n      element.appendChild(accepted);\n    }\n\n    let saltversion = \"---\";\n    if(minion && minion.saltversion) saltversion = minion.saltversion;\n    if(minion) element.appendChild(Route._createTd(\"saltversion\", saltversion));\n\n    let os = \"---\";\n    if(minion && minion.os && minion.osrelease) os = minion.os + \" \" + minion.osrelease;\n    else if(minion && minion.os) os = minion.os;\n    if(minion) {\n      const td = Route._createTd(\"os\", os);\n      if(minion.os) {\n        const img = document.createElement(\"img\");\n        img.setAttribute(\"src\", \"static/images/os-\" + minion.os.replace(\" \", \"-\").toLowerCase() + \".png\");\n        img.classList.add(\"osimage\");\n        td.prepend(img);\n      }\n      element.appendChild(td);\n    }\n  }\n\n  _addMinion(container, hostname, freeColumns = 0) {\n\n    let element = document.getElementById(hostname);\n    if(element !== null) {\n      // minion already on screen...\n      return;\n    }\n\n    element = document.createElement(\"tr\");\n    element.id = hostname;\n\n    element.appendChild(Route._createTd(\"hostname\", hostname));\n\n    const minion = Route._createTd(\"status\", \"accepted\");\n    minion.classList.add(\"accepted\");\n    element.appendChild(minion);\n\n    element.appendChild(Route._createTd(\"os\", \"loading...\"));\n\n    // fill out the number of columns to that of the header\n    while(element.cells.length < container.tHead.rows[0].cells.length - freeColumns) {\n      element.appendChild(Route._createTd(\"\", \"\"));\n    }\n\n    container.tBodies[0].appendChild(element);\n  }\n\n  _addNone(container) {\n    const tr = document.createElement(\"tr\");\n    const td = Route._createTd(\"hostname\", \"none\");\n    td.setAttribute(\"colspan\", container.rows[0].cells.length);\n    tr.appendChild(td);\n    container.appendChild(tr);\n  }\n\n  _updateJobs(data, numberOfJobs = 7, detailedJob = false) {\n    const jobContainer = this.getPageElement().querySelector(\".jobs tbody\");\n    const jobs = this._jobsToArray(data.return[0]);\n    this._sortJobs(jobs);\n\n    //Add <numberOfJobs> most recent jobs\n    let shown = 0;\n    let i = 0;\n    while(shown < numberOfJobs && jobs[i] !== undefined) {\n      const job = jobs[i];\n      i = i + 1;\n      if(job.Function === \"grains.append\") continue;\n      if(job.Function === \"grains.delkey\") continue;\n      if(job.Function === \"grains.delval\") continue;\n      if(job.Function === \"grains.items\") continue;\n      if(job.Function === \"grains.setval\") continue;\n      if(job.Function === \"pillar.items\") continue;\n      if(job.Function === \"pillar.obfuscate\") continue;\n      if(job.Function === \"runner.jobs.active\") continue;\n      if(job.Function === \"runner.jobs.list_job\") continue;\n      if(job.Function === \"runner.jobs.list_jobs\") continue;\n      if(job.Function === \"saltutil.find_job\") continue;\n      if(job.Function === \"saltutil.refresh_grains\") continue;\n      if(job.Function === \"saltutil.refresh_pillar\") continue;\n      if(job.Function === \"saltutil.running\") continue;\n      if(job.Function === \"schedule.delete\") continue;\n      if(job.Function === \"schedule.disable\") continue;\n      if(job.Function === \"schedule.disable_job\") continue;\n      if(job.Function === \"schedule.enable\") continue;\n      if(job.Function === \"schedule.enable_job\") continue;\n      if(job.Function === \"schedule.list\") continue;\n      if(job.Function === \"schedule.modify\") continue;\n      if(job.Function === \"schedule.run_job\") continue;\n      if(job.Function === \"sys.doc\") continue;\n      if(job.Function === \"wheel.config.values\") continue;\n      if(job.Function === \"wheel.key.accept\") continue;\n      if(job.Function === \"wheel.key.delete\") continue;\n      if(job.Function === \"wheel.key.list_all\") continue;\n      if(job.Function === \"wheel.key.reject\") continue;\n      if(job.Function === \"wheel.key.finger\") continue;\n\n      if(detailedJob === true) {\n        this._addDetailedJob(jobContainer, job);\n      } else {\n        this._addJob(jobContainer, job);\n      }\n      shown = shown + 1;\n    }\n    this.jobsLoaded = true;\n    if(this.keysLoaded && this.jobsLoaded) this.resolvePromise();\n  }\n\n  _runningJobs(data, jobsStatus = false) {\n    const jobs = data.return[0];\n\n    // update all running jobs\n    for(const k in jobs)\n    {\n      const job = jobs[k];\n\n      let targetText = \"\";\n      let targetField;\n      if(jobsStatus === true) {\n        targetField = document.querySelector(\".jobs #job\" + k + \" .status\");\n      } else {\n        // start with same text as for _addJob\n        targetText = window.makeTargetText(job[\"Target-type\"], job.Target) + \", \";\n        targetField = document.querySelector(\".jobs #job\" + k + \" .target\");\n      }\n      // then add the operational statistics\n      if(job.Running.length > 0)\n        targetText = targetText + job.Running.length + \" running\";\n      if(job.Returned.length > 0)\n        targetText = targetText + \", \" + job.Returned.length + \" returned\";\n\n      // the field may not (yet) be on the screen\n      if(!targetField) continue;\n      targetField.classList.remove(\"no_status\");\n      targetField.innerText = targetText;\n    }\n\n    // update all finished jobs\n    for(const tr of document.querySelector(\"table#jobs tbody\").rows) {\n      const statusField = tr.querySelector(\".no_status\");\n      if(!statusField) continue;\n      statusField.classList.remove(\"no_status\");\n      statusField.innerText = \"done\";\n    }\n  }\n\n  _addJob(container, job) {\n    const tr = document.createElement(\"tr\");\n\n    const td = document.createElement(\"td\");\n\n    td.id = \"job\" + job.id;\n    const targetText = window.makeTargetText(job[\"Target-type\"], job.Target);\n    td.appendChild(Route._createDiv(\"target\", targetText));\n\n    const functionText = job.Function;\n    td.appendChild(Route._createDiv(\"function\", functionText));\n\n    const startTimeText = Output.dateTimeStr(job.StartTime);\n    td.appendChild(Route._createDiv(\"time\", startTimeText));\n\n    tr.appendChild(td);\n\n    const menu = new DropDownMenu(tr);\n    menu.addMenuItem(\"Show&nbsp;details\", function(evt) {\n      window.location.assign(\"/job?id=\" + encodeURIComponent(job.id));\n    }.bind(this));\n\n    container.appendChild(tr);\n\n    tr.addEventListener(\"click\", this._createJobListener(job.id));\n  }\n\n  _addDetailedJob(container, job) {\n    const tr = document.createElement(\"tr\");\n    tr.id = \"job\" + job.id;\n    const jidText = job.id;\n    tr.appendChild(Route._createTd(\"job\" + job.id, jidText));\n\n    let targetText = window.makeTargetText(job[\"Target-type\"], job.Target);\n    if(targetText.length > 50) {\n      // prevent column becoming too wide\n      targetText = targetText.substring(0, 50) + \"...\";\n    }\n    tr.appendChild(Route._createTd(\"target\", targetText));\n\n    const argumentsText = this._decodeArgumentsText(job.Arguments[0]);\n    let functionText = job.Function + \" \" + argumentsText;\n    if(functionText.length > 50) {\n      // prevent column becoming too wide\n      functionText = functionText.substring(0, 50) + \"...\";\n    }\n    tr.appendChild(Route._createTd(\"function\", functionText));\n\n    const startTimeText = job.StartTime;\n    tr.appendChild(Route._createTd(\"starttime\", startTimeText));\n\n    const menu = new DropDownMenu(tr);\n    menu.addMenuItem(\"Show&nbsp;details\", function(evt) {\n      window.location.assign(\"/job?id=\" + encodeURIComponent(job.id));\n    }.bind(this));\n    menu.addMenuItem(\"Re-run&nbsp;job...\", function(evt) {\n      this._runFullCommand(evt, job[\"Target-type\"], job.Target, functionText);\n    }.bind(this));\n\n    const td = Route._createTd(\"status\", \"loading...\");\n    td.classList.add(\"no_status\");\n    tr.appendChild(td);\n    \n    // fill out the number of columns to that of the header\n    while(tr.cells.length < container.parentElement.tHead.rows[0].cells.length) {\n      tr.appendChild(Route._createTd(\"\", \"\"));\n    }\n\n    container.appendChild(tr);\n\n    tr.addEventListener(\"click\", evt => window.location.assign(\"/job?id=\" + encodeURIComponent(job.id)));\n  }\n\n  _createJobListener(id) {\n    const router = this.router;\n    return function() {\n      router.goTo(\"/job?id=\" + encodeURIComponent(id));\n    };\n  }\n\n  _jobsToArray(jobs) {\n    const keys = Object.keys(jobs);\n    const newArray = [];\n\n    for(const key of keys) {\n      const job = jobs[key];\n      job.id = key;\n      newArray.push(job);\n    }\n\n    return newArray;\n  }\n\n  _sortJobs(jobs) {\n    jobs.sort(function(a, b){\n      // The id is already a integer value based on the date, let's use\n      // it to sort the jobs\n      if(a.id < b.id) return 1;\n      if(a.id > b.id) return -1;\n      return 0;\n    });\n  }\n\n  _copyAddress(evt) {\n    const target = evt.target;\n    const selection = window.getSelection();\n    const range = document.createRange();\n\n    range.selectNodeContents(target);\n    selection.removeAllRanges();\n    selection.addRange(range);\n    document.execCommand(\"copy\");\n\n    evt.stopPropagation();\n  }\n\n}\n","import {Route} from './routes/Route';\n\nexport class DropDownMenu {\n\n  // Creates an empty dropdown menu\n  // The visual clue for the menu is added to the given element\n  constructor(element) {\n\n    this.callback = this.callback.bind(this);\n    this.verifyAll = this.verifyAll.bind(this);\n\n    // allow reduced code on the caller side\n    if(element.tagName === \"TR\") {\n      const nelement = Route._createTd(\"\", \"\");\n      element.appendChild(nelement);\n      element = nelement;\n    }\n\n    this.menuDropdown = Route._createDiv(\"run-command-button\", \"\");\n\n    switch (element.id) {\n    case \"cmdbox\":\n      // 1F4D6 (D83D+DCD6) = A BOOK\n      this.menuButton = Route._createDiv(\"menu-dropdown\", \"\\uD83D\\uDCD6\");\n      // hide the menu until it receives menu-items\n      this.verifyAll();\n      break;\n\n    default:\n      // 2261 = MATHEMATICAL OPERATOR IDENTICAL TO (aka \"hamburger\")\n      // assume it will be a command menu\n      this.menuButton = Route._createDiv(\"menu-dropdown\", \"\\u2261\");\n      // hide the menu until it receives menu-items\n      this.verifyAll();\n    }\n    this.menuDropdown.appendChild(this.menuButton);\n    this.menuDropdownContent = Route._createDiv(\"menu-dropdown-content\", \"\");\n    this.menuDropdown.appendChild(this.menuDropdownContent);\n    this.menuDropdown.addEventListener(\"mouseenter\", this.verifyAll);\n    element.appendChild(this.menuDropdown);\n  }\n\n  verifyAll() {\n    let visibleCount = 0;\n    if(this.menuDropdownContent) {\n      for(const chld of this.menuDropdownContent.children) {\n        const verifyCallback = chld.verifyCallback;\n        if(verifyCallback) verifyCallback(chld);\n        if(chld.style.display !== \"none\") visibleCount++;\n      }\n    }\n    // hide the menu when it has no visible menu-items\n    const display_visible = (this.menuDropdown.tagName === \"TD\") ? \"table-cell\" : \"inline-block\";\n    const display_invisible = \"none\";\n    this.menuDropdown.style.display = (visibleCount > 0) ? display_visible : display_invisible;\n  }\n\n  // Add a menu item at the end of this dropdown menu\n  // Runs the given callback function when selected\n  // When the title is actually a function then this\n  // function is called each time the menu opens\n  // This allows dynamic menuitem titles (use menuitem.innerText/innerHTML)\n  // or visibility (use menuitem.style.display = \"none\"/\"inline-block\")\n  addMenuItem(title, callback, value) {\n    const button = Route._createDiv(\"run-command-button\", \"...\");\n    if(typeof title === \"string\")\n      button.innerHTML = title;\n    else\n      button.verifyCallback = title;\n    button.addEventListener(\"click\", evt => this.callback(evt, callback, value));\n    this.menuDropdownContent.appendChild(button);\n    this.verifyAll();\n  }\n\n  callback(evt, callback, value) {\n    this._value = value;\n    callback(evt);\n  }\n\n  setTitle(title) {\n    // Setting the title implies that we are interested\n    // in the menu values, rather than their actions.\n    // Use a slightly different clue for that.\n    // 25BC = BLACK DOWN-POINTING TRIANGLE\n    this.menuButton.innerHTML = title + \"&nbsp;\\u25BC\";\n  }\n\n  showMenu() {\n    this.menuDropdown.style.display = \"inline-block\";\n  }\n\n  hideMenu() {\n    this.menuDropdown.style.display = \"none\";\n  }\n\n}\n","import {PageRoute} from './Page';\nimport {Route} from './Route';\nimport {Output} from '../output/Output';\nimport {DropDownMenu} from '../DropDown';\n\nexport class MinionsRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]$\", \"Minions\", \"#page_minions\", \"#button_minions\", router);\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._updateKeys = this._updateKeys.bind(this);\n  }\n\n  onShow() {\n    const minions = this;\n\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getLocalGrainsItems(null).then(minions._updateMinions);\n      minions.router.api.getWheelKeyListAll().then(minions._updateKeys);\n      minions.router.api.getRunnerJobsListJobs().then(minions._updateJobs);\n      minions.router.api.getRunnerJobsActive().then(minions._runningJobs);\n      //we need these functions to populate the dropdown boxes\n      minions.router.api.getWheelConfigValues().then(minions._configvalues);\n    });\n  }\n\n  _configvalues(data) {\n    // store for later use\n\n    const templates = data.return[0].data.return.saltgui_templates;\n    window.localStorage.setItem(\"templates\", JSON.stringify(templates));\n\n    const public_pillars = data.return[0].data.return.saltgui_public_pillars;\n    window.localStorage.setItem(\"public_pillars\", JSON.stringify(public_pillars));\n\n    const preview_grains = data.return[0].data.return.saltgui_preview_grains;\n    window.localStorage.setItem(\"preview_grains\", JSON.stringify(preview_grains));\n\n    let nodegroups = data.return[0].data.return.nodegroups;\n    if(!nodegroups) nodegroups = {};\n    window.localStorage.setItem(\"nodegroups\", JSON.stringify(nodegroups));\n\n    const output_formats = data.return[0].data.return.saltgui_output_formats;\n    window.localStorage.setItem(\"output_formats\", JSON.stringify(output_formats));\n\n    const datetime_fraction_digits = data.return[0].data.return.saltgui_datetime_fraction_digits;\n    window.localStorage.setItem(\"datetime_fraction_digits\", JSON.stringify(datetime_fraction_digits));\n  }\n\n  _updateKeys(data) {\n    const keys = data.return[0].data.return;\n\n    const list = this.getPageElement().querySelector(\"#minions\");\n\n    const hostnames = keys.minions.sort();\n    for(const hostname of hostnames) {\n      this._addMinion(list, hostname, 1);\n\n      // preliminary dropdown menu\n      const element = document.getElementById(hostname);\n      const menu = new DropDownMenu(element);\n      this._addMenuItemStateApply(menu, hostname);\n\n      element.addEventListener(\"click\", evt => this._runCommand(evt, hostname, \"state.apply\"));\n    }\n\n    this.keysLoaded = true;\n    if(this.keysLoaded && this.jobsLoaded) this.resolvePromise();\n  }\n\n  _updateOfflineMinion(container, hostname) {\n    super._updateOfflineMinion(container, hostname);\n\n    const element = document.getElementById(hostname);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"saltversion\", \"\"));\n    element.appendChild(Route._createTd(\"os\", \"\"));\n    element.appendChild(Route._createTd(\"run-command-button\", \"\"));\n  }\n\n  _updateMinion(container, minion, hostname) {\n    super._updateMinion(container, minion, hostname);\n\n    const element = document.getElementById(hostname);\n    const menu = new DropDownMenu(element);\n    this._addMenuItemStateApply(menu, hostname);\n\n    element.addEventListener(\"click\", evt => this._runCommand(evt, hostname, \"state.apply\"));\n  }\n\n  _addMenuItemStateApply(menu, hostname) {\n    menu.addMenuItem(\"Apply&nbsp;state...\", function(evt) {\n      this._runCommand(evt, hostname, \"state.apply\");\n    }.bind(this));\n  }\n}\n","import {PageRoute} from './Page';\nimport {Route} from './Route';\nimport {DropDownMenu} from '../DropDown';\nimport {Output} from '../output/Output';\n\nexport class KeysRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]keys$\", \"Keys\", \"#page_keys\", \"#button_keys\", router);\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._updateKeys = this._updateKeys.bind(this);\n    this._updateKeysFingerprint = this._updateKeysFingerprint.bind(this);\n  }\n\n  onShow() {\n    const keys = this;\n    const p1 = keys.router.api.getWheelKeyListAll();\n    const p2 = keys.router.api.getWheelKeyFinger();\n\n    Promise.all([p1, p2])\n      .then(function(data){\n        // process result of 1st promise\n        keys._updateKeys(data[0]);\n        // process result of 2nd promise\n        keys._updateKeysFingerprint(data[1]);\n      });\n    return new Promise(function(resolve, reject) {\n      keys.resolvePromise = resolve;\n      if(keys.keysLoaded && keys.jobsLoaded) resolve();\n      keys.router.api.getRunnerJobsListJobs().then(keys._updateJobs);\n      keys.router.api.getRunnerJobsActive().then(keys._runningJobs);\n    });\n  }\n\n  _updateKeysFingerprint(data) {\n    const keys = data.return[0].data.return;\n\n    for(const property of Object.keys(keys)) {\n      if(property === \"local\") continue;\n      const hosts = keys[property];\n      for(const hostname of Object.keys(hosts)) {\n        const item = document.querySelector(\"#\" + hostname + \" .os\");\n        if(item) {\n          // remove td.os for accepted minions and add td.fingerprint\n          item.parentElement.insertBefore(Route._createTd(\"fingerprint\", \"\"), item);\n          item.parentElement.removeChild(item);\n        }\n\n        // update td.fingerprint with fingerprint value\n        const fingerprintElement = document.querySelector(\"#\" + hostname + \" .fingerprint\");\n        const fingerprint = hosts[hostname];\n        if(fingerprintElement) fingerprintElement.innerText = fingerprint;\n      }\n    }\n  }\n\n  _updateKeys(data) {\n    const keys = data.return[0].data.return;\n    const list = this.getPageElement().querySelector(\"#minions\");\n\n    // Unaccepted goes first because that is where the user must decide\n    const hostnames_pre = keys.minions_pre.sort();\n    for(const hostname of hostnames_pre) {\n      this._addPreMinion(list, hostname);\n    }\n\n    const hostnames_accepted = keys.minions.sort();\n    for(const hostname of hostnames_accepted) {\n      this._addMinion(list, hostname, 1);\n\n      // preliminary dropdown menu\n      const element = document.getElementById(hostname);\n      const menu = new DropDownMenu(element);\n      this._addMenuItemReject(menu, hostname, \" include_accepted=true\");\n      this._addMenuItemDelete(menu, hostname, \"\");\n    }\n\n    const hostnames_denied = keys.minions_denied.sort();\n    for(const hostname of hostnames_denied) {\n      this._addDeniedMinion(list, hostname);\n    }\n\n    const hostnames_rejected = keys.minions_rejected.sort();\n    for(const hostname of hostnames_rejected) {\n      this._addRejectedMinion(list, hostname);\n    }\n\n    let summary = \"\";\n    if(hostnames_pre.length === 0)\n      summary += \", no unaccepted keys\";\n    if(hostnames_accepted.length === 0)\n      summary += \", no accepted keys\";\n    if(hostnames_denied.length === 0)\n      summary += \", no denied keys\";\n    if(hostnames_rejected.length === 0)\n      summary += \", no rejected keys\";\n    if(summary) {\n      const div = Route._createDiv(\"msg\", summary.replace(/, n/, \"N\"));\n      this.getPageElement().querySelector(\".minion-list\").appendChild(div);\n    }\n\n    this.keysLoaded = true;\n    if(this.keysLoaded && this.jobsLoaded) this.resolvePromise();\n  }\n\n  _updateOfflineMinion(container, hostname) {\n    super._updateOfflineMinion(container, hostname);\n\n    const element = document.getElementById(hostname);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"fingerprint\", \"\"));\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemReject(menu, hostname, \" include_accepted=true\");\n    this._addMenuItemDelete(menu, hostname, \"\");\n  }\n\n  _addRejectedMinion(container, hostname) {\n    const element = this._getElement(container, hostname);\n\n    element.appendChild(Route._createTd(\"hostname\", hostname));\n\n    const rejected = Route._createTd(\"status\", \"rejected\");\n    rejected.classList.add(\"rejected\");\n    element.appendChild(rejected);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"fingerprint\", \"\"));\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemDelete(menu, hostname, \"\");\n    this._addMenuItemAccept(menu, hostname, \" include_rejected=true\");\n\n    container.tBodies[0].appendChild(element);\n  }\n\n  _addDeniedMinion(container, hostname) {\n    const element = this._getElement(container, hostname);\n\n    element.appendChild(Route._createTd(\"hostname\", hostname));\n\n    const denied = Route._createTd(\"status\", \"denied\");\n    denied.classList.add(\"denied\");\n    element.appendChild(denied);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"fingerprint\", \"\"));\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemAccept(menu, hostname, \" include_denied=true\");\n    this._addMenuItemReject(menu, hostname, \" include_denied=true\");\n    this._addMenuItemDelete(menu, hostname, \"\");\n\n    container.tBodies[0].appendChild(element);\n  }\n\n  _addPreMinion(container, hostname) {\n    const element = this._getElement(container, hostname);\n\n    element.appendChild(Route._createTd(\"hostname\", hostname));\n\n    const pre = Route._createTd(\"status\", \"unaccepted\");\n    pre.classList.add(\"unaccepted\");\n    element.appendChild(pre);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"fingerprint\", \"\"));\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemAccept(menu, hostname, \"\");\n    this._addMenuItemReject(menu, hostname, \"\");\n    this._addMenuItemDelete(menu, hostname, \"\");\n\n    container.tBodies[0].appendChild(element);\n  }\n\n  _addMenuItemAccept(menu, hostname, extra) {\n    menu.addMenuItem(\"Accept&nbsp;key...\", function(evt) {\n      this._runCommand(evt, hostname, \"wheel.key.accept\" + extra);\n    }.bind(this));\n  }\n\n  _addMenuItemReject(menu, hostname, extra) {\n    menu.addMenuItem(\"Reject&nbsp;key...\", function(evt) {\n      this._runCommand(evt, hostname, \"wheel.key.reject\" + extra);\n    }.bind(this));\n  }\n\n  _addMenuItemDelete(menu, hostname, extra) {\n    menu.addMenuItem(\"Delete&nbsp;key...\", function(evt) {\n      this._runCommand(evt, hostname, \"wheel.key.delete\" + extra);\n    }.bind(this));\n  }\n}\n","import {PageRoute} from './Page';\nimport {Route} from './Route';\nimport {Output} from '../output/Output';\nimport {DropDownMenu} from '../DropDown';\n\nexport class GrainsRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]grains$\", \"Grains\", \"#page_grains\", \"#button_grains\", router);\n\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._updateKeys = this._updateKeys.bind(this);\n    this._updateMinion = this._updateMinion.bind(this);\n\n    // collect the list of displayed minions\n    let previewGrainsText = window.localStorage.getItem(\"preview_grains\");\n    if(!previewGrainsText || previewGrainsText === \"undefined\") {\n      previewGrainsText = \"[]\";\n    }\n    this._previewGrains = JSON.parse(previewGrainsText);\n    if(!Array.isArray(this._previewGrains)) {\n      this._previewGrains = [ ];\n    }\n    // add all the required columns\n    const tr = document.querySelector(\"#page_grains thead tr\");\n    while(tr.childElementCount > 6) {\n      tr.removeChild(tr.lastChild);\n    }\n    for(let i = 0; i < this._previewGrains.length; i++) {\n      const th = document.createElement(\"th\");\n      th.innerText = this._previewGrains[i];\n      tr.appendChild(th);\n    }\n\n    // The new columns are not yet sortable, make sure they are.\n    // First detroy all the default sorting handlers.\n    // A (deep)copy of an element does not copy its handlers.\n    const oldHead = document.querySelector(\"#page_grains table thead\");\n    const newHead = oldHead.cloneNode(true);\n    oldHead.parentNode.replaceChild(newHead, oldHead);\n    // Now re-start sorting logic.\n    sorttable.makeSortable(document.querySelector(\"#page_grains table\"));\n  }\n\n  onShow() {\n    const minions = this;\n\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getLocalGrainsItems(null).then(minions._updateMinions);\n      minions.router.api.getWheelKeyListAll().then(minions._updateKeys);\n      minions.router.api.getRunnerJobsListJobs().then(minions._updateJobs);\n      minions.router.api.getRunnerJobsActive().then(minions._runningJobs);\n    });\n  }\n\n  _updateKeys(data) {\n    const keys = data.return[0].data.return;\n\n    const list = this.getPageElement().querySelector('#minions');\n\n    const hostnames = keys.minions.sort();\n    for(const hostname of hostnames) {\n      this._addMinion(list, hostname, 1 + this._previewGrains.length);\n\n      // preliminary dropdown menu\n      const element = document.getElementById(hostname);\n      const menu = new DropDownMenu(element);\n      this._addMenuItemShowGrains(menu, hostname);\n\n      for(let i = 0; i < this._previewGrains.length; i++) {\n        element.appendChild(Route._createTd(\"\", \"\"));\n      }\n\n      element.addEventListener(\"click\", evt => window.location.assign(\"grainsminion?minion=\" + encodeURIComponent(hostname)));\n    }\n\n    this.keysLoaded = true;\n    if(this.keysLoaded && this.jobsLoaded) this.resolvePromise();\n  }\n\n  _updateOfflineMinion(container, hostname) {\n    super._updateOfflineMinion(container, hostname);\n\n    const element = document.getElementById(hostname);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"saltversion\", \"\"));\n    element.appendChild(Route._createTd(\"os\", \"\"));\n    element.appendChild(Route._createTd(\"graininfo\", \"\"));\n    element.appendChild(Route._createTd(\"run-command-button\", \"\"));\n    for(let i = 0; i < this._previewGrains.length; i++) {\n      element.appendChild(Route._createTd(\"\", \"\"));\n    }\n  }\n\n  _updateMinion(container, minion, hostname) {\n    super._updateMinion(container, minion, hostname);\n\n    const element = document.getElementById(hostname);\n\n    const cnt = Object.keys(minion).length;\n    const grainInfoText = cnt + \" grains\";\n    const grainInfoTd = Route._createTd(\"graininfo\", grainInfoText);\n    grainInfoTd.setAttribute(\"sorttable_customkey\", cnt);\n    element.appendChild(grainInfoTd);\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemShowGrains(menu, hostname);\n\n    // add all the required columns\n    while(element.childElementCount > 6) {\n      element.removeChild(element.lastChild);\n    }\n    for(let i = 0; i < this._previewGrains.length; i++) {\n      const td = document.createElement(\"td\");\n      const grainName = this._previewGrains[i];\n      if(grainName in minion) {\n        td.innerText = Output.formatObject(minion[grainName]);\n        td.classList.add(\"grain_value\");\n      }\n      element.appendChild(td);\n    }\n\n    element.addEventListener(\"click\", evt => window.location.assign(\"grainsminion?minion=\" + encodeURIComponent(hostname)));\n  }\n\n  _addMenuItemShowGrains(menu, hostname) {\n    menu.addMenuItem(\"Show&nbsp;grains\", function(evt) {\n      window.location.assign(\"grainsminion?minion=\" + encodeURIComponent(hostname));\n    }.bind(this));\n  }\n}\n","import {PageRoute} from './Page';\nimport {Route} from './Route';\nimport {Output} from '../output/Output';\nimport {DropDownMenu} from '../DropDown';\n\nexport class GrainsMinionRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]grainsminion$\", \"Grains\", \"#page_grainsminion\", \"#button_grains\", router);\n\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._showGrains = this._showGrains.bind(this);\n\n    document.querySelector(\"#button_close_grainsminion\").addEventListener(\"click\", _ => {\n      this.router.goTo(\"/grains\");\n    });\n  }\n\n  onShow() {\n    const minions = this;\n\n    const minion = decodeURIComponent(window.getQueryParam(\"minion\"));\n\n    const title = document.getElementById(\"grainsminion_title\");\n    title.innerText = \"Grains on \" + minion;\n\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getLocalGrainsItems(minion).then(minions._showGrains);\n      minions.router.api.getRunnerJobsListJobs().then(minions._updateJobs);\n      minions.router.api.getRunnerJobsActive().then(minions._runningJobs);\n    });\n  }\n\n  _showGrains(data) {\n    const minion = decodeURIComponent(window.getQueryParam(\"minion\"));\n\n    const grains = data.return[0][minion];\n\n    const gmp = document.getElementById(\"grainsminion_page\");\n    const menu = new DropDownMenu(gmp);\n    menu.addMenuItem(\"Add&nbsp;grain...\", function(evt) {\n      // use placeholders for name and value\n      this._runCommand(evt, minion, \"grains.setval \\\"name\\\" \\\"value\\\"\");\n    }.bind(this));\n    menu.addMenuItem(\"Refresh&nbsp;grains...\", function(evt) {\n      this._runCommand(evt, minion, \"saltutil.refresh_grains\");\n    }.bind(this));\n\n    const container = document.getElementById(\"grainsminion_list\");\n\n    // new menu's are always added at the bottom of the div\n    // fix that by re-adding the minion list\n    gmp.appendChild(container);\n\n    while(container.tBodies[0].rows.length > 0) {\n      container.tBodies[0].deleteRow(0);\n    }\n\n    if(!grains) return;\n\n    const keys = Object.keys(grains).sort();\n    for(const k of keys) {\n      const grain = document.createElement('tr');\n\n      const name = Route._createTd(\"grain_name\", k);\n      grain.appendChild(name);\n\n      const grain_value = Output.formatObject(grains[k]);\n\n      const menu = new DropDownMenu(grain);\n      menu.addMenuItem(\"Edit&nbsp;grain...\", function(evt) {\n        this._runCommand(evt, minion, \"grains.setval \\\"\" + k + \"\\\" \" + JSON.stringify(grains[k]));\n      }.bind(this));\n      if(grain_value.startsWith(\"[\")) {\n        menu.addMenuItem(\"Add&nbsp;value...\", function(evt) {\n          this._runCommand(evt, minion, \"grains.append \\\"\" + k + \"\\\" \\\"value\\\"\");\n        }.bind(this));\n      }\n      menu.addMenuItem(\"Delete&nbsp;key...\", function(evt) {\n        this._runCommand(evt, minion, \"grains.delkey \\\"\" + k + \"\\\"\");\n      }.bind(this));\n      menu.addMenuItem(\"Delete&nbsp;value...\", function(evt) {\n        this._runCommand(evt, minion, \"grains.delval \\\"\" + k + \"\\\"\");\n      }.bind(this));\n\n      // menu comes before this data on purpose\n      const value = Route._createTd(\"grain_value\", grain_value);\n      grain.appendChild(value);\n\n      container.tBodies[0].appendChild(grain);\n\n      grain.addEventListener(\"click\", evt => this._runCommand(evt, minion, \"grains.setval \\\"\" + k + \"\\\" \" + JSON.stringify(grains[k])));\n    }\n  }\n}\n","import {PageRoute} from './Page';\nimport {Route} from './Route';\nimport {Output} from '../output/Output';\n\nexport class SchedulesRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]schedules$\", \"Schedules\", \"#page_schedules\", \"#button_schedules\", router);\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._updateKeys = this._updateKeys.bind(this);\n    this._updateMinion = this._updateMinion.bind(this);\n  }\n\n  onShow() {\n    const minions = this;\n\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getLocalScheduleList(null)\n        .then(minions._updateMinions, minions._updateMinions);\n      minions.router.api.getWheelKeyListAll().then(minions._updateKeys);\n      minions.router.api.getRunnerJobsListJobs().then(minions._updateJobs);\n      minions.router.api.getRunnerJobsActive().then(minions._runningJobs);\n    });\n  }\n\n  // This one has some historic ballast:\n  // Meta-data is returned on the same level as\n  // the list of scheduled items\n  static _fixMinion(data) {\n    const ret = { \"schedules\": {}, \"enabled\": true };\n    for(const k in data) {\n      if(k === \"enabled\") {\n        ret.enabled = data.enabled;\n        continue;\n      }\n      if(k === \"schedule\" && JSON.stringify(data[k]) === \"{}\") {\n        continue;\n      }\n      ret.schedules[k] = data[k];\n    }\n    return ret;\n  }\n\n  _updateKeys(data) {\n    const keys = data.return[0].data.return;\n\n    const list = this.getPageElement().querySelector('#minions');\n\n    const hostnames = keys.minions.sort();\n    for(const hostname of hostnames) {\n      this._addMinion(list, hostname, 1);\n\n      // preliminary dropdown menu\n      const element = document.getElementById(hostname);\n      const menu = new DropDownMenu(element);\n      this._addMenuItemShowSchedules(menu, hostname);\n\n      element.addEventListener(\"click\", evt => window.location.assign(\"schedulesminion?minion=\" + encodeURIComponent(hostname)));\n    }\n\n    this.keysLoaded = true;\n    if(this.keysLoaded && this.jobsLoaded) this.resolvePromise();\n  }\n\n  _updateOfflineMinion(container, hostname) {\n    super._updateOfflineMinion(container, hostname);\n\n    const element = document.getElementById(hostname);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"scheduleinfo\", \"\"));\n    element.appendChild(Route._createTd(\"run-command-button\", \"\"));\n  }\n\n  _updateMinion(container, minion, hostname) {\n\n    minion = SchedulesRoute._fixMinion(minion);\n\n    const cnt = Object.keys(minion.schedules).length;\n    let scheduleinfo = cnt + \" schedule\" + (cnt === 1 ? \"\" : \"s\");\n    if(!minion.enabled)\n      scheduleinfo += \" (disabled)\";\n\n    let element = document.getElementById(hostname);\n    if(element === null) {\n      // offline minion not found on screen...\n      // construct a basic element that can be updated here\n      element = document.createElement('tr');\n      element.id = hostname;\n      container.appendChild(element);\n    }\n    while(element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n\n    element.appendChild(Route._createTd(\"hostname\", hostname));\n\n    const statusDiv = Route._createTd(\"status\", \"accepted\");\n    statusDiv.classList.add(\"accepted\");\n    element.appendChild(statusDiv);\n\n    const td = Route._createTd(\"scheduleinfo\", scheduleinfo);\n    td.setAttribute(\"sorttable_customkey\", cnt);\n    element.appendChild(td);\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemShowSchedules(menu, hostname);\n\n    element.addEventListener(\"click\", evt => window.location.assign(\"schedulesminion?minion=\" + encodeURIComponent(hostname)));\n  }\n\n  _addMenuItemShowSchedules(menu, hostname) {\n    menu.addMenuItem(\"Show&nbsp;schedules\", function(evt) {\n      window.location.assign(\"schedulesminion?minion=\" + encodeURIComponent(hostname));\n    }.bind(this));\n  }\n}\n","import {PageRoute} from './Page';\nimport {Route} from './Route';\nimport {Output} from '../output/Output';\n\nexport class SchedulesMinionRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]schedulesminion$\", \"Schedules\", \"#page_schedulesminion\", \"#button_schedules\", router);\n\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._showSchedules = this._showSchedules.bind(this);\n\n    document.querySelector(\"#button_close_schedulesminion\").addEventListener(\"click\", _ => {\n      this.router.goTo(\"/schedules\");\n    });\n  }\n\n  onShow() {\n    const minions = this;\n\n    const minion = decodeURIComponent(window.getQueryParam(\"minion\"));\n\n    // preliminary title\n    const title = document.getElementById(\"schedulesminion_title\");\n    title.innerText = \"Schedules on \" + minion;\n\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getLocalScheduleList(minion).then(minions._showSchedules);\n      minions.router.api.getRunnerJobsListJobs().then(minions._updateJobs);\n      minions.router.api.getRunnerJobsActive().then(minions._runningJobs);\n    });\n  }\n\n  _showSchedules(data) {\n    const minion = decodeURIComponent(window.getQueryParam(\"minion\"));\n\n    let schedules = data.return[0][minion];\n    schedules = SchedulesRoute._fixMinion(schedules);\n\n    const title = document.getElementById(\"schedulesminion_title\");\n    let txt = \"Schedules on \" + minion;\n    if(!schedules.enabled) txt += \" (disabled)\";\n    title.innerText = txt;\n\n    const page = document.getElementById(\"schedulesminion_page\");\n\n    const menu = new DropDownMenu(page);\n    menu.addMenuItem(\"Enable&nbsp;scheduler...\", function(evt) {\n      this._runCommand(evt, minion, \"schedule.enable\");\n    }.bind(this));\n    menu.addMenuItem(\"Disable&nbsp;scheduler...\", function(evt) {\n      this._runCommand(evt, minion, \"schedule.disable\");\n    }.bind(this));\n\n    const container = document.getElementById(\"schedulesminion_list\");\n    page.append(container);\n\n    while(container.tBodies[0].rows.length > 0) {\n      container.tBodies[0].deleteRow(0);\n    }\n\n\n    if(!schedules) return;\n\n    const keys = Object.keys(schedules.schedules).sort();\n    for(const k of keys) {\n\n      const schedule = schedules.schedules[k];\n\n      // simplify the schedule information\n      if(\"name\" in schedule)\n        delete schedule.name;\n      if(\"enabled\" in schedule && schedule.enabled)\n        delete schedule.enabled;\n      if(\"jid_include\" in schedule && schedule.jid_include)\n        delete schedule.jid_include;\n      if(\"maxrunning\" in schedule && schedule.maxrunning === 1)\n        delete schedule.maxrunning;\n\n      const tr = document.createElement('tr');\n\n      const name = Route._createTd(\"schedule_name\", k);\n      tr.appendChild(name);\n\n      const isJobDisabled = schedule.hasOwnProperty(\"enabled\") && !schedule.enabled;\n\n      const menu = new DropDownMenu(tr);\n      let cmd = \"schedule.modify \" + k;\n      for(const key in schedule) {\n        cmd = cmd + \" \" + key + \"=\" + JSON.stringify(schedule[key]);\n      }\n      menu.addMenuItem(\"Modify&nbsp;job...\", function(evt) {\n        this._runCommand(evt, minion, cmd);\n      }.bind(this));\n      menu.addMenuItem(\"Enable&nbsp;job...\", function(evt) {\n        this._runCommand(evt, minion, \"schedule.enable_job \" + k);\n      }.bind(this));\n      menu.addMenuItem(\"Disable&nbsp;job...\", function(evt) {\n        this._runCommand(evt, minion, \"schedule.disable_job \" + k);\n      }.bind(this));\n      menu.addMenuItem(\"Delete&nbsp;job...\", function(evt) {\n        this._runCommand(evt, minion, \"schedule.delete \" + k);\n      }.bind(this));\n      menu.addMenuItem(\"Run&nbsp;job...\", function(evt) {\n        let cmd = \"schedule.run_job\";\n        if(isJobDisabled) cmd += \" force=true\";\n        cmd += \" \" + k;\n        this._runCommand(evt, minion, cmd);\n      }.bind(this));\n\n      // menu comes before this data on purpose\n      const schedule_value = Output.formatObject(schedule);\n      const value = Route._createTd(\"schedule_value\", schedule_value);\n      if(isJobDisabled) value.classList.add(\"disabled_schedule\");\n      tr.appendChild(value);\n\n      container.tBodies[0].appendChild(tr);\n\n      tr.addEventListener(\"click\", evt => this._runCommand(evt, minion, cmd));\n    }\n\n    if(!keys.length) {\n      const noSchedulesMsg = Route._createDiv(\"msg\", \"No schedules found\");\n      container.tBodies[0].appendChild(noSchedulesMsg);\n    }\n  }\n}\n","import {PageRoute} from './Page';\nimport {Route} from './Route';\nimport {Output} from '../output/Output';\nimport {DropDownMenu} from '../DropDown';\n\nexport class PillarsRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]pillars$\", \"Pillars\", \"#page_pillars\", \"#button_pillars\", router);\n\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._updateKeys = this._updateKeys.bind(this);\n    this._updateMinion = this._updateMinion.bind(this);\n  }\n\n  onShow() {\n    const minions = this;\n\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getLocalPillarObfuscate(null).then(minions._updateMinions);\n      minions.router.api.getWheelKeyListAll().then(minions._updateKeys);\n      minions.router.api.getRunnerJobsListJobs().then(minions._updateJobs);\n      minions.router.api.getRunnerJobsActive().then(minions._runningJobs);\n    });\n  }\n\n  _updateKeys(data) {\n    const keys = data.return[0].data.return;\n\n    const list = this.getPageElement().querySelector('#minions');\n\n    const hostnames = keys.minions.sort();\n    for(const hostname of hostnames) {\n      this._addMinion(list, hostname, 1);\n\n      // preliminary dropdown menu\n      const element = document.getElementById(hostname);\n      const menu = new DropDownMenu(element);\n      this._addMenuItemShowPillars(menu, hostname);\n\n      element.addEventListener(\"click\", evt => window.location.assign(\"pillarsminion?minion=\" + encodeURIComponent(hostname)));\n    }\n\n    this.keysLoaded = true;\n    if(this.keysLoaded && this.jobsLoaded) this.resolvePromise();\n  }\n\n  _updateOfflineMinion(container, hostname) {\n    super._updateOfflineMinion(container, hostname);\n\n    const element = document.getElementById(hostname);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"pillarinfo\", \"\"));\n    element.appendChild(Route._createTd(\"run-command-button\", \"\"));\n  }\n\n  _updateMinion(container, minion, hostname) {\n    super._updateMinion(container, null, hostname);\n\n    const element = document.getElementById(hostname);\n\n    const cnt = Object.keys(minion).length;\n    let pillarInfoText;\n    if(cnt === 0) {\n      pillarInfoText = \"No pillars\";\n    } else if(cnt === 1) {\n      pillarInfoText = cnt + \" pillar\";\n    } else {\n      pillarInfoText = cnt + \" pillars\";\n    }\n    const pillarInfoTd = Route._createTd(\"pillarinfo\", pillarInfoText);\n    pillarInfoTd.setAttribute(\"sorttable_customkey\", cnt);\n    element.appendChild(pillarInfoTd);\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemShowPillars(menu, hostname);\n\n    element.addEventListener(\"click\", evt => window.location.assign(\"pillarsminion?minion=\" + encodeURIComponent(hostname)));\n  }\n\n  _addMenuItemShowPillars(menu, hostname) {\n    menu.addMenuItem(\"Show&nbsp;pillars\", function(evt) {\n      window.location.assign(\"pillarsminion?minion=\" + encodeURIComponent(hostname));\n    }.bind(this));\n  }\n}\n","import {PageRoute} from './Page';\nimport {Route} from './Route';\nimport {Output} from '../output/Output';\nimport {DropDownMenu} from '../DropDown';\n\nexport class PillarsMinionRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]pillarsminion$\", \"Pillars\", \"#page_pillarsminion\", \"#button_pillars\", router);\n\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._showPillars = this._showPillars.bind(this);\n\n    document.querySelector(\"#button_close_pillarsminion\").addEventListener(\"click\", _ => {\n      this.router.goTo(\"/pillars\");\n    });\n  }\n\n  onShow() {\n    const minions = this;\n\n    const minion = decodeURIComponent(window.getQueryParam(\"minion\"));\n\n    const title = document.getElementById(\"pillarsminion_title\");\n    title.innerText = \"Pillars on \" + minion;\n\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getLocalPillarItems(minion).then(minions._showPillars);\n      minions.router.api.getRunnerJobsListJobs().then(minions._updateJobs);\n      minions.router.api.getRunnerJobsActive().then(minions._runningJobs);\n    });\n  }\n\n  _showPillars(data) {\n    const minion = decodeURIComponent(window.getQueryParam(\"minion\"));\n\n    const pillars = data.return[0][minion];\n\n    const pmp = document.getElementById(\"pillarsminion_page\");\n    const menu = new DropDownMenu(pmp);\n    this._addMenuItemRefreshPillar(menu, minion);\n\n    const container = document.getElementById(\"pillarsminion_list\");\n\n    // new menu's are always added at the bottom of the div\n    // fix that by re-adding the minion list\n    pmp.appendChild(container);\n\n    while(container.tBodies[0].rows.length > 0) {\n      container.tBodies[0].deleteRow(0);\n    }\n\n    if(!pillars) return;\n\n    // collect the public pillars and compile their regexps\n    let publicPillarsText = window.localStorage.getItem(\"public_pillars\");\n    if(!publicPillarsText || publicPillarsText === \"undefined\") publicPillarsText = \"[]\";\n    let public_pillars = JSON.parse(publicPillarsText);\n    if(!Array.isArray(public_pillars)) public_pillars = [ ];\n    for(let i = 0; i < public_pillars.length; i++) {\n      try {\n        public_pillars[i] = new RegExp(public_pillars[i]);\n      }\n      catch(err) {\n        // most likely a syntax error in the RE\n        public_pillars[i] = null;\n      }\n    }\n\n    const keys = Object.keys(pillars).sort();\n    for(const k of keys) {\n      const pillar = document.createElement('tr');\n\n      const name = Route._createTd(\"pillar_name\", k);\n      pillar.appendChild(name);\n\n      // menu comes before this data if there was any\n\n      // 8 bullet characters\n      const value_hidden = \"\\u25CF\\u25CF\\u25CF\\u25CF\\u25CF\\u25CF\\u25CF\\u25CF\";\n      const pillar_hidden = Route._createTd(\"pillar_hidden\", value_hidden);\n      // initially use the hidden view\n      pillar.appendChild(pillar_hidden);\n\n      const value_shown = Output.formatObject(pillars[k]);\n      const pillar_shown = Route._createTd(\"pillar_shown\", value_shown);\n      // initially hide the normal view\n      pillar_shown.style.display = \"none\";\n      // add the non-masked representation, not shown yet\n      pillar.appendChild(pillar_shown);\n\n      // show public pillars immediatelly\n      for(let i = 0; i < public_pillars.length; i++) {\n        if(public_pillars[i] && public_pillars[i].test(k)) {\n          // same code as when clicking the hidden value\n          pillar_hidden.style.display = \"none\";\n          pillar_shown.style.display = \"\";\n          break;\n        }\n      }\n\n      pillar_hidden.addEventListener(\"click\", function(evt) {\n        pillar_hidden.style.display = \"none\";\n        pillar_shown.style.display = \"\";\n      });\n\n      pillar_shown.addEventListener(\"click\", function(evt) {\n        pillar_shown.style.display = \"none\";\n        pillar_hidden.style.display = \"\";\n      });\n\n      container.tBodies[0].appendChild(pillar);\n    }\n\n    if(!keys.length) {\n      const noPillarsMsg = Route._createTd(\"msg\", \"No pillars found\");\n      container.tBodies[0].appendChild(noPillarsMsg);\n    }\n  }\n\n  _addMenuItemRefreshPillar(menu, hostname) {\n    menu.addMenuItem(\"Refresh&nbsp;pillar...\", function(evt) {\n      this._runCommand(evt, hostname, \"saltutil.refresh_pillar\");\n    }.bind(this));\n  }\n}\n","import {Route} from './Route';\nimport {Output} from '../output/Output';\n\nexport class JobRoute extends Route {\n\n  constructor(router) {\n    super(\"^[\\/]job$\", \"Job\", \"#page_job\", \"\", router);\n    this._onJobData = this._onJobData.bind(this);\n  }\n\n  onShow() {\n    const job = this;\n    const id = decodeURIComponent(window.getQueryParam(\"id\"));\n    return new Promise(function(resolve, reject) {\n      job.resolvePromise = resolve;\n      job.router.api.getRunnerJobsListJob(id).then(job._onJobData);\n    });\n  }\n\n  _isResultOk(result) {\n    if(!result.success) return false;\n    if(result.retcode !== 0) return false;\n    return true;\n  }\n\n  _onJobData(data) {\n    const job = this;\n    const info = data.return[0];\n    job.getPageElement().querySelector(\".output\").innerText = \"\";\n\n    document.querySelector(\"#button_close_job\").addEventListener(\"click\", _ => {\n      this.router.goTo(\"/jobs\");\n    });\n\n    const argumentsText = this._decodeArgumentsText(info.Arguments[0]);\n    const commandText = info.Function + \" \" + argumentsText;\n    const jobinfo = document.getElementById(\"job_page\");\n    const menuSection = jobinfo.querySelector(\".job_menu\");\n    const menu = new DropDownMenu(menuSection);\n\n    // 1: re-run with original target pattern\n    menu.addMenuItem(\"Re-run&nbsp;job...\", function(evt) {\n      this._runFullCommand(evt, info[\"Target-type\"], info.Target, commandText);\n    }.bind(this));\n\n    // 2: re-run list of minions\n    let minionList = \"\";\n    if(info.Minions) {\n      for(const m of info.Minions) {\n        minionList += \",\" + m;\n      }\n    }\n    if(minionList && minionList === \",\" + info.Minions[0]) {\n      // suppress a trivial case\n      minionList = null;\n    }\n    if(minionList) {\n      const lst = minionList.substring(1);\n      menu.addMenuItem(\"Re-run&nbsp;job&nbsp;on&nbsp;all&nbsp;minions...\", function(evt) {\n        this._runFullCommand(evt, \"list\", lst, commandText);\n      }.bind(this));\n    }\n\n    // 3: re-run all failed (error+timeout)\n    minionList = \"\";\n    let has1 = false, has2 = false;\n    if(info.Minions) {\n      for(const m of info.Minions) {\n        if(!(m in info.Result)) has1 = true;\n        if(m in info.Result && !this._isResultOk(info.Result[m])) has2 = true;\n        if(!(m in info.Result) || !this._isResultOk(info.Result[m])) {\n          minionList += \",\" + m;\n        }\n      }\n    }\n    // only when we have both types in the list\n    // otherwise the #4 or #5 is sufficient\n    if(has1 && has2 && minionList) {\n      const lst = minionList.substring(1);\n      menu.addMenuItem(\"Re-run&nbsp;job&nbsp;on&nbsp;unsuccessful&nbsp;minions...\", function(evt) {\n        this._runFullCommand(evt, \"list\", lst, commandText);\n      }.bind(this));\n    }\n\n    // 4: re-run all failed (error)\n    minionList = \"\";\n    if(info.Minions) {\n      for(const m of info.Minions) {\n        if(m in info.Result && !this._isResultOk(info.Result[m])) {\n          minionList += \",\" + m;\n        }\n      }\n    }\n    if(minionList) {\n      const lst = minionList.substring(1);\n      menu.addMenuItem(\"Re-run&nbsp;job&nbsp;on&nbsp;failed&nbsp;minions...\", function(evt) {\n        this._runFullCommand(evt, \"list\", lst, commandText);\n      }.bind(this));\n    }\n\n    // 5: re-run all failed (timeout)\n    minionList = \"\";\n    if(info.Minions) {\n      for(const m of info.Minions) {\n        if(!(m in info.Result)) {\n          minionList += \",\" + m;\n        }\n      }\n    }\n    if(minionList) {\n      const lst = minionList.substring(1);\n      menu.addMenuItem(\"Re-run&nbsp;job&nbsp;on&nbsp;non&nbsp;responding&nbsp;minions...\", function(evt) {\n        this._runFullCommand(evt, \"list\", lst, commandText);\n      }.bind(this));\n    }\n\n    const functionText = commandText + \" on \" +\n      window.makeTargetText(info[\"Target-type\"], info.Target);\n    jobinfo.querySelector(\".function\").innerText = functionText;\n\n    jobinfo.querySelector(\".time\").innerText = Output.dateTimeStr(info.StartTime);\n\n    const output = job.getPageElement().querySelector(\".output\");\n    // use same formatter as direct commands\n    let minions = [\"WHEEL\"];\n    if(info.Minions) minions = info.Minions;\n    Output.addResponseOutput(output, minions, info.Result, info.Function);\n\n    this.resolvePromise();\n  }\n\n}\n","import {PageRoute} from './Page';\nimport {Route} from './Route';\nimport {Output} from '../output/Output';\n\nexport class JobsRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]jobs$\", \"Jobs\", \"#page_jobs\", \"#button_jobs\", router);\n    this.jobsLoaded = false;\n  }\n\n  onShow() {\n    const jobs = this;\n    return new Promise(function(resolve, reject) {\n      jobs.resolvePromise = resolve;\n      if(jobs.jobsLoaded) resolve();\n      jobs.router.api.getRunnerJobsListJobs().then(data => {\n        jobs._updateJobs(data, 50, true);\n      });\n      jobs.router.api.getRunnerJobsActive().then(data => {\n        jobs._runningJobs(data, true);\n      });\n    });\n  }\n\n}\n","import {PageRoute} from './Page';\nimport {Route} from './Route';\nimport {Output} from '../output/Output';\nimport {DropDownMenu} from '../DropDown';\n\nexport class TemplatesRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]templates$\", \"Templates\", \"#page_templates\", \"#button_templates\", router);\n    this.jobsLoaded = false;\n\n    this._updateTemplates = this._updateTemplates.bind(this);\n    this._applyTemplate = this._applyTemplate.bind(this);\n  }\n\n  onShow() {\n    const templates = this;\n    return new Promise(function(resolve, reject) {\n      templates.resolvePromise = resolve;\n      if(templates.jobsLoaded) resolve();\n      templates.router.api.getRunnerJobsListJobs().then(templates._updateJobs);\n      templates.router.api.getRunnerJobsActive().then(templates._runningJobs);\n      templates.router.api.getWheelConfigValues().then(templates._updateTemplates);\n    });\n  }\n\n  _updateTemplates(data) {\n    const container = this.getPageElement().querySelector(\".templates\");\n    \n    // should we update it or just use from cache (see commandbox) ?\n    const templates = data.return[0].data.return.saltgui_templates;\n    window.localStorage.setItem(\"templates\", JSON.stringify(templates));\n    const keys = Object.keys(templates).sort();\n    for(const key of keys) {\n      const template = templates[key];\n      this._addTemplate(container, key, template);\n    }\n  }\n\n  _addTemplate(container, name, template) {\n    const tr = document.createElement(\"tr\");\n\n    tr.appendChild(Route._createTd(\"name\", name));\n\n    // calculate description\n    const description = template[\"description\"];\n    if(!description) {\n      tr.appendChild(Route._createTd(\"description value_none\", \"(none)\"));\n    } else {\n      tr.appendChild(Route._createTd(\"description\", description));\n    }\n\n    // calculate targettype\n    const targettype = template[\"targettype\"];\n    // calculate target\n    const target = template[\"target\"];\n    if(!targettype && !target) {\n      tr.appendChild(Route._createTd(\"target value_none\", \"(none)\"));\n    } else if(/* targettype && */ !target) {\n      tr.appendChild(Route._createTd(\"target\", targettype));\n    } else if(!targettype /* && target */) {\n      tr.appendChild(Route._createTd(\"target\", target));\n    } else {\n      tr.appendChild(Route._createTd(\"target\", targettype + \" \" + target));\n    }\n\n    // calculate command\n    const command = template[\"command\"];\n    if(!command) {\n      tr.appendChild(Route._createTd(\"command value_none\", \"(none)\"));\n    } else {\n      tr.appendChild(Route._createTd(\"command\", command));\n    }\n\n    const menu = new DropDownMenu(tr);\n    menu.addMenuItem(\"Apply&nbsp;template...\", function(evt) {\n      this._applyTemplate(evt, targettype, target, command);\n    }.bind(this));\n\n    container.tBodies[0].appendChild(tr);\n\n    tr.addEventListener(\"click\", evt => this._applyTemplate(evt, targettype, target, command));\n  }\n\n  _applyTemplate(evt, targettype, target, command) {\n    this._runFullCommand(evt, targettype, target, command);\n  }\n\n}\n","// documentation utilities\n\nexport class Documentation {\n\n  // formatting of the documentation is done as a regular output type\n  // that is therefore in output.js\n\n  constructor (commandbox) {\n    this.commandbox = commandbox;\n    this._manualRunMenuSysDocRun = this._manualRunMenuSysDocRun.bind(this);\n\n    commandbox.cmdmenu.addMenuItem(\n      this._manualRunMenuSysDocPrepare,\n      this._manualRunMenuSysDocRun);\n  }\n\n  _manualRunMenuSysDocPrepare(menuitem) {\n    let target = document.querySelector(\".run-command #target\").value;\n    target = target ? \"target\" : \"all minions\";\n    let command = document.querySelector(\".run-command #command\").value;\n    // remove the command arguments\n    command = command.trim().replace(/ .*/, \"\");\n    command = command.trim().replace(/[.]*$/, \"\");\n    if(!command.match(/^[a-z_][a-z0-9_.]*$/i)) {\n      // When it is not a command, don't treat it as a command.\n      // This RE still allows some illegal command formats, but\n      // that is something that sys.doc/runners.doc can handle.\n      menuitem.style.display = \"none\";\n    } else if(!command) {\n      // this spot was reserved for `sys.doc` without parameters\n      // but that is far too slow for normal use\n      menuitem.style.display = \"none\";\n    } else if(command === \"runners\" || command.startsWith(\"runners.\")) {\n      // actually \"command\" is not passed, but we select that part of the actual result\n      // because `runners.doc.runner` always returns all documentation for \"runners\"\n      command = command.substring(8);\n      if(command) command = \" \" + command;\n      menuitem.innerText = \"Run 'runners.doc.runner\" + command + \"'\";\n      menuitem.style.display = \"block\";\n    } else if(command === \"wheel\" || command.startsWith(\"wheel.\")) {\n      // actually \"command\" is not passed, but we select that part of the actual result\n      // because `runners.doc.wheel` always returns all documentation for \"wheel\"\n      command = command.substring(6);\n      if(command) command = \" \" + command;\n      menuitem.innerText = \"Run 'runners.doc.wheel\" + command + \"'\";\n      menuitem.style.display = \"block\";\n    } else {\n      menuitem.innerText = \"Run 'sys.doc \" + command + \"' on \" + target;\n      menuitem.style.display = \"block\";\n    }\n  }\n\n  _manualRunMenuSysDocRun() {\n    const button = document.querySelector(\".run-command input[type='submit']\");\n    if(button.disabled) return;\n    const output = document.querySelector(\".run-command pre\");\n\n    let target = document.querySelector(\".run-command #target\").value;\n    // the help text is taken from the first minion that answers\n    // when no target is selected, just ask all minions\n    if(target === \"\") target = \"*\";\n\n    // do not use the command-parser\n    let command = document.querySelector(\".run-command #command\").value;\n    // remove arguments\n    command = command.trim().replace(/ .*/, \"\");\n    // remove trailing dots\n    command = command.trim().replace(/[.]*$/, \"\");\n    // command can be empty here (but the gui prevents that)\n\n    button.disabled = true;\n    output.innerText = \"Loading...\";\n\n    let docCommand;\n    let dummyCommand;\n    if(command === \"runners\" || command.startsWith(\"runners.\")) {\n      // runners command. docCommand is WITHOUT further arguments\n      docCommand = \"runners.doc.runner\";\n      dummyCommand = \"runners.doc.runner \" + command;\n    } else if(command === \"wheel\" || command.startsWith(\"wheel.\")) {\n      // wheel command. docCommand is WITHOUT further arguments\n      docCommand = \"runners.doc.wheel\";\n      dummyCommand = \"runners.doc.wheel \" + command;\n    } else {\n      // regular command. docCommand is WITH further argument\n      docCommand = \"sys.doc \" + command;\n      dummyCommand = \"sys.doc \" + command;\n    }\n\n    const tgtType = TargetType.menuTargetType._value;\n\n    this.commandbox._getRunParams(tgtType, target, docCommand).then(\n      response => this.commandbox._onRunReturn(response.return[0], dummyCommand)\n    );\n  }\n\n}","import {DropDownMenu} from './DropDown';\n\nexport class RunType {\n\n  static createMenu() {\n    const runblock = document.getElementById(\"runblock\");\n    RunType.menuRunType = new DropDownMenu(runblock);\n    // do not show the menu title at first\n    RunType.menuRunType.setTitle(\"\");\n    RunType.menuRunType.addMenuItem(\"Normal\", this._updateRunTypeText, \"normal\");\n    RunType.menuRunType.addMenuItem(\"Async\", this._updateRunTypeText, \"async\");\n  }\n\n  static _updateRunTypeText() {\n    const runType = RunType.getRunType();\n\n    switch(runType) {\n    case \"normal\":\n      // now that the menu is used show the menu title\n      RunType.menuRunType.setTitle(\"Normal\");\n      break;\n    case \"async\":\n      RunType.menuRunType.setTitle(\"Async\");\n      break;\n    }\n  }\n\n  static setRunTypeDefault() {\n    RunType.menuRunType._value = \"normal\";\n    RunType._updateRunTypeText();\n    // reset the title to the absolute minimum\n    // so that the menu does not stand out in trivial situations\n    RunType.menuRunType.setTitle(\"\");\n  }\n\n  static getRunType() {\n    const runType = RunType.menuRunType._value;\n    if(runType === undefined || runType === \"\") return \"normal\";\n    return runType;\n  }\n\n}\n","import {DropDownMenu} from './DropDown';\n\nexport class TargetType {\n\n  static createMenu() {\n    const targetbox = document.getElementById(\"targetbox\");\n    TargetType.menuTargetType = new DropDownMenu(targetbox);\n    // do not show the menu title at first\n    TargetType.menuTargetType.addMenuItem(\"Normal\", this.manualUpdateTargetTypeText, \"glob\");\n    TargetType.menuTargetType.addMenuItem(\"List\", this.manualUpdateTargetTypeText, \"list\");\n    TargetType.menuTargetType.addMenuItem(TargetType._targetTypeNodeGroupPrepare, this.manualUpdateTargetTypeText, \"nodegroup\");\n    TargetType.menuTargetType.addMenuItem(\"Compound\", this.manualUpdateTargetTypeText, \"compound\");\n    TargetType.setTargetTypeDefault();\n  }\n\n  // It takes a while before we known the list of nodegroups\n  // so this conclusion must be re-evaluated each time\n  static _targetTypeNodeGroupPrepare(menuitem) {\n    const nodegroups = window.localStorage.getItem(\"nodegroups\");\n    if(nodegroups && nodegroups !== \"{}\") {\n      menuitem.innerText = \"Nodegroup\";\n      menuitem.style.display = \"block\";\n    } else {\n      menuitem.style.display = \"none\";\n    }\n  }\n\n  static autoSelectTargetType(target) {\n\n    if(TargetType.menuTargetType._value !== undefined &&\n      TargetType.menuTargetType._value !== \"\" &&\n      !TargetType.menuTargetType._system) {\n      // user has selected the value, do not touch it\n      return;\n    }\n\n    if(target.includes(\"@\") || target.includes(\" \") ||\n       target.includes(\"(\") || target.includes(\")\")) {\n      // \"@\" is a strong indicator for compound target\n      // but \"space\", \"(\" and \")\" are also typical for compound target\n      TargetType.menuTargetType._value = \"compound\";\n      TargetType._updateTargetTypeText();\n      return;\n    }\n\n    if(target.includes(\",\")) {\n      // \",\" is a strong indicator for list target (when it is also not compound)\n      TargetType.menuTargetType._value = \"list\";\n      TargetType._updateTargetTypeText();\n      return;\n    }\n\n    if(target.startsWith(\"#\")) {\n      // \"#\" at the start of a line is a strong indicator for nodegroup target\n      // this is not a SALTSTACK standard, but our own invention\n      TargetType.menuTargetType._value = \"nodegroup\";\n      TargetType._updateTargetTypeText();\n      return;\n    }\n\n    // do not show it when default and not explicitly selected\n    TargetType.setTargetTypeDefault();\n  }\n\n  static manualUpdateTargetTypeText() {\n    TargetType.menuTargetType._system = false;\n    TargetType._updateTargetTypeText();\n  }\n\n  static _updateTargetTypeText() {\n    const targetType = TargetType.getTargetType();\n\n    switch(targetType) {\n    case \"compound\":\n      TargetType.menuTargetType.setTitle(\"Compound\");\n      break;\n    case \"glob\":\n      // now that the menu is used show the menu title\n      TargetType.menuTargetType.setTitle(\"Normal\");\n      break;\n    case \"list\":\n      TargetType.menuTargetType.setTitle(\"List\");\n      break;\n    case \"nodegroup\":\n      TargetType.menuTargetType.setTitle(\"Nodegroup\");\n      break;\n    }\n  }\n\n  static setTargetTypeDefault() {\n    TargetType.menuTargetType._value = \"glob\";\n    // reset the title to the absolute minimum\n    // so that the menu does not stand out in trivial situations\n    TargetType.menuTargetType.setTitle(\"\");\n    TargetType.menuTargetType._system = true;\n  }\n\n  static setTargetType(tt) {\n    TargetType.menuTargetType._value = tt;\n    TargetType.menuTargetType._system = true;\n    TargetType._updateTargetTypeText();\n  }\n\n  static getTargetType() {\n    const targetType = TargetType.menuTargetType._value;\n    if(targetType === undefined || targetType === \"\") return \"glob\";\n    return targetType;\n  }\n\n}\n","import {DropDownMenu} from './DropDown';\nimport {Documentation} from './Documentation';\nimport {RunType} from './RunType';\nimport {TargetType} from './TargetType';\nimport {Output} from './output/Output';\n\nexport class CommandBox {\n\n  constructor(api) {\n    this.api = api;\n    this._getRunParams = this._getRunParams.bind(this);\n    this._onRun = this._onRun.bind(this);\n    this._onRunReturn = this._onRunReturn.bind(this);\n    this._showManualRun = this._showManualRun.bind(this);\n    this._hideManualRun = this._hideManualRun.bind(this);\n\n    const cmdbox = document.querySelector(\".run-command #cmdbox\");\n    this.cmdmenu = new DropDownMenu(cmdbox);\n\n    this.documentation = new Documentation(this);\n    this._registerEventListeners();\n\n    RunType.createMenu();\n    TargetType.createMenu();\n\n    const title = document.querySelector(\".run-command #templatemenuhere\");\n    const menu = new DropDownMenu(title);\n    let templatesText = window.localStorage.getItem(\"templates\");\n    if(!templatesText || templatesText === \"undefined\") templatesText = \"{}\";\n    const templates = JSON.parse(templatesText);\n    const keys = Object.keys(templates).sort();\n    const page = this;\n    for(const key of keys) {\n      const template = templates[key];\n      let description = template[\"description\"];\n      if(!description) description = \"(\" + key + \")\";\n      menu.addMenuItem(\n        description,\n        function() {\n          page._applyTemplate(template);\n        }\n      );\n    }\n  }\n\n  _registerEventListeners() {\n    document.querySelector(\"#popup_runcommand\")\n      .addEventListener(\"click\", this._hideManualRun);\n    document.querySelector(\"#button_manualrun\")\n      .addEventListener(\"click\", this._showManualRun);\n    document.querySelector(\"#button_close_cmd\")\n      .addEventListener(\"click\", this._hideManualRun);\n\n    document.querySelector(\".run-command input[type='submit']\")\n      .addEventListener(\"click\", this._onRun);\n\n    this._addKeyEventListener(\"#target\", _ => {\n      const target = document.querySelector(\".run-command #target\").value;\n      TargetType.autoSelectTargetType(target);\n    });\n\n    this._addKeyEventListener(\"#command\", this.cmdmenu.verifyAll);\n  }\n\n  _applyTemplate(template) {\n\n    if(template.targettype) {\n      let tt = template.targettype;\n      const targetbox = document.querySelector(\"#targetbox\");\n      // show the extended selection controls when\n      targetbox.style.display = \"inherit\";\n      if(tt !== \"glob\" && tt !== \"list\" && tt !== \"compound\" && tt !== \"nodegroup\") {\n        // we don't support that, revert to standard (not default)\n        tt = \"glob\";\n      }\n      TargetType.setTargetType(tt);\n    } else {\n      // not in the template, revert to default\n      TargetType.setTargetTypeDefault();\n    }\n\n    if(template.target) {\n      const target = document.querySelector(\".run-command #target\");\n      target.value = template.target;\n    }\n\n    if(template.command) {\n      const command = document.querySelector(\".run-command #command\");\n      command.value = template.command;\n    }\n  }\n\n  _addKeyEventListener(selector, func) {\n    // keydown is too early, keypress also does not work\n    document.querySelector(selector).addEventListener(\"keyup\", func);\n    // cut/paste do not work everywhere\n    document.querySelector(selector).addEventListener(\"cut\", func);\n    document.querySelector(selector).addEventListener(\"paste\", func);\n    // blur/focus should not be needed but are a valuable fallback\n    document.querySelector(selector).addEventListener(\"blur\", func);\n    document.querySelector(selector).addEventListener(\"focus\", func);\n  }\n\n  _onRun() {\n    const button = document.querySelector(\".run-command input[type='submit']\");\n    if(button.disabled) return;\n    const output = document.querySelector(\".run-command pre\");\n\n    const target = document.querySelector(\".run-command #target\").value;\n    const command = document.querySelector(\".run-command #command\").value;\n\n    const tgtType = TargetType.menuTargetType._value;\n\n    const func = this._getRunParams(tgtType, target, command);\n    if(func === null) return;\n\n    button.disabled = true;\n    output.innerText = \"Loading...\";\n\n    func.then(response => {\n      this._onRunReturn(response.return[0], command);\n    });\n  }\n\n  _onRunReturn(response, command) {\n    const outputContainer = document.querySelector(\".run-command pre\");\n    let minions = Object.keys(response);\n    if(command.startsWith(\"runners.\")) minions = [\"RUNNER\"];\n    if(command.startsWith(\"wheel.\")) minions = [\"WHEEL\"];\n    Output.addResponseOutput(outputContainer, minions, response, command);\n    const button = document.querySelector(\".run-command input[type='submit']\");\n    button.disabled = false;\n  }\n\n  _showManualRun(evt) {\n    const manualRun = document.querySelector(\"#popup_runcommand\");\n    manualRun.style.display = \"block\";\n\n    document.body.style[\"overflow-y\"] = \"hidden\";\n    document.querySelector(\".run-command pre\").innerText = \"Waiting for command...\";\n\n    const target = document.querySelector(\".run-command #target\").value;\n    TargetType.autoSelectTargetType(target);\n\n    RunType.setRunTypeDefault();\n\n    // (re-)populate the dropdown box\n    const targetlist = document.getElementById(\"targetlist\");\n    while(targetlist.firstChild) {\n      targetlist.removeChild(targetlist.firstChild);\n    }\n    const nodegroups = JSON.parse(window.localStorage.getItem(\"nodegroups\"));\n    if(nodegroups) {\n      for(const nodegroup of Object.keys(nodegroups).sort()) {\n        const option = document.createElement(\"option\");\n        option.value = \"#\" + nodegroup;\n        targetlist.appendChild(option);\n      }\n    }\n    const minions = JSON.parse(window.localStorage.getItem(\"minions\"));\n    if(minions) {\n      for(const minion of minions.sort()) {\n        const option = document.createElement(\"option\");\n        option.value = minion;\n        targetlist.appendChild(option);\n      }\n    }\n\n    evt.stopPropagation();\n  }\n\n  _hideManualRun(evt) {\n    //Don't close if they click inside the window\n    if(evt.target.className !== \"popup\" && evt.target.className !== \"nearlyvisiblebutton\") return;\n\n    const manualRun = document.querySelector(\"#popup_runcommand\");\n    manualRun.style.display = \"none\";\n\n    document.body.style[\"overflow-y\"] = \"scroll\";\n\n    // reset to default, so that its value is initially hidden\n    RunType.setRunTypeDefault();\n    TargetType.setTargetTypeDefault();\n\n    // test whether the command may have caused an update to the list\n    // the user may have altered the text after running the command, just ignore that\n    const command = document.querySelector(\".run-command #command\").value.split(\" \")[0];\n    const output = document.querySelector(\".run-command pre\").innerText;\n    const screenModifyingCommands = [\n      \"grains.append\",\n      \"grains.delkey\",\n      \"grains.delval\",\n      \"grains.setval\",\n      \"saltutil.refresh_grains\",\n      \"saltutil.refresh_pillar\",\n      \"schedule.delete\",\n      \"schedule.disable\",\n      \"schedule.disable_job\",\n      \"schedule.enable\",\n      \"schedule.enable_job\",\n      \"schedule.modify\",\n      \"wheel.key.accept\",\n      \"wheel.key.delete\",\n      \"wheel.key.reject\",\n    ];\n    if(screenModifyingCommands.includes(command) && output !== \"Waiting for command...\") {\n      location.reload();\n    }\n\n    evt.stopPropagation();\n  }\n\n  _showError(message) {\n    this._onRunReturn(message, \"\");\n  }\n\n  _getRunParams(tgtType, target, toRun) {\n\n    // The leading # was used to indicate a nodegroup\n    if(tgtType === \"nodegroup\" && target.startsWith(\"#\")) {\n      target = target.substring(1);\n    }\n\n    if(toRun === \"\") {\n      this._showError(\"'Command' field cannot be empty\");\n      return null;\n    }\n\n    // collection for unnamed parameters\n    const args = [ ];\n\n    // collection for named parameters\n    const kwargs = { };\n\n    const ret = window.parseCommandLine(toRun, args, kwargs);\n    if(ret !== null) {\n      // that is an error message being returned\n      this._showError(ret);\n      return null;\n    }\n\n    if(args.length === 0) {\n      this._showError(\"First (unnamed) parameter is the function name, it is mandatory\");\n      return null;\n    }\n\n    const functionToRun = args.shift();\n\n    if(typeof functionToRun !== \"string\") {\n      this._showError(\"First (unnamed) parameter is the function name, it must be a string, not a \" + typeof functionToRun);\n      return null;\n    }\n\n    // RUNNERS commands do not have a target (MASTER is the target)\n    // WHEEL commands also do not have a target\n    // but we use the TARGET value to form the usually required MATCH parameter\n    // therefore for WHEEL commands it is still required\n    if(target === \"\" && functionToRun !== \"runners\" && !functionToRun.startsWith(\"runners.\")) {\n      this._showError(\"'Target' field cannot be empty\");\n      return null;\n    }\n\n    // SALT API returns a 500-InternalServerError when it hits an unknown group\n    // Let's improve on that\n    if(tgtType === \"nodegroup\") {\n      const nodegroups = JSON.parse(window.localStorage.getItem(\"nodegroups\"));\n      if(!nodegroups || !(target in nodegroups)) {\n        this._showError(\"Unknown nodegroup '\" + target + \"'\");\n        return null;\n      }\n    }\n\n    let params = { };\n    if(functionToRun.startsWith(\"runners.\")) {\n      params = kwargs;\n      params.client = \"runner\";\n      // use only the part after \"runners.\" (8 chars)\n      params.fun = functionToRun.substring(8);\n      if(args.length > 0) params.arg = args;\n    } else if(functionToRun.startsWith(\"wheel.\")) {\n      // wheel.key functions are treated slightly different\n      // we re-use the \"target\" field to fill the parameter \"match\"\n      // as used by the salt.wheel.key functions\n      params = kwargs;\n      params.client = \"wheel\";\n      // use only the part after \"wheel.\" (6 chars)\n      params.fun = functionToRun.substring(6);\n      params.match = target;\n    } else {\n      params.client = \"local\";\n      params.fun = functionToRun;\n      params.tgt = target;\n      if(tgtType) params.tgt_type = tgtType;\n      if(args.length !== 0) params.arg = args;\n      if(Object.keys(kwargs).length > 0) params.kwarg = kwargs;\n    }\n\n    const runType = RunType.getRunType();\n    if(params.client === \"local\" && runType === \"async\") {\n      params.client = \"local_async\";\n      // return looks like:\n      // { \"jid\": \"20180718173942195461\", \"minions\": [ ... ] }\n    }\n\n    return this.api.apiRequest(\"POST\", \"/\", params)\n      .catch(error => {\n        this._showError(error.message);\n        return error;\n      });\n  }\n}\n","export class HTTPError extends Error {\n  constructor(status, message) {\n    super();\n    this.status = status;\n    this.message = message;\n  }\n}\n\n\nexport class API {\n  constructor(apiurl=\"\") {\n    this.APIURL = apiurl;\n  }\n\n  isAuthenticated() {\n    // use the /stats api call to see if we are allowed to access SaltGUI\n    // (if the session cookie is still valid)\n    return this.apiRequest(\"GET\", \"/stats\", {})\n      .then(response => {\n        return window.sessionStorage.getItem(\"token\") !== null;\n      }, response => { return false; } );\n  }\n\n  login(username, password, eauth=\"pam\") {\n    const params = {\n      username: username,\n      password: password,\n      eauth: eauth\n    };\n\n    // store it as the default login method\n    window.localStorage.setItem(\"eauth\", eauth);\n\n    return this.apiRequest(\"POST\", \"/login\", params)\n      .then(data => {\n        const response = data.return[0];\n        if(Object.keys(response.perms).length === 0) {\n          // we are allowed to login but there are no permissions available\n          throw new HTTPError(403, \"Unauthorized\");\n        }\n        window.sessionStorage.setItem(\"token\", response.token);\n      });\n  }\n\n  logout() {\n    // only delete the session here as the router should take care of\n    // redirecting to the login screen\n    return this.apiRequest(\"POST\", \"/logout\", {})\n      .then(response => {\n        window.sessionStorage.removeItem(\"token\");\n      });\n  }\n\n  getLocalGrainsItems(minion) {\n    const params = {\n      client: \"local\",\n      fun: \"grains.items\",\n    };\n    if(minion) {\n      params.tgt_type = \"list\";\n      params.tgt = minion;\n    } else {\n      params.tgt_type = \"glob\";\n      params.tgt = \"*\";\n    }\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getLocalPillarItems(minion) {\n    const params = {\n      client: \"local\",\n      fun: \"pillar.items\"\n    };\n    if(minion) {\n      params.tgt_type = \"list\";\n      params.tgt = minion;\n    } else {\n      params.tgt_type = \"glob\";\n      params.tgt = \"*\";\n    }\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getLocalPillarObfuscate(minion) {\n    const params = {\n      client: \"local\",\n      fun: \"pillar.obfuscate\"\n    };\n    if(minion) {\n      params.tgt_type = \"list\";\n      params.tgt = minion;\n    } else {\n      params.tgt_type = \"glob\";\n      params.tgt = \"*\";\n    }\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getLocalScheduleList(minion) {\n    const params = {\n      client: \"local\",\n      fun: \"schedule.list\",\n      kwarg: { return_yaml: false }\n    };\n    if(minion) {\n      params.tgt_type = \"list\";\n      params.tgt = minion;\n    } else {\n      params.tgt_type = \"glob\";\n      params.tgt = \"*\";\n    }\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getRunnerJobsActive() {\n    const params = {\n      client: \"runner\",\n      fun: \"jobs.active\"\n    };\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getRunnerJobsListJob(id) {\n    const params = {\n      client: \"runner\",\n      fun: \"jobs.list_job\",\n      jid: id\n    };\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getRunnerJobsListJobs() {\n    const params = {\n      client: \"runner\",\n      fun: \"jobs.list_jobs\"\n    };\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getWheelConfigValues() {\n    const params = {\n      client: \"wheel\",\n      fun: \"config.values\"\n    };\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getWheelKeyFinger() {\n    const params = {\n      client: \"wheel\",\n      fun: \"key.finger\",\n      match: \"*\"\n    };\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getWheelKeyListAll() {\n    const params = {\n      client: \"wheel\",\n      fun: \"key.list_all\",\n    };\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  apiRequest(method, route, params) {\n    const location = this.APIURL + route;\n    const token = window.sessionStorage.getItem(\"token\");\n    const headers = {\n      \"Accept\": \"application/json\",\n      \"X-Auth-Token\": token !== null ? token : \"\",\n      \"Cache-Control\": \"no-cache\"\n    };\n    const options = {\n      method: method,\n      url: location,\n      headers: headers\n    };\n\n    if(method === \"POST\") options.body = JSON.stringify(params);\n\n    return fetch(location, options)\n      .then(response => {\n        if(response.ok) return response.json();\n        // fetch does not reject on > 300 http status codes, so let's\n        // do it ourselves\n        throw new HTTPError(response.status, response.statusText);\n      });\n  }\n}\n","import {LoginRoute} from './routes/Login';\nimport {MinionsRoute} from './routes/Minions';\nimport {KeysRoute} from './routes/Keys';\nimport {GrainsRoute} from './routes/Grains';\nimport {GrainsMinionRoute} from './routes/GrainsMinion';\nimport {SchedulesRoute} from './routes/Schedules';\nimport {SchedulesMinionRoute} from './routes/SchedulesMinion';\nimport {PillarsRoute} from './routes/Pillars';\nimport {PillarsMinionRoute} from './routes/PillarsMinion';\nimport {JobRoute} from './routes/Job';\nimport {JobsRoute} from './routes/Jobs';\nimport {TemplatesRoute} from './routes/Templates';\nimport {CommandBox} from './CommandBox';\nimport {API} from './Api';\n\nexport class Router {\n\n  constructor() {\n    this.api = new API();\n    this.commandbox = new CommandBox(this.api);\n    this.currentRoute = undefined;\n    this.routes = [];\n\n    this.registerRoute(new LoginRoute(this));\n    this.registerRoute(new MinionsRoute(this));\n    this.registerRoute(new KeysRoute(this));\n    this.registerRoute(new GrainsRoute(this));\n    this.registerRoute(new GrainsMinionRoute(this));\n    this.registerRoute(new SchedulesRoute(this));\n    this.registerRoute(new SchedulesMinionRoute(this));\n    this.registerRoute(new PillarsRoute(this));\n    this.registerRoute(new PillarsMinionRoute(this));\n    this.registerRoute(new JobRoute(this));\n    this.registerRoute(new JobsRoute(this));\n    this.registerRoute(new TemplatesRoute(this));\n\n    // show template menu item if templates defined\n    const templatesText = window.localStorage.getItem(\"templates\");\n    if(templatesText && templatesText !== \"undefined\") {\n      const item1 = document.querySelector(\"#button_templates1\");\n      item1.style.display = \"inline-block\";\n      const item2 = document.querySelector(\"#button_templates2\");\n      item2.style.display = \"inline-block\";\n    }\n\n    this._registerEventListeners();\n\n    this.api.isAuthenticated()\n      .then(valid_session => this.goTo(\n        valid_session ? window.location.pathname + window.location.search : \"/login\"))\n      .catch(error => {\n        console.error(error);\n        this.goTo(\"/login\");\n      });\n  }\n\n  _registerEventListeners() {\n    const router = this;\n\n    document.querySelector(\".logo\")\n      .addEventListener(\"click\", _ => {\n        if(window.location.pathname === \"/login\") return;\n        router.goTo(\"/\");\n      });\n\n    document.querySelector(\"#button_minions1\")\n      .addEventListener(\"click\", _ => {\n        window.location.replace(\"/\");\n      });\n    document.querySelector(\"#button_minions2\")\n      .addEventListener(\"click\", _ => {\n        window.location.replace(\"/\");\n      });\n\n    document.querySelector(\"#button_grains1\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/grains\");\n      });\n    document.querySelector(\"#button_grains2\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/grains\");\n      });\n\n    document.querySelector(\"#button_schedules1\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/schedules\");\n      });\n    document.querySelector(\"#button_schedules2\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/schedules\");\n      });\n\n    document.querySelector(\"#button_pillars1\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/pillars\");\n      });\n    document.querySelector(\"#button_pillars2\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/pillars\");\n      });\n\n    document.querySelector(\"#button_keys1\")\n      .addEventListener(\"click\", _ => {\n        window.location.replace(\"/keys\");\n      });\n    document.querySelector(\"#button_keys2\")\n      .addEventListener(\"click\", _ => {\n        window.location.replace(\"/keys\");\n      });\n\n    document.querySelector(\"#button_jobs1\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/jobs\");\n      });\n    document.querySelector(\"#button_jobs2\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/jobs\");\n      });\n\n    document.querySelector(\"#button_templates1\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/templates\");\n      });\n    document.querySelector(\"#button_templates2\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/templates\");\n      });\n\n    document.querySelector(\"#button_logout1\")\n      .addEventListener(\"click\", _ => {\n        this.api.logout().then(() => {\n          window.location.replace(\"/\");\n        });\n      });\n    document.querySelector(\"#button_logout2\")\n      .addEventListener(\"click\", _ => {\n        this.api.logout().then(() => {\n          window.location.replace(\"/\");\n        });\n      });\n  }\n\n  registerRoute(route) {\n    this.routes.push(route);\n    if(route.onRegister) route.onRegister();\n  }\n\n  goTo(path) {\n    if(this.switchingRoute) return;\n    if(window.location.pathname === path && this.currentRoute) return;\n    for(const route of this.routes) {\n      if(!route.getPath().test(path.split(\"?\")[0])) continue;\n\n      window.history.pushState({}, undefined, path);\n      this.showRoute(route);\n      return;\n    }\n  }\n\n  showRoute(route) {\n    const router = this;\n    route.getPageElement().style.display = \"\";\n\n    const minionMenuItem = document.getElementById(\"button_minions1\");\n    const jobsMenuItem = document.getElementById(\"button_jobs1\");\n\n    Array.from(document.querySelectorAll(\".menu_item_active\")).forEach(\n      function (e){ e.classList.remove(\"menu_item_active\"); }\n    );\n\n    const elem1 = route.getMenuItemElement1();\n    if(elem1) {\n      elem1.classList.add(\"menu_item_active\");\n      // activate also parent menu item if child element is selected\n      if(elem1.id === \"button_pillars1\" || elem1.id === \"button_schedules1\" || elem1.id === \"button_grains1\") {\n        minionMenuItem.classList.add(\"menu_item_active\");\n      }\n      if(elem1.id === \"button_jobs1\" || elem1.id === \"button_templates1\") {\n        jobsMenuItem.classList.add(\"menu_item_active\");\n      }\n    }\n\n    const elem2 = route.getMenuItemElement2();\n    if(elem2) {\n      elem2.classList.add(\"menu_item_active\");\n    }\n\n    router.switchingRoute = true;\n\n    const afterLoad = function(route) {\n      if(router.currentRoute !== undefined) {\n        router.hideRoute(router.currentRoute);\n      }\n\n      router.currentRoute = route;\n      document.title = \"SaltGUI - \" + router.currentRoute.getName();\n      router.currentRoute.getPageElement().className = \"route current\";\n      router.switchingRoute = false;\n    };\n\n    let response;\n    if(route.onShow) response = route.onShow();\n\n    if(response && response.then) response.then(afterLoad(route));\n    else afterLoad(route);\n  }\n\n  hideRoute(route) {\n    route.getPageElement().className = \"route\";\n    setTimeout(function() {\n      //Hide element after fade, so it does not expand the body\n      route.getPageElement().style.display = \"none\";\n    }, 500);\n    if(route.onHide) route.onHide();\n  }\n\n}","import '../sorttable/sorttable';\nimport './ParseCommandLine';\nimport './Utils';\n\nimport {Router} from './Router';\n\nwindow.addEventListener(\"load\", () => new Router());"],"sourceRoot":""}