{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./saltgui/static/sorttable/sorttable.js","webpack:///./saltgui/static/scripts/parsecmdline.js","webpack:///./saltgui/static/scripts/utils.js","webpack:///./saltgui/static/scripts/routes/Route.js","webpack:///./saltgui/static/scripts/routes/PageRoute.js","webpack:///./saltgui/static/scripts/DropDownMenu.js","webpack:///./saltgui/static/scripts/output/OutputDocumentation.js","webpack:///./saltgui/static/scripts/output/OutputHighstate.js","webpack:///./saltgui/static/scripts/output/OutputJson.js","webpack:///./saltgui/static/scripts/output/OutputNested.js","webpack:///./saltgui/static/scripts/output/OutputSaltGuiHighstate.js","webpack:///./saltgui/static/scripts/output/OutputYaml.js","webpack:///./saltgui/static/scripts/output/Output.js","webpack:///./saltgui/static/scripts/routes/GrainsMinionRoute.js","webpack:///./saltgui/static/scripts/routes/GrainsRoute.js","webpack:///./saltgui/static/scripts/routes/JobRoute.js","webpack:///./saltgui/static/scripts/routes/JobsRoute.js","webpack:///./saltgui/static/scripts/routes/KeysRoute.js","webpack:///./saltgui/static/scripts/routes/LoginRoute.js","webpack:///./saltgui/static/scripts/routes/MinionsRoute.js","webpack:///./saltgui/static/scripts/routes/PillarsMinionRoute.js","webpack:///./saltgui/static/scripts/routes/PillarsRoute.js","webpack:///./saltgui/static/scripts/routes/SchedulesRoute.js","webpack:///./saltgui/static/scripts/routes/SchedulesMinionRoute.js","webpack:///./saltgui/static/scripts/routes/TemplatesRoute.js","webpack:///./saltgui/static/scripts/API.js","webpack:///./saltgui/static/scripts/Documentation.js","webpack:///./saltgui/static/scripts/RunType.js","webpack:///./saltgui/static/scripts/TargetType.js","webpack:///./saltgui/static/scripts/CommandBox.js","webpack:///./saltgui/static/scripts/Router.js","webpack:///./saltgui/static/scripts/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","sorttable","init","arguments","callee","done","_timer","clearInterval","document","createElement","getElementsByTagName","DATE_RE","forEach","table","className","search","makeSortable","length","the","appendChild","rows","insertBefore","firstChild","tHead","sortbottomrows","tFoot","tfo","headrow","cells","match","mtch","override","sorttable_sortfunction","guessType","sorttable_columnindex","sorttable_tbody","tBodies","dean_addEvent","innerSortFunction","e","this","reverse","replace","removeChild","getElementById","sortrevind","id","innerHTML","sortfwdind","theadrow","parentNode","childNodes","cell","nodeType","row_array","col","j","getInnerText","sort","tb","column","sortfn","sort_alpha","text","sort_numeric","possdate","first","parseInt","second","sort_ddmm","sort_mmdd","node","hasInputs","getAttribute","textContent","innerText","nodeName","toLowerCase","nodeValue","tbody","newrows","a","b","aa","parseFloat","isNaN","bb","y","dt1","dt2","shaker_sort","list","comp_func","swap","q","addEventListener","test","navigator","userAgent","setInterval","readyState","element","type","handler","$$guid","guid","events","handlers","handleEvent","event","returnValue","fixEvent","ownerDocument","parentWindow","window","$$handleEvent","preventDefault","stopPropagation","onload","cancelBubble","Array","array","block","context","Function","String","string","split","chr","index","resolve","patNull","patBooleanFalse","patBooleanTrue","patJid","patInteger","patFloat","parseCommandLine","toRun","args","params","trim","firstSpaceChar","indexOf","firstEqualSign","substr","endChar","undefined","objType","substring","JSON","parse","err","str","isFinite","push","elapsedToString","date","secondsPassed","Date","getTime","Math","round","content","classList","add","getQueryParam","vars","hashes","location","href","slice","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","hashparts","return","escape","input","div","createTextNode","makeTargetText","targetType","targetPattern","returnText","Route","path","page_selector","menuitem_selector","router","_classCallCheck","RegExp","page_element","querySelector","menuitem_element1","menuitem_element2","td","evt","targetString","commandString","_runFullCommand","targettype","commandbox","_showManualRun","target","command","targetbox","startsWith","endsWith","tt","style","display","TargetType","setTargetType","cmdmenu","verifyAll","rawArguments","rawObject","argumentsText","_typeof","keys","includes","stringify","PageRoute","_Route","_this","PageRoute_classCallCheck","_getPrototypeOf","_runCommand","_assertThisInitialized","_runningJobs","_updateJobs","_updateMinions","_inherits","data","minions","getPageElement","hostnames","localStorage","setItem","hostname","minion_info","_updateOfflineMinion","_updateMinion","container","_getElement","_createTd","offline","minion","ipv4","fqdn_ip4","isArray","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_getBestIpNumber","address","ipv4parts","sorttable_customkey","padStart","setAttribute","_copyAddress","accepted","saltversion","os","osrelease","img","prepend","freeColumns","tr","numberOfJobs","detailedJob","jobContainer","jobs","_jobsToArray","_sortJobs","shown","job","_addDetailedJob","_addJob","jobsLoaded","keysLoaded","resolvePromise","jobsStatus","k","targetText","targetField","Target","Running","Returned","remove","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","statusField","_createDiv","functionText","startTimeText","Output","dateTimeStr","StartTime","DropDownMenu","addMenuItem","assign","encodeURIComponent","_createJobListener","jidText","_decodeArgumentsText","Arguments","menu","parentElement","goTo","newArray","_i","selection","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","execCommand","DropDownMenu_classCallCheck","callback","tagName","nelement","menuDropdown","menuButton","menuDropdownContent","visibleCount","children","chld","verifyCallback","display_visible","title","button","_value","OutputDocumentation","OutputDocumentation_classCallCheck","filterKey","output","response","isOutputFormatAllowed","result","reduceFilterKey","_arr","OutputDocumentation_typeof","_arr2","_i2","isDocuKeyMatch","visualKey","selectedMinion","_arr3","_i3","hostResponse","_arr4","_i4","savedDocumentation","outputContainer","_arr5","_i5","out","trimRight","reference","words","console","log","link","OutputHighstate","OutputHighstate_classCallCheck","OutputHighstate_typeof","millis","concat","anyFailures","anySkips","task","getHostnameHtml","tasks","taskKey","___key___","__run_num__","succeeded","failed","skipped","total_millis","changes","taskDiv","span","color","append","__id__","__sls__","components","indent","comment","txt","change","lines","line","old","new","taskkey","start_time","duration","getDurationClause","item","total","OutputJson","OutputJson_classCallCheck","OutputJson_typeof","indentLevel","formatSimpleJSON","separator","elem","repeat","formatJSON","OutputNested","OutputNested_classCallCheck","msg","prefix","suffix","ret","ustring","first_line","line_prefix","OutputNested_typeof","ind","val","join","OutputSaltGuiHighstate","OutputSaltGuiHighstate_classCallCheck","OutputSaltGuiHighstate_typeof","idx","addChangesInfo","OutputYaml","OutputYaml_classCallCheck","needQuotes","Number","OutputYaml_typeof","formatSimpleYAML","formatYAML","Output_classCallCheck","requestedOutputFormat","supportedOutputFormats","getItem","RUNNER","WHEEL","extraClass","obj","formatNESTED","formatObject","props","Output_typeof","prop","datetime_fraction_digits_str","datetime_fraction_digits_nr","dotPos","addVirtualMinion","commandArg","isDocumentationOutput","reduceDocumentationOutput","addDocumentationOutput","allDiv","isAsyncOutput","cntResponses","cntMinions","masterTriangle","_","childs","getElementsByClassName","MouseEvent","dispatchEvent","nrMultiLineBlocks","_loop","hasProperties","hostOutput","hostMultiLine","fndRepresentation","hostClass","hostLabel","getTextOutput","getNormalOutput","commandCmd","isHighStateOutput","getHighStateLabel","getHighStateOutput","triangle","GrainsMinionRoute","_PageRoute","GrainsMinionRoute_classCallCheck","GrainsMinionRoute_getPrototypeOf","_showGrains","GrainsMinionRoute_assertThisInitialized","GrainsMinionRoute_inherits","decodeURIComponent","Promise","reject","api","getGrainsItems","then","getJobs","getJobsActive","_this2","grains","gmp","deleteRow","grain","grain_value","require","GrainsRoute","GrainsRoute_classCallCheck","GrainsRoute_getPrototypeOf","_updateKeys","GrainsRoute_assertThisInitialized","previewGrainsText","_previewGrains","childElementCount","lastChild","th","GrainsRoute_inherits","getMinions","getKeys","_addMinion","_addMenuItemShowGrains","_get","cnt","grainInfoText","grainInfoTd","grainName","JobRoute","JobRoute_classCallCheck","JobRoute_getPrototypeOf","_onJobData","JobRoute_assertThisInitialized","JobRoute_inherits","getJob","success","retcode","info","commandText","jobinfo","menuSection","minionList","Minions","lst","has1","has2","Result","_isResultOk","addResponseOutput","JobsRoute","JobsRoute_classCallCheck","JobsRoute_possibleConstructorReturn","JobsRoute_getPrototypeOf","JobsRoute_inherits","KeysRoute","KeysRoute_classCallCheck","KeysRoute_getPrototypeOf","KeysRoute_assertThisInitialized","_updateKeysFingerprint","KeysRoute_inherits","p1","p2","getKeysFingerprint","all","hosts","fingerprintElement","fingerprint","hostnames_pre","minions_pre","_addPreMinion","hostnames_accepted","_addMenuItemReject","_addMenuItemDelete","hostnames_denied","minions_denied","_addDeniedMinion","hostnames_rejected","minions_rejected","_addRejectedMinion","summary","KeysRoute_get","rejected","_addMenuItemAccept","denied","pre","extra","LoginRoute","LoginRoute_classCallCheck","LoginRoute_getPrototypeOf","loginPending","onLogin","LoginRoute_assertThisInitialized","onLoginSuccess","onLoginFailure","registerEventListeners","LoginRoute_inherits","eauthSelector","eauthValue","username","password","eauth","toggleForm","login","notice","backgroundColor","replaceChild","disabled","focus","authFailed","allowSubmit","MinionsRoute","MinionsRoute_classCallCheck","MinionsRoute_getPrototypeOf","MinionsRoute_assertThisInitialized","MinionsRoute_inherits","getConfigValues","_configvalues","templates","saltgui_templates","public_pillars","saltgui_public_pillars","preview_grains","saltgui_preview_grains","nodegroups","output_formats","saltgui_output_formats","datetime_fraction_digits","saltgui_datetime_fraction_digits","_addMenuItemStateApply","MinionsRoute_get","_this3","PillarsMinionRoute","PillarsMinionRoute_classCallCheck","PillarsMinionRoute_getPrototypeOf","_showPillars","PillarsMinionRoute_assertThisInitialized","PillarsMinionRoute_inherits","getPillarItems","pillars","pmp","_addMenuItemRefreshPillar","publicPillarsText","pillar","pillar_hidden","value_shown","pillar_shown","noPillarsMsg","PillarsRoute","PillarsRoute_classCallCheck","PillarsRoute_getPrototypeOf","PillarsRoute_assertThisInitialized","PillarsRoute_inherits","getPillarObfuscate","_addMenuItemShowPillars","PillarsRoute_get","pillarInfoText","pillarInfoTd","SchedulesRoute","SchedulesRoute_classCallCheck","SchedulesRoute_getPrototypeOf","SchedulesRoute_assertThisInitialized","SchedulesRoute_inherits","schedules","enabled","getScheduleList","_addMenuItemShowSchedules","SchedulesRoute_get","_fixMinion","scheduleinfo","statusDiv","SchedulesMinionRoute","SchedulesMinionRoute_classCallCheck","SchedulesMinionRoute_getPrototypeOf","_showSchedules","SchedulesMinionRoute_assertThisInitialized","SchedulesMinionRoute_inherits","page","schedule","jid_include","maxrunning","isJobDisabled","cmd","schedule_value","noSchedulesMsg","TemplatesRoute","TemplatesRoute_classCallCheck","TemplatesRoute_getPrototypeOf","_updateTemplates","TemplatesRoute_assertThisInitialized","_applyTemplate","TemplatesRoute_inherits","template","_addTemplate","description","HTTPError","_Error","status","message","API_classCallCheck","API_possibleConstructorReturn","API_getPrototypeOf","API_inherits","_wrapNativeSuper","Error","API","apiurl","APIURL","apiRequest","sessionStorage","perms","token","removeItem","client","fun","catch","error","tgt_type","tgt","kwarg","return_yaml","method","route","options","url","headers","Accept","X-Auth-Token","Cache-Control","body","fetch","ok","json","statusText","Documentation","Documentation_classCallCheck","_manualRunMenuSysDocRun","_manualRunMenuSysDocPrepare","menuitem","docCommand","dummyCommand","tgtType","menuTargetType","_getRunParams","_onRunReturn","RunType","RunType_classCallCheck","runblock","menuRunType","setTitle","_updateRunTypeText","getRunType","runType","TargetType_classCallCheck","manualUpdateTargetTypeText","_targetTypeNodeGroupPrepare","setTargetTypeDefault","_system","_updateTargetTypeText","getTargetType","CommandBox","CommandBox_classCallCheck","_onRun","_hideManualRun","cmdbox","documentation","_registerEventListeners","createMenu","templatesText","_addKeyEventListener","autoSelectTargetType","selector","func","setRunTypeDefault","targetlist","nodegroup","option","reload","_showError","kwargs","functionToRun","shift","CommandBox_typeof","arg","Router","Router_classCallCheck","currentRoute","routes","registerRoute","isAuthenticated","valid_session","pathname","logout","onRegister","switchingRoute","getPath","history","pushState","showRoute","minionMenuItem","jobsMenuItem","from","querySelectorAll","elem1","getMenuItemElement1","elem2","getMenuItemElement2","afterLoad","hideRoute","getName","onShow","setTimeout","onHide","bootstrap"],"mappings":"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","file":"saltgui.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","/*\n  SortTable\n  version 2\n  7th April 2007\n  Stuart Langridge, http://www.kryogenix.org/code/browser/sorttable/\n\n  Instructions:\n  Download this file\n  Add <script src=\"sorttable.js\"></script> to your HTML\n  Add class=\"sortable\" to any table you'd like to make sortable\n  Click on the headers to sort\n\n  Thanks to many, many people for contributions and suggestions.\n  Licenced as X11: http://www.kryogenix.org/code/browser/licence.html\n  This basically means: do what you want with it.\n*/\n\n\nvar stIsIE = /*@cc_on!@*/false;\n\nsorttable = {\n  init: function() {\n    // quit if this function has already been called\n    if (arguments.callee.done) return;\n    // flag this function so we don't do the same thing twice\n    arguments.callee.done = true;\n    // kill the timer\n    if (_timer) clearInterval(_timer);\n\n    if (!document.createElement || !document.getElementsByTagName) return;\n\n    sorttable.DATE_RE = /^(\\d\\d?)[\\/\\.-](\\d\\d?)[\\/\\.-]((\\d\\d)?\\d\\d)$/;\n\n    forEach(document.getElementsByTagName('table'), function(table) {\n      if (table.className.search(/\\bsortable\\b/) != -1) {\n        sorttable.makeSortable(table);\n      }\n    });\n\n  },\n\n  makeSortable: function(table) {\n    if (table.getElementsByTagName('thead').length == 0) {\n      // table doesn't have a tHead. Since it should have, create one and\n      // put the first table row in it.\n      the = document.createElement('thead');\n      the.appendChild(table.rows[0]);\n      table.insertBefore(the,table.firstChild);\n    }\n    // Safari doesn't support table.tHead, sigh\n    if (table.tHead == null) table.tHead = table.getElementsByTagName('thead')[0];\n\n    if (table.tHead.rows.length != 1) return; // can't cope with two header rows\n\n    // Sorttable v1 put rows with a class of \"sortbottom\" at the bottom (as\n    // \"total\" rows, for example). This is B&R, since what you're supposed\n    // to do is put them in a tfoot. So, if there are sortbottom rows,\n    // for backwards compatibility, move them to tfoot (creating it if needed).\n    sortbottomrows = [];\n    for (var i=0; i<table.rows.length; i++) {\n      if (table.rows[i].className.search(/\\bsortbottom\\b/) != -1) {\n        sortbottomrows[sortbottomrows.length] = table.rows[i];\n      }\n    }\n    if (sortbottomrows) {\n      if (table.tFoot == null) {\n        // table doesn't have a tfoot. Create one.\n        tfo = document.createElement('tfoot');\n        table.appendChild(tfo);\n      }\n      for (var i=0; i<sortbottomrows.length; i++) {\n        tfo.appendChild(sortbottomrows[i]);\n      }\n      delete sortbottomrows;\n    }\n\n    // work through each column and calculate its type\n    headrow = table.tHead.rows[0].cells;\n    for (var i=0; i<headrow.length; i++) {\n      // manually override the type with a sorttable_type attribute\n      if (!headrow[i].className.match(/\\bsorttable_nosort\\b/)) { // skip this col\n        mtch = headrow[i].className.match(/\\bsorttable_([a-z0-9]+)\\b/);\n        if (mtch) { override = mtch[1]; }\n\t      if (mtch && typeof sorttable[\"sort_\"+override] == 'function') {\n\t        headrow[i].sorttable_sortfunction = sorttable[\"sort_\"+override];\n\t      } else {\n\t        headrow[i].sorttable_sortfunction = sorttable.guessType(table,i);\n\t      }\n\t      // make it clickable to sort\n\t      headrow[i].sorttable_columnindex = i;\n\t      headrow[i].sorttable_tbody = table.tBodies[0];\n\t      dean_addEvent(headrow[i],\"click\", sorttable.innerSortFunction = function(e) {\n\n          if (this.className.search(/\\bsorttable_sorted\\b/) != -1) {\n            // if we're already sorted by this column, just\n            // reverse the table, which is quicker\n            sorttable.reverse(this.sorttable_tbody);\n            this.className = this.className.replace('sorttable_sorted',\n                                                    'sorttable_sorted_reverse');\n            this.removeChild(document.getElementById('sorttable_sortfwdind'));\n            sortrevind = document.createElement('span');\n            sortrevind.id = \"sorttable_sortrevind\";\n            sortrevind.innerHTML = stIsIE ? '&nbsp<font face=\"webdings\">5</font>' : '&nbsp;\\u2191';\n            this.appendChild(sortrevind);\n            return;\n          }\n          if (this.className.search(/\\bsorttable_sorted_reverse\\b/) != -1) {\n            // if we're already sorted by this column in reverse, just\n            // re-reverse the table, which is quicker\n            sorttable.reverse(this.sorttable_tbody);\n            this.className = this.className.replace('sorttable_sorted_reverse',\n                                                    'sorttable_sorted');\n            this.removeChild(document.getElementById('sorttable_sortrevind'));\n            sortfwdind = document.createElement('span');\n            sortfwdind.id = \"sorttable_sortfwdind\";\n            sortfwdind.innerHTML = stIsIE ? '&nbsp<font face=\"webdings\">6</font>' : '&nbsp;\\u2193';\n            this.appendChild(sortfwdind);\n            return;\n          }\n\n          // remove sorttable_sorted classes\n          theadrow = this.parentNode;\n          forEach(theadrow.childNodes, function(cell) {\n            if (cell.nodeType == 1) { // an element\n              cell.className = cell.className.replace('sorttable_sorted_reverse','');\n              cell.className = cell.className.replace('sorttable_sorted','');\n            }\n          });\n          sortfwdind = document.getElementById('sorttable_sortfwdind');\n          if (sortfwdind) { sortfwdind.parentNode.removeChild(sortfwdind); }\n          sortrevind = document.getElementById('sorttable_sortrevind');\n          if (sortrevind) { sortrevind.parentNode.removeChild(sortrevind); }\n\n          this.className += ' sorttable_sorted';\n          sortfwdind = document.createElement('span');\n          sortfwdind.id = \"sorttable_sortfwdind\";\n          sortfwdind.innerHTML = stIsIE ? '&nbsp<font face=\"webdings\">6</font>' : '&nbsp;\\u2193';\n          this.appendChild(sortfwdind);\n\n\t        // build an array to sort. This is a Schwartzian transform thing,\n\t        // i.e., we \"decorate\" each row with the actual sort key,\n\t        // sort based on the sort keys, and then put the rows back in order\n\t        // which is a lot faster because you only do getInnerText once per row\n\t        row_array = [];\n\t        col = this.sorttable_columnindex;\n\t        rows = this.sorttable_tbody.rows;\n\t        for (var j=0; j<rows.length; j++) {\n\t          row_array[row_array.length] = [sorttable.getInnerText(rows[j].cells[col]), rows[j]];\n\t        }\n\t        /* If you want a stable sort, uncomment the following line */\n\t        //sorttable.shaker_sort(row_array, this.sorttable_sortfunction);\n\t        /* and comment out this one */\n\t        row_array.sort(this.sorttable_sortfunction);\n\n\t        tb = this.sorttable_tbody;\n\t        for (var j=0; j<row_array.length; j++) {\n\t          tb.appendChild(row_array[j][1]);\n\t        }\n\n\t        delete row_array;\n\t      });\n\t    }\n    }\n  },\n\n  guessType: function(table, column) {\n    // guess the type of a column based on its first non-blank row\n    sortfn = sorttable.sort_alpha;\n    for (var i=0; i<table.tBodies[0].rows.length; i++) {\n      text = sorttable.getInnerText(table.tBodies[0].rows[i].cells[column]);\n      if (text != '') {\n        if (text.match(/^-?[$]?[\\d,.]+%?$/)) {\n          return sorttable.sort_numeric;\n        }\n        // check for a date: dd/mm/yyyy or dd/mm/yy\n        // can have / or . or - as separator\n        // can be mm/dd as well\n        possdate = text.match(sorttable.DATE_RE)\n        if (possdate) {\n          // looks like a date\n          first = parseInt(possdate[1]);\n          second = parseInt(possdate[2]);\n          if (first > 12) {\n            // definitely dd/mm\n            return sorttable.sort_ddmm;\n          } else if (second > 12) {\n            return sorttable.sort_mmdd;\n          } else {\n            // looks like a date, but we can't tell which, so assume\n            // that it's dd/mm (English imperialism!) and keep looking\n            sortfn = sorttable.sort_ddmm;\n          }\n        }\n      }\n    }\n    return sortfn;\n  },\n\n  getInnerText: function(node) {\n    // gets the text we want to use for sorting for a cell.\n    // strips leading and trailing whitespace.\n    // this is *not* a generic getInnerText function; it's special to sorttable.\n    // for example, you can override the cell text with a customkey attribute.\n    // it also gets .value for <input> fields.\n\n    if (!node) return \"\";\n\n    hasInputs = (typeof node.getElementsByTagName == 'function') &&\n                 node.getElementsByTagName('input').length;\n\n    if (node.getAttribute(\"sorttable_customkey\") != null) {\n      return node.getAttribute(\"sorttable_customkey\");\n    }\n    else if (typeof node.textContent != 'undefined' && !hasInputs) {\n      return node.textContent.replace(/^\\s+|\\s+$/g, '');\n    }\n    else if (typeof node.innerText != 'undefined' && !hasInputs) {\n      return node.innerText.replace(/^\\s+|\\s+$/g, '');\n    }\n    else if (typeof node.text != 'undefined' && !hasInputs) {\n      return node.text.replace(/^\\s+|\\s+$/g, '');\n    }\n    else {\n      switch (node.nodeType) {\n        case 3:\n          if (node.nodeName.toLowerCase() == 'input') {\n            return node.value.replace(/^\\s+|\\s+$/g, '');\n          }\n        case 4:\n          return node.nodeValue.replace(/^\\s+|\\s+$/g, '');\n          break;\n        case 1:\n        case 11:\n          var innerText = '';\n          for (var i = 0; i < node.childNodes.length; i++) {\n            innerText += sorttable.getInnerText(node.childNodes[i]);\n          }\n          return innerText.replace(/^\\s+|\\s+$/g, '');\n          break;\n        default:\n          return '';\n      }\n    }\n  },\n\n  reverse: function(tbody) {\n    // reverse the rows in a tbody\n    newrows = [];\n    for (var i=0; i<tbody.rows.length; i++) {\n      newrows[newrows.length] = tbody.rows[i];\n    }\n    for (var i=newrows.length-1; i>=0; i--) {\n       tbody.appendChild(newrows[i]);\n    }\n    delete newrows;\n  },\n\n  /* sort functions\n     each sort function takes two parameters, a and b\n     you are comparing a[0] and b[0] */\n  sort_numeric: function(a,b) {\n    aa = parseFloat(a[0].replace(/[^0-9.-]/g,''));\n    if (isNaN(aa)) aa = 0;\n    bb = parseFloat(b[0].replace(/[^0-9.-]/g,''));\n    if (isNaN(bb)) bb = 0;\n    return aa-bb;\n  },\n  sort_alpha: function(a,b) {\n    if (a[0]==b[0]) return 0;\n    if (a[0]<b[0]) return -1;\n    return 1;\n  },\n  sort_ddmm: function(a,b) {\n    mtch = a[0].match(sorttable.DATE_RE);\n    y = mtch[3]; m = mtch[2]; d = mtch[1];\n    if (m.length == 1) m = '0'+m;\n    if (d.length == 1) d = '0'+d;\n    dt1 = y+m+d;\n    mtch = b[0].match(sorttable.DATE_RE);\n    y = mtch[3]; m = mtch[2]; d = mtch[1];\n    if (m.length == 1) m = '0'+m;\n    if (d.length == 1) d = '0'+d;\n    dt2 = y+m+d;\n    if (dt1==dt2) return 0;\n    if (dt1<dt2) return -1;\n    return 1;\n  },\n  sort_mmdd: function(a,b) {\n    mtch = a[0].match(sorttable.DATE_RE);\n    y = mtch[3]; d = mtch[2]; m = mtch[1];\n    if (m.length == 1) m = '0'+m;\n    if (d.length == 1) d = '0'+d;\n    dt1 = y+m+d;\n    mtch = b[0].match(sorttable.DATE_RE);\n    y = mtch[3]; d = mtch[2]; m = mtch[1];\n    if (m.length == 1) m = '0'+m;\n    if (d.length == 1) d = '0'+d;\n    dt2 = y+m+d;\n    if (dt1==dt2) return 0;\n    if (dt1<dt2) return -1;\n    return 1;\n  },\n\n  shaker_sort: function(list, comp_func) {\n    // A stable sort function to allow multi-level sorting of data\n    // see: http://en.wikipedia.org/wiki/Cocktail_sort\n    // thanks to Joseph Nahmias\n    var b = 0;\n    var t = list.length - 1;\n    var swap = true;\n\n    while(swap) {\n        swap = false;\n        for(var i = b; i < t; ++i) {\n            if ( comp_func(list[i], list[i+1]) > 0 ) {\n                var q = list[i]; list[i] = list[i+1]; list[i+1] = q;\n                swap = true;\n            }\n        } // for\n        t--;\n\n        if (!swap) break;\n\n        for(var i = t; i > b; --i) {\n            if ( comp_func(list[i], list[i-1]) < 0 ) {\n                var q = list[i]; list[i] = list[i-1]; list[i-1] = q;\n                swap = true;\n            }\n        } // for\n        b++;\n\n    } // while(swap)\n  }\n}\n\n/* ******************************************************************\n   Supporting functions: bundled here to avoid depending on a library\n   ****************************************************************** */\n\n// Dean Edwards/Matthias Miller/John Resig\n\n/* for Mozilla/Opera9 */\nif (document.addEventListener) {\n    document.addEventListener(\"DOMContentLoaded\", sorttable.init, false);\n}\n\n/* for Internet Explorer */\n/*@cc_on @*/\n/*@if (@_win32)\n    document.write(\"<script id=__ie_onload defer src=javascript:void(0)><\\/script>\");\n    var script = document.getElementById(\"__ie_onload\");\n    script.onreadystatechange = function() {\n        if (this.readyState == \"complete\") {\n            sorttable.init(); // call the onload handler\n        }\n    };\n/*@end @*/\n\n/* for Safari */\nif (/WebKit/i.test(navigator.userAgent)) { // sniff\n    var _timer = setInterval(function() {\n        if (/loaded|complete/.test(document.readyState)) {\n            sorttable.init(); // call the onload handler\n        }\n    }, 10);\n}\n\n/* for other browsers */\nwindow.onload = sorttable.init;\n\n// written by Dean Edwards, 2005\n// with input from Tino Zijdel, Matthias Miller, Diego Perini\n\n// http://dean.edwards.name/weblog/2005/10/add-event/\n\nfunction dean_addEvent(element, type, handler) {\n\tif (element.addEventListener) {\n\t\telement.addEventListener(type, handler, false);\n\t} else {\n\t\t// assign each event handler a unique ID\n\t\tif (!handler.$$guid) handler.$$guid = dean_addEvent.guid++;\n\t\t// create a hash table of event types for the element\n\t\tif (!element.events) element.events = {};\n\t\t// create a hash table of event handlers for each element/event pair\n\t\tvar handlers = element.events[type];\n\t\tif (!handlers) {\n\t\t\thandlers = element.events[type] = {};\n\t\t\t// store the existing event handler (if there is one)\n\t\t\tif (element[\"on\" + type]) {\n\t\t\t\thandlers[0] = element[\"on\" + type];\n\t\t\t}\n\t\t}\n\t\t// store the event handler in the hash table\n\t\thandlers[handler.$$guid] = handler;\n\t\t// assign a global event handler to do all the work\n\t\telement[\"on\" + type] = handleEvent;\n\t}\n};\n// a counter used to create unique IDs\ndean_addEvent.guid = 1;\n\nfunction removeEvent(element, type, handler) {\n\tif (element.removeEventListener) {\n\t\telement.removeEventListener(type, handler, false);\n\t} else {\n\t\t// delete the event handler from the hash table\n\t\tif (element.events && element.events[type]) {\n\t\t\tdelete element.events[type][handler.$$guid];\n\t\t}\n\t}\n};\n\nfunction handleEvent(event) {\n\tvar returnValue = true;\n\t// grab the event object (IE uses a global event object)\n\tevent = event || fixEvent(((this.ownerDocument || this.document || this).parentWindow || window).event);\n\t// get a reference to the hash table of event handlers\n\tvar handlers = this.events[event.type];\n\t// execute each event handler\n\tfor (var i in handlers) {\n\t\tthis.$$handleEvent = handlers[i];\n\t\tif (this.$$handleEvent(event) === false) {\n\t\t\treturnValue = false;\n\t\t}\n\t}\n\treturn returnValue;\n};\n\nfunction fixEvent(event) {\n\t// add W3C standard event methods\n\tevent.preventDefault = fixEvent.preventDefault;\n\tevent.stopPropagation = fixEvent.stopPropagation;\n\treturn event;\n};\nfixEvent.preventDefault = function() {\n\tthis.returnValue = false;\n};\nfixEvent.stopPropagation = function() {\n  this.cancelBubble = true;\n}\n\n// Dean's forEach: http://dean.edwards.name/base/forEach.js\n/*\n\tforEach, version 1.0\n\tCopyright 2006, Dean Edwards\n\tLicense: http://www.opensource.org/licenses/mit-license.php\n*/\n\n// array-like enumeration\nif (!Array.forEach) { // mozilla already supports this\n\tArray.forEach = function(array, block, context) {\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tblock.call(context, array[i], i, array);\n\t\t}\n\t};\n}\n\n// generic enumeration\nFunction.prototype.forEach = function(object, block, context) {\n\tfor (var key in object) {\n\t\tif (typeof this.prototype[key] == \"undefined\") {\n\t\t\tblock.call(context, object[key], key, object);\n\t\t}\n\t}\n};\n\n// character enumeration\nString.forEach = function(string, block, context) {\n\tArray.forEach(string.split(\"\"), function(chr, index) {\n\t\tblock.call(context, chr, index, string);\n\t});\n};\n\n// globally resolve forEach enumeration\nvar forEach = function(object, block, context) {\n\tif (object) {\n\t\tvar resolve = Object; // default\n\t\tif (object instanceof Function) {\n\t\t\t// functions have a \"length\" property\n\t\t\tresolve = Function;\n\t\t} else if (object.forEach instanceof Function) {\n\t\t\t// the object implements a custom forEach method so use that\n\t\t\tobject.forEach(block, context);\n\t\t\treturn;\n\t\t} else if (typeof object == \"string\") {\n\t\t\t// the object is a string\n\t\t\tresolve = String;\n\t\t} else if (typeof object.length == \"number\") {\n\t\t\t// the object is array-like\n\t\t\tresolve = Array;\n\t\t}\n\t\tresolve.forEach(object, block, context);\n\t}\n};\n\n","// Function to parse a commandline\n// The line is broken into individual tokens\n// Each token that is recognized as a JS type will get that type\n// Otherwise the token is considered to be a string\n// name-value pairs in the form \"name=value\" are added to the \"params\" dictionary\n// other parameters are added to the \"args\" array\n// e.g.:\n//   test \"1 2 3\" 4 x=7 {\"a\":1, \"b\":2}\n// is a command line of 5 tokens\n//   string: \"test\"\n//   string: \"1 2 3\"\n//   number: 4\n//   number: 7\n//   dictionary: {\"a\":1, \"b\": 2}\n// the array will be filled with 4 elements\n// the dictionary will be filled with one element named \"x\"\n\n\n// note that \"none\" is not case-insensitive, but \"null\" is\nconst patNull = /^(None|null|Null|NULL)$/;\n\nconst patBooleanFalse = /^(false|False|FALSE)$/;\nconst patBooleanTrue = /^(true|True|TRUE)$/;\n\nconst patJid = /^[2-9][0-9][0-9][0-9][01][0-9][0-3][0-9][0-2][0-9][0-5][0-9][0-5][0-9][0-9][0-9][0-9][0-9][0-9][0-9]$/;\n\nconst patInteger = /^((0)|([-+]?[1-9][0-9]*))$/;\n\nconst patFloat = /^([-+]?(([0-9]+)|([0-9]+[.][0-9]*)|([0-9]*[.][0-9]+))([eE][-+]?[0-9]+)?)$/;\n\n\nwindow.parseCommandLine = function(toRun, args, params) {\n  // just in case the user typed some extra whitespace\n  // at the start of the line\n  toRun = toRun.trim();\n\n  while(toRun.length > 0)\n  {\n    let name = null;\n\n    let firstSpaceChar = toRun.indexOf(\" \");\n    if(firstSpaceChar < 0)\n      firstSpaceChar = toRun.length;\n    const firstEqualSign = toRun.indexOf(\"=\");\n    if(firstEqualSign >= 0 && firstEqualSign < firstSpaceChar) {\n      // we have the name of a named parameter\n      name = toRun.substr(0, firstEqualSign);\n      toRun = toRun.substr(firstEqualSign + 1);\n      if(toRun === \"\" || toRun[0] === \" \") {\n        return \"Must have value for named parameter '\" + name + \"'\";\n      }\n    }\n\n    // Determine whether the JSON string starts with a known\n    // character for a JSON type\n    let endChar = undefined;\n    let objType = undefined;\n    if(toRun[0] === \"{\") {\n      endChar = \"}\";\n      objType = \"dictionary\";\n    } else if(toRun[0] === \"[\") {\n      endChar = \"]\";\n      objType = \"array\";\n    } else if(toRun[0] === \"\\\"\") {\n      // note that json does not support single-quoted strings\n      endChar = \"\\\"\";\n      objType = \"double-quoted-string\";\n    }\n\n    let value;\n    if(endChar && objType) {\n      // The string starts with a character for a known JSON type\n      let p = 1;\n      while(true) {\n        // Try until the next closing character\n        let n = toRun.indexOf(endChar, p);\n        if(n < 0) {\n          return \"No valid \" + objType + \" found\";\n        }\n\n        // parse what we have found so far\n        // the string ends with a closing character\n        // but that may not be enough, e.g. \"{a:{}\"\n        const s = toRun.substring(0, n + 1);\n        try {\n          value = JSON.parse(s);\n        }\n        catch(err) {\n          // the string that we tried to parse is not valid json\n          // continue to add more text from the input\n          p = n + 1;\n          continue;\n        }\n\n        // the first part of the string is valid JSON\n        n = n + 1;\n        if(n < toRun.length && toRun[n] !== \" \") {\n          return \"Valid \" + objType + \", but followed by text:\" + toRun.substring(n) + \"...\";\n        }\n\n        // valid JSON and not followed by strange characters\n        toRun = toRun.substring(n);\n        break;\n      }\n    } else {\n      // everything else is a string (without quotes)\n      // when we are done, we'll see whether it actually is a number\n      // or any of the known constants\n      let str = \"\";\n      while(toRun.length > 0 && toRun[0] !== \" \") {\n        str += toRun[0];\n        toRun = toRun.substring(1);\n      }\n\n      // try to find whether the string is actually a known constant\n      // or integer or float\n      if(patNull.test(str)) {\n        value = null;\n      } else if(patBooleanFalse.test(str)) {\n        value = false;\n      } else if(patBooleanTrue.test(str)) {\n        value = true;\n      } else if(patJid.test(str)) {\n        // jids look like numbers but must be strings\n        value = str;\n      } else if(patInteger.test(str)) {\n        value = parseInt(str);\n      } else if(patFloat.test(str)) {\n        value = parseFloat(str);\n        if(!isFinite(value)) {\n          return \"Numeric argument has overflowed or is infinity\";\n        }\n      } else {\n        value = str;\n      }\n    }\n\n    if(name !== null) {\n      // named parameter\n      params[name] = value;\n    } else {\n      // anonymous parameter\n      args.push(value);\n    }\n\n    // ignore the whitespace before the next part\n    toRun = toRun.trim();\n  }\n\n  // succesfull (no error message return)\n  return null;\n};\n","window.elapsedToString = function(date) {\n  try {\n    const secondsPassed = (new Date().getTime() / 1000) - (date.getTime() / 1000);\n\n    if(secondsPassed < 0) return \"Magic happened in the future\";\n    if(secondsPassed < 20) return \"A few moments ago\";\n    if(secondsPassed < 120) return \"A few minutes ago\";\n\n    if(secondsPassed < 60 * 60) {\n      const minutes = Math.round(secondsPassed / 60);\n      return minutes + \" minute(s) ago\";\n    }\n\n    if(secondsPassed < 60 * 60 * 24) {\n      const hours = Math.round(secondsPassed / 60 / 60);\n      return hours + \" hour(s) ago\";\n    }\n\n    if(secondsPassed < 60 * 60 * 24 * 2) {\n      return \"Yesterday\";\n    }\n\n    if(secondsPassed < 60 * 60 * 24 * 30) {\n      const days = Math.round(secondsPassed / 60 / 60 / 24);\n      return days + \" days ago\";\n    }\n\n    return \"A long time ago, in a galaxy far, far away\";\n  }\n  catch(err) {\n    //console.error(err);\n    return \"It did happen, when I don't know\";\n  }\n};\n\nwindow.createElement = function(type, className, content) {\n  const element = document.createElement(type);\n  element.classList.add(className);\n  if(content !== \"\") element.innerHTML = content;\n  return element;\n};\n\nwindow.getQueryParam = function(name) {\n  const vars = [];\n  const hashes = window.location.href.slice(window.location.href.indexOf(\"?\") + 1).split(\"&\");\n  for(const hash of hashes) {\n    const hashparts = hash.split(\"=\");\n    vars.push(hashparts[0]);\n    if(hashparts[0] === name) return hashparts[1];\n  }\n  return undefined;\n};\n\nwindow.escape = function(input) {\n  const div = document.createElement(\"div\");\n  div.appendChild(document.createTextNode(input));\n  return div.innerHTML;\n};\n\nwindow.makeTargetText = function(targetType, targetPattern) {\n  // note that \"glob\" is the most common case\n  // when used from the command-line, that target-type\n  // is not even specified.\n  // therefore we suppress that one\n\n  // note that due to bug in 2018.3, all finished jobs\n  // will be shown as if of type \"list\"\n  // therefore we suppress that one\n\n  let returnText = \"\";\n  if(targetType !== \"glob\" && targetType !== \"list\") {\n    returnText = targetType + \" \";\n  }\n  returnText += targetPattern;\n  return returnText;\n};\n","export class Route {\n\n  constructor(path, name, page_selector, menuitem_selector, router) {\n    this.path = new RegExp(path);\n    this.name = name;\n    this.page_element = document.querySelector(page_selector);\n    this.router = router;\n    if(menuitem_selector) {\n      this.menuitem_element1 = document.querySelector(menuitem_selector + \"1\");\n      this.menuitem_element2 = document.querySelector(menuitem_selector + \"2\");\n    }\n  }\n\n  getName() {\n    return this.name;\n  }\n\n  getPath() {\n    return this.path;\n  }\n\n  getPageElement() {\n    return this.page_element;\n  }\n\n  getMenuItemElement1() {\n    return this.menuitem_element1;\n  }\n\n  getMenuItemElement2() {\n    return this.menuitem_element2;\n  }\n\n  static _createTd(className, content) {\n    const td = document.createElement(\"td\");\n    if(className) td.className = className;\n    td.innerText = content;\n    return td;\n  }\n\n  static _createDiv(className, content) {\n    const div = document.createElement(\"div\");\n    if(className) div.className = className;\n    div.innerText = content;\n    return div;\n  }\n\n  _runCommand(evt, targetString, commandString) {\n    this._runFullCommand(evt, \"\", targetString, commandString);\n  }\n\n  _runFullCommand(evt, targettype, targetString, commandString) {\n    this.router.commandbox._showManualRun(evt);\n    const target = document.querySelector(\"#target\");\n    const command = document.querySelector(\"#command\");\n    const targetbox = document.querySelector(\"#targetbox\");\n\n    // handle https://github.com/saltstack/salt/issues/48734\n    if(targetString === \"unknown-target\") {\n      // target was lost...\n      targetString = \"\";\n      targettype = \"\";\n    }\n    if(commandString.startsWith(\"wheel.\") && targetString.endsWith(\"_master\")) {\n      // target was {hostname}_master...\n      // too bad when the real hostname is actually like that :-(\n      targetString = \"\";\n      targettype = \"\";\n    }\n    if(commandString.startsWith(\"runners.\")) {\n      // runners do not have a target, so do not bother\n      targetString = \"\";\n      targettype = \"\";\n    }\n\n    if(!targetString) targetString = \"\";\n    if(!commandString) commandString = \"\";\n\n    if(targettype) {\n      let tt = targettype;\n      // show the extended selection controls when\n      targetbox.style.display = \"inherit\";\n      if(tt !== \"glob\" && tt !== \"list\" && tt !== \"compound\" && tt !== \"nodegroup\") {\n        // we don't support that, revert to standard (not default)\n        tt = \"glob\";\n      }\n      TargetType.setTargetType(tt);\n    }\n\n    target.value = targetString;\n    command.value = commandString;\n    // the menu may become (in)visible due to content of command field\n    this.router.commandbox.cmdmenu.verifyAll();\n  }\n\n  _decodeArgumentsText(rawArguments) {\n    const rawObject = rawArguments;\n    let argumentsText = \"\";\n\n    switch (typeof rawObject) {\n    case \"undefined\":\n      argumentsText = \"\";\n      break;\n    case \"object\": {      \n      // object args need special treatment\n      const keys = Object.keys(rawObject).sort();\n      for(const key of keys) {\n        // remove speciall parameters like __kwargs__\n        if(!key.includes(\"__\")) {\n          argumentsText = argumentsText + key + \"=\" + rawObject[key];\n        }\n      }\n      break;\n    }\n    default:\n      argumentsText = JSON.stringify(rawObject);\n      break;\n    }\n\n    return argumentsText;\n  }\n\n}\n","import {Route} from './Route';\n\nexport class PageRoute extends Route {\n\n  constructor(path, name, page_selector, menuitem_selector, router) {\n    super(path, name, page_selector, menuitem_selector, router);\n\n    this._runCommand = this._runCommand.bind(this);\n    this._runningJobs = this._runningJobs.bind(this);\n    this._updateJobs = this._updateJobs.bind(this);\n    this._updateMinions = this._updateMinions.bind(this);\n  }\n\n  _updateMinions(data) {\n    const minions = data.return[0];\n\n    const list = this.getPageElement().querySelector(\"#minions\");\n    const hostnames = Object.keys(minions).sort();\n\n    // save for the autocompletion\n    window.localStorage.setItem(\"minions\", JSON.stringify(hostnames));\n\n    for(const hostname of hostnames) {\n      const minion_info = minions[hostname];\n\n      // minions can be offline, then the info will be false\n      if(minion_info === false) {\n        this._updateOfflineMinion(list, hostname);\n      } else {\n        this._updateMinion(list, minion_info, hostname);\n      }\n    }\n  }\n\n  _getElement(container, id) {\n    let element = document.getElementById(id);\n\n    if(element === null) {\n      // minion not found on screen...\n      // construct a basic element that can be updated\n      element = document.createElement(\"tr\");\n      element.id = id;\n      container.appendChild(element);\n      return element;\n    }\n\n    // remove existing content\n    while(element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n\n    return element;\n  }\n\n  _updateOfflineMinion(container, hostname) {\n    const element = this._getElement(container, hostname);\n\n    element.appendChild(Route._createTd(\"hostname\", hostname));\n\n    const offline = Route._createTd(\"status\", \"offline\");\n    offline.classList.add(\"offline\");\n    element.appendChild(offline);\n  }\n\n  _getBestIpNumber(minion) {\n    if(!minion) return null;\n    const ipv4 = minion.fqdn_ip4;\n    if(!ipv4) return null;\n    // either a string or something strange\n    if(!Array.isArray(ipv4)) return ipv4;\n\n    // so, it is an array\n\n    // get the public IP number (if any)\n    for(const s of ipv4) {\n      // local = 127.0.0.0/8\n      if(s.startsWith(\"127.\")) continue;\n      // private A = 10.0.0.0/8\n      if(s.startsWith(\"10.\")) continue;\n      // private B = 172.16.0.0/20\n      if(s.startsWith(\"172.16.\")) continue;\n      if(s.startsWith(\"172.17.\")) continue;\n      if(s.startsWith(\"172.18.\")) continue;\n      if(s.startsWith(\"172.19.\")) continue;\n      if(s.startsWith(\"172.20.\")) continue;\n      if(s.startsWith(\"172.21.\")) continue;\n      if(s.startsWith(\"172.22.\")) continue;\n      if(s.startsWith(\"172.23.\")) continue;\n      if(s.startsWith(\"172.24.\")) continue;\n      if(s.startsWith(\"172.25.\")) continue;\n      if(s.startsWith(\"172.26.\")) continue;\n      if(s.startsWith(\"172.27.\")) continue;\n      if(s.startsWith(\"172.28.\")) continue;\n      if(s.startsWith(\"172.29.\")) continue;\n      if(s.startsWith(\"172.30.\")) continue;\n      if(s.startsWith(\"172.31.\")) continue;\n      // private C = 192.168.0.0/16\n      if(s.startsWith(\"192.168.\")) continue;\n      // not a local/private address, therefore it is public\n      return s;\n    }\n\n    // no public IP number\n    // get the private IP number (if any)\n    for(const s of ipv4) {\n      // local = 127.0.0.0/8\n      if(s.startsWith(\"127.\")) continue;\n      // not a local address, therefore it is private\n      return s;\n    }\n\n    // just pick the first one, should then be a local address\n    return ipv4[0];\n  }\n\n  _updateMinion(container, minion, hostname) {\n\n    const element = this._getElement(container, hostname);\n\n    element.appendChild(Route._createTd(\"hostname\", hostname));\n\n    const ipv4 = this._getBestIpNumber(minion);\n    if(ipv4) {\n      const address = Route._createTd(\"status\", ipv4);\n      // ipnumbers do not sort well, reformat into something sortable\n      const ipv4parts = ipv4.split(\".\");\n      let sorttable_customkey = \"\";\n      if(ipv4parts.length === 4) {\n        // never mind adding '.'; this is only a sort-key\n        for(let i = 0; i < 4; i++) sorttable_customkey += ipv4parts[i].padStart(3, \"0\");\n        address.setAttribute(\"sorttable_customkey\", sorttable_customkey);\n      }\n      address.classList.add(\"address\");\n      address.setAttribute(\"tabindex\", -1);\n      address.addEventListener(\"click\", this._copyAddress);\n      element.appendChild(address);\n    } else {\n      const accepted = Route._createTd(\"status\", \"accepted\");\n      accepted.classList.add(\"accepted\");\n      element.appendChild(accepted);\n    }\n\n    let saltversion = \"---\";\n    if(minion && minion.saltversion) saltversion = minion.saltversion;\n    if(minion) element.appendChild(Route._createTd(\"saltversion\", saltversion));\n\n    let os = \"---\";\n    if(minion && minion.os && minion.osrelease) os = minion.os + \" \" + minion.osrelease;\n    else if(minion && minion.os) os = minion.os;\n    if(minion) {\n      const td = Route._createTd(\"os\", os);\n      if(minion.os) {\n        const img = document.createElement(\"img\");\n        img.setAttribute(\"src\", \"static/images/os-\" + minion.os.replace(\" \", \"-\").toLowerCase() + \".png\");\n        img.classList.add(\"osimage\");\n        td.prepend(img);\n      }\n      element.appendChild(td);\n    }\n  }\n\n  _addMinion(container, hostname, freeColumns = 0) {\n\n    let element = document.getElementById(hostname);\n    if(element !== null) {\n      // minion already on screen...\n      return;\n    }\n\n    element = document.createElement(\"tr\");\n    element.id = hostname;\n\n    element.appendChild(Route._createTd(\"hostname\", hostname));\n\n    const minion = Route._createTd(\"status\", \"accepted\");\n    minion.classList.add(\"accepted\");\n    element.appendChild(minion);\n\n    element.appendChild(Route._createTd(\"os\", \"loading...\"));\n\n    // fill out the number of columns to that of the header\n    while(element.cells.length < container.tHead.rows[0].cells.length - freeColumns) {\n      element.appendChild(Route._createTd(\"\", \"\"));\n    }\n\n    container.tBodies[0].appendChild(element);\n  }\n\n  _addNone(container) {\n    const tr = document.createElement(\"tr\");\n    const td = Route._createTd(\"hostname\", \"none\");\n    td.setAttribute(\"colspan\", container.rows[0].cells.length);\n    tr.appendChild(td);\n    container.appendChild(tr);\n  }\n\n  _updateJobs(data, numberOfJobs = 7, detailedJob = false) {\n    const jobContainer = this.getPageElement().querySelector(\".jobs tbody\");\n    const jobs = this._jobsToArray(data.return[0]);\n    this._sortJobs(jobs);\n\n    //Add <numberOfJobs> most recent jobs\n    let shown = 0;\n    let i = 0;\n    while(shown < numberOfJobs && jobs[i] !== undefined) {\n      const job = jobs[i];\n      i = i + 1;\n      if(job.Function === \"grains.append\") continue;\n      if(job.Function === \"grains.delkey\") continue;\n      if(job.Function === \"grains.delval\") continue;\n      if(job.Function === \"grains.items\") continue;\n      if(job.Function === \"grains.setval\") continue;\n      if(job.Function === \"pillar.items\") continue;\n      if(job.Function === \"pillar.obfuscate\") continue;\n      if(job.Function === \"runner.jobs.active\") continue;\n      if(job.Function === \"runner.jobs.list_job\") continue;\n      if(job.Function === \"runner.jobs.list_jobs\") continue;\n      if(job.Function === \"saltutil.find_job\") continue;\n      if(job.Function === \"saltutil.refresh_grains\") continue;\n      if(job.Function === \"saltutil.refresh_pillar\") continue;\n      if(job.Function === \"saltutil.running\") continue;\n      if(job.Function === \"schedule.delete\") continue;\n      if(job.Function === \"schedule.disable\") continue;\n      if(job.Function === \"schedule.disable_job\") continue;\n      if(job.Function === \"schedule.enable\") continue;\n      if(job.Function === \"schedule.enable_job\") continue;\n      if(job.Function === \"schedule.list\") continue;\n      if(job.Function === \"schedule.modify\") continue;\n      if(job.Function === \"schedule.run_job\") continue;\n      if(job.Function === \"sys.doc\") continue;\n      if(job.Function === \"wheel.config.values\") continue;\n      if(job.Function === \"wheel.key.accept\") continue;\n      if(job.Function === \"wheel.key.delete\") continue;\n      if(job.Function === \"wheel.key.list_all\") continue;\n      if(job.Function === \"wheel.key.reject\") continue;\n      if(job.Function === \"wheel.key.finger\") continue;\n\n      if(detailedJob === true) {\n        this._addDetailedJob(jobContainer, job);\n      } else {\n        this._addJob(jobContainer, job);\n      }\n      shown = shown + 1;\n    }\n    this.jobsLoaded = true;\n    if(this.keysLoaded && this.jobsLoaded) this.resolvePromise();\n  }\n\n  _runningJobs(data, jobsStatus = false) {\n    const jobs = data.return[0];\n\n    // update all running jobs\n    for(const k in jobs)\n    {\n      const job = jobs[k];\n\n      let targetText = \"\";\n      let targetField;\n      if(jobsStatus === true) {\n        targetField = document.querySelector(\".jobs #job\" + k + \" .status\");\n      } else {\n        // start with same text as for _addJob\n        targetText = window.makeTargetText(job[\"Target-type\"], job.Target) + \", \";\n        targetField = document.querySelector(\".jobs #job\" + k + \" .target\");\n      }\n      // then add the operational statistics\n      if(job.Running.length > 0)\n        targetText = targetText + job.Running.length + \" running\";\n      if(job.Returned.length > 0)\n        targetText = targetText + \", \" + job.Returned.length + \" returned\";\n\n      // the field may not (yet) be on the screen\n      if(!targetField) continue;\n      targetField.classList.remove(\"no_status\");\n      targetField.innerText = targetText;\n    }\n\n    // update all finished jobs\n    for(const tr of document.querySelector(\"table#jobs tbody\").rows) {\n      const statusField = tr.querySelector(\".no_status\");\n      if(!statusField) continue;\n      statusField.classList.remove(\"no_status\");\n      statusField.innerText = \"done\";\n    }\n  }\n\n  _addJob(container, job) {\n    const tr = document.createElement(\"tr\");\n\n    const td = document.createElement(\"td\");\n\n    td.id = \"job\" + job.id;\n    const targetText = window.makeTargetText(job[\"Target-type\"], job.Target);\n    td.appendChild(Route._createDiv(\"target\", targetText));\n\n    const functionText = job.Function;\n    td.appendChild(Route._createDiv(\"function\", functionText));\n\n    const startTimeText = Output.dateTimeStr(job.StartTime);\n    td.appendChild(Route._createDiv(\"time\", startTimeText));\n\n    tr.appendChild(td);\n\n    const menu = new DropDownMenu(tr);\n    menu.addMenuItem(\"Show&nbsp;details\", function(evt) {\n      window.location.assign(\"/job?id=\" + encodeURIComponent(job.id));\n    }.bind(this));\n\n    container.appendChild(tr);\n\n    tr.addEventListener(\"click\", this._createJobListener(job.id));\n  }\n\n  _addDetailedJob(container, job) {\n    const tr = document.createElement(\"tr\");\n    tr.id = \"job\" + job.id;\n    const jidText = job.id;\n    tr.appendChild(Route._createTd(\"job\" + job.id, jidText));\n\n    let targetText = window.makeTargetText(job[\"Target-type\"], job.Target);\n    if(targetText.length > 50) {\n      // prevent column becoming too wide\n      targetText = targetText.substring(0, 50) + \"...\";\n    }\n    tr.appendChild(Route._createTd(\"target\", targetText));\n\n    const argumentsText = this._decodeArgumentsText(job.Arguments[0]);\n    const functionText = job.Function + \" \" + argumentsText;\n    tr.appendChild(Route._createTd(\"function\", functionText));\n\n    const startTimeText = job.StartTime;\n    tr.appendChild(Route._createTd(\"starttime\", startTimeText));\n\n    const menu = new DropDownMenu(tr);\n    menu.addMenuItem(\"Show&nbsp;details\", function(evt) {\n      window.location.assign(\"/job?id=\" + encodeURIComponent(job.id));\n    }.bind(this));\n    menu.addMenuItem(\"Re-run&nbsp;job...\", function(evt) {\n      this._runFullCommand(evt, job[\"Target-type\"], job.Target, functionText);\n    }.bind(this));\n\n    const td = Route._createTd(\"status\", \"loading...\");\n    td.classList.add(\"no_status\");\n    tr.appendChild(td);\n    \n    // fill out the number of columns to that of the header\n    while(tr.cells.length < container.parentElement.tHead.rows[0].cells.length) {\n      tr.appendChild(Route._createTd(\"\", \"\"));\n    }\n\n    container.appendChild(tr);\n\n    tr.addEventListener(\"click\", evt => window.location.assign(\"/job?id=\" + encodeURIComponent(job.id)));\n  }\n\n  _createJobListener(id) {\n    const router = this.router;\n    return function() {\n      router.goTo(\"/job?id=\" + encodeURIComponent(id));\n    };\n  }\n\n  _jobsToArray(jobs) {\n    const keys = Object.keys(jobs);\n    const newArray = [];\n\n    for(const key of keys) {\n      const job = jobs[key];\n      job.id = key;\n      newArray.push(job);\n    }\n\n    return newArray;\n  }\n\n  _sortJobs(jobs) {\n    jobs.sort(function(a, b){\n      // The id is already a integer value based on the date, let's use\n      // it to sort the jobs\n      if(a.id < b.id) return 1;\n      if(a.id > b.id) return -1;\n      return 0;\n    });\n  }\n\n  _copyAddress(evt) {\n    const target = evt.target;\n    const selection = window.getSelection();\n    const range = document.createRange();\n\n    range.selectNodeContents(target);\n    selection.removeAllRanges();\n    selection.addRange(range);\n    document.execCommand(\"copy\");\n\n    evt.stopPropagation();\n  }\n\n}\n","import {Route} from './routes';\n\nexport class DropDownMenu {\n\n  // Creates an empty dropdown menu\n  // The visual clue for the menu is added to the given element\n  constructor(element) {\n\n    this.callback = this.callback.bind(this);\n    this.verifyAll = this.verifyAll.bind(this);\n\n    // allow reduced code on the caller side\n    if(element.tagName === \"TR\") {\n      const nelement = Route._createTd(\"\", \"\");\n      element.appendChild(nelement);\n      element = nelement;\n    }\n\n    this.menuDropdown = Route._createDiv(\"run-command-button\", \"\");\n\n    switch (element.id) {\n    case \"cmdbox\":\n      // 1F4D6 (D83D+DCD6) = A BOOK\n      this.menuButton = Route._createDiv(\"menu-dropdown\", \"\\uD83D\\uDCD6\");\n      // hide the menu until it receives menu-items\n      this.verifyAll();\n      break;\n\n    default:\n      // 2261 = MATHEMATICAL OPERATOR IDENTICAL TO (aka \"hamburger\")\n      // assume it will be a command menu\n      this.menuButton = Route._createDiv(\"menu-dropdown\", \"\\u2261\");\n      // hide the menu until it receives menu-items\n      this.verifyAll();\n    }\n    this.menuDropdown.appendChild(this.menuButton);\n    this.menuDropdownContent = Route._createDiv(\"menu-dropdown-content\", \"\");\n    this.menuDropdown.appendChild(this.menuDropdownContent);\n    this.menuDropdown.addEventListener(\"mouseenter\", this.verifyAll);\n    element.appendChild(this.menuDropdown);\n  }\n\n  verifyAll() {\n    let visibleCount = 0;\n    if(this.menuDropdownContent) {\n      for(const chld of this.menuDropdownContent.children) {\n        const verifyCallback = chld.verifyCallback;\n        if(verifyCallback) verifyCallback(chld);\n        if(chld.style.display !== \"none\") visibleCount++;\n      }\n    }\n    // hide the menu when it has no visible menu-items\n    const display_visible = (this.menuDropdown.tagName === \"TD\") ? \"table-cell\" : \"inline-block\";\n    const display_invisible = \"none\";\n    this.menuDropdown.style.display = (visibleCount > 0) ? display_visible : display_invisible;\n  }\n\n  // Add a menu item at the end of this dropdown menu\n  // Runs the given callback function when selected\n  // When the title is actually a function then this\n  // function is called each time the menu opens\n  // This allows dynamic menuitem titles (use menuitem.innerText/innerHTML)\n  // or visibility (use menuitem.style.display = \"none\"/\"inline-block\")\n  addMenuItem(title, callback, value) {\n    const button = Route._createDiv(\"run-command-button\", \"...\");\n    if(typeof title === \"string\")\n      button.innerHTML = title;\n    else\n      button.verifyCallback = title;\n    button.addEventListener(\"click\", evt => this.callback(evt, callback, value));\n    this.menuDropdownContent.appendChild(button);\n    this.verifyAll();\n  }\n\n  callback(evt, callback, value) {\n    this._value = value;\n    callback(evt);\n  }\n\n  setTitle(title) {\n    // Setting the title implies that we are interested\n    // in the menu values, rather than their actions.\n    // Use a slightly different clue for that.\n    // 25BC = BLACK DOWN-POINTING TRIANGLE\n    this.menuButton.innerHTML = title + \"&nbsp;\\u25BC\";\n  }\n\n  showMenu() {\n    this.menuDropdown.style.display = \"inline-block\";\n  }\n\n  hideMenu() {\n    this.menuDropdown.style.display = \"none\";\n  }\n\n}\n","export class OutputDocumentation {\n\n  // test whether the returned data matches the requested data\n  static isDocuKeyMatch(key, filterKey) {\n\n    // no filter is always OK\n    if(!filterKey) return true;\n\n    // an exact match is great\n    if(key === filterKey) return true;\n\n    // a true prefix is also ok\n    if(key.startsWith(filterKey + \".\")) return true;\n\n    // no match\n    return false;\n  }\n\n\n  // we only treat output as documentation output when it sticks to strict rules\n  // all minions must return strings\n  // and when its key matches the requested documentation\n  // empty values are allowed due to errors in the documentation\n  // 'output' is needed like this to prevent an error during testing\n  static isDocumentationOutput(output, response, command) {\n\n    if(!output.isOutputFormatAllowed(\"doc\")) return false;\n\n    let result = false;\n\n    // reduce the search key to match the data in the response\n    command = OutputDocumentation.reduceFilterKey(command);\n\n    for(const hostname of Object.keys(response)) {\n\n      const output = response[hostname];\n\n      if(!output) {\n        // some commands do not have help-text\n        // e.g. wheel.key.get_key\n        continue;\n      }\n\n      if(typeof output !== \"object\") {\n        // strange --> no documentation object\n        return false;\n      }\n\n      // arrays are also objects,\n      // but not what we are looking for\n      if(Array.isArray(output)) {\n        return false;\n      }\n\n      for(const key of Object.keys(output)) {\n        // e.g. for \"test.rand_str\"\n        if(output[key] === null) {\n          continue;\n        }\n\n        // but otherwise it must be a (documentation)string\n        if(typeof output[key] !== \"string\") {\n          return false;\n        }\n\n        // is this what we were looking for?\n        if(OutputDocumentation.isDocuKeyMatch(key, command)) {\n          result = true;\n        }\n      }\n    }\n\n    return result;\n  }\n\n\n  // reduce the search key to match the data in the response\n  static reduceFilterKey(filterKey) {\n    if(filterKey === \"wheel\") {\n      return \"\";\n    }\n    if(filterKey.startsWith(\"wheel.\")) {\n      // strip the prefix \"wheel.\"\n      return filterKey.substring(6);\n    }\n\n    if(filterKey === \"runners\") {\n      return \"\";\n    }\n    if(filterKey.startsWith(\"runners.\")) {\n      // strip the prefix \"runners.\"\n      return filterKey.substring(8);\n    }\n\n    return filterKey;\n  }\n\n\n  // documentation is requested from all targetted minions\n  // these all return roughly the same output\n  // it is a big waste of screen lines to show the output for each minion\n  // so the output is reduced to the output from a single minion only\n  // this is exactly what the salt commandline also does\n  // Parameters:\n  //   response: the data returned from all minions\n  //   visualKey: the name under which the result must be visualized\n  //              this replaces the traditional minion-name\n  //   filterKey: the prefix (or the full command) that the documentation\n  //              was requested for. The internal functions for WHEEL and\n  //              RUNNERS always return all documentation in that category\n  //              thus that response must be reduced.\n  static reduceDocumentationOutput(response, visualKey, filterKey) {\n    if(!response || typeof response !== \"object\") {\n      // strange --> don't try to fix anything\n      return;\n    }\n\n    // reduce the search key to match the data in the response\n    // i.e. remove the prefixes for \"wheel\" and \"runners\"\n    filterKey = OutputDocumentation.reduceFilterKey(filterKey);\n\n    let selectedMinion = null;\n    for(const hostname of Object.keys(response)) {\n\n      // When we already found the documentation ignore all others\n      if(selectedMinion) {\n        delete response[hostname];\n        continue;\n      }\n\n      // make sure it is an object (instead of e.g. \"false\" for an offline minion)\n      // when it is not, the whole entry is ignored\n      if(!response[hostname] || typeof response[hostname] !== \"object\") {\n        delete response[hostname];\n        continue;\n      }\n\n      // make sure that the entry matches with the requested command or prefix\n      // that's always the case for SYS.DOC output, but not for RUNNERS.DOC.RUNNER\n      // and/or RUNNERS.DOC.WHEEL.\n      const hostResponse = response[hostname];\n      for(const key of Object.keys(hostResponse)) {\n\n        // is this what we were looking for?\n        if(!OutputDocumentation.isDocuKeyMatch(key, filterKey)) {\n          // no match, ignore the whole entry\n          delete hostResponse[key];\n        }\n      }\n\n      // no documentation present (or left) on this minion?\n      // then discard the result of this minion\n      if(Object.keys(hostResponse).length === 0) {\n        delete response[hostname];\n        continue;\n      }\n\n      // we have found documentation output\n      // mark all other documentation for discarding\n      selectedMinion = hostname;\n    }\n\n    if(selectedMinion) {\n      // basically rename the key\n      const savedDocumentation = response[selectedMinion];\n      delete response[selectedMinion];\n      response[visualKey] = savedDocumentation;\n    } else {\n      // prepare a dummy response when no documentation could be found\n      // otherwise leave all documentation responses organized by minion\n      response[\"dummy\"] = { };\n      response[\"dummy\"][visualKey] = \"no documentation found\";\n    }\n  }\n\n  // add the output of a documentation command to the display\n  static addDocumentationOutput(outputContainer, response) {\n\n    // we expect no hostnames present\n    // as it should have been reduced already\n    for(const hostname of Object.keys(response)) {\n\n      const hostResponse = response[hostname];\n\n      for(const key of Object.keys(hostResponse).sort()) {\n\n        let out = hostResponse[key];\n        if(out === null) continue;\n        out = out.trimRight();\n\n        // internal links: remove the \".. rubric::\" prefix\n        // e.g. in \"sys.doc state.apply\"\n        out = out.replace(/[.][.] rubric:: */g, \"\");\n\n        // internal links: remove prefixes like \":mod:\" and \":py:func:\"\n        // e.g. in \"sys.doc state.apply\"\n        out = out.replace(/(:[a-z_]*)*:`/g, \"`\");\n\n        // internal links: remove link indicators in highlighted text\n        // e.g. in \"sys.doc state.apply\"\n        out = out.replace(/[ \\n]*<[^`]*>`/gm, \"`\");\n\n        // turn text into html\n        // e.g. in \"sys.doc cmd.run\"\n        out = out.replace(/&/g, \"&amp;\");\n\n        // turn text into html\n        // e.g. in \"sys.doc state.template\"\n        out = out.replace(/</g, \"&lt;\");\n\n        // turn text into html\n        // e.g. in \"sys.doc state.template\"\n        out = out.replace(/>/g, \"&gt;\");\n\n        // external links\n        // e.g. in \"sys.doc pkg.install\"\n        while(out.includes(\".. _\")) {\n          // take only a line containing \".. _\"\n          const reference = out.\n            replace(/^(.|\\n|\\r)*[.][.] _/m, \"\").\n            replace(/(\\n|\\r)(.|\\n|\\r)*$/m, \"\");\n          const words = reference.split(\": \");\n          if(words.length !== 2) { console.log(\"words\", words); break; }\n          const link = words[0];\n          const target = words[1];\n          // add link to all references\n          while(out.includes(link + \"_\")) {\n            out = out.replace(\n              link + \"_\",\n              \"<a href='\" + target + \"' target='_blank'>\" + link + \"</a>\");\n          }\n          // remove the item from the link table\n          out = out.replace(\".. _\" + reference, \"\");\n        }\n\n        // replace ``......``\n        // e.g. in \"sys.doc state.apply\"\n        out = out.replace(/``([^`]*)``/g, \"<span style='background-color: #575757'>$1</span>\");\n\n        // replace `......`\n        // e.g. in \"sys.doc state.apply\"\n        out = out.replace(/`([^`]*)`/g, \"<span style='color: yellow'>$1</span>\");\n\n        // remove whitespace at end of lines\n        out = out.replace(/  *\\n/gm, \"\");\n\n        // remove duplicate empty lines (usually due to previous rule)\n        out = out.replace(/\\n\\n\\n*/gm, \"\\n\\n\");\n\n        outputContainer.innerHTML +=\n          \"<div><span class='hostname'>\" + key + \"</span>:</br><pre style='height: initial; overflow-y: initial;'>\" + out + \"</pre></div>\";\n      }\n    }\n  }\n\n}","import {Output} from './Output';\n\nexport class OutputHighstate {\n\n  static isHighStateOutput(command, response) {\n\n    if(!Output.isOutputFormatAllowed(\"highstate\")) return false;\n\n    if(typeof response !== \"object\") return false;\n    if(Array.isArray(response)) return false;\n    if(command !== \"state.apply\" && command !== \"state.highstate\") return false;\n    for(const key of Object.keys(response)) {\n      const components = key.split(\"_|-\");\n      if(components.length !== 4) return false;\n    }\n    return true;\n  }\n\n  static getDurationClause(millis) {\n    if(millis === 1) {\n      return `${millis} millisecond`;\n    }\n    if(millis < 1000) {\n      return `${millis} milliseconds`;\n    }\n    if(millis === 1000) {\n      return `${millis/1000} second`;\n    }\n    return `${millis/1000} seconds`;\n  }\n\n  static getHighStateLabel(hostname, hostResponse) {\n    let anyFailures = false;\n    let anySkips = false;\n    // do not use Object.entries, that is not supported by the test framework\n    for(const key of Object.keys(hostResponse)) {\n      const task = hostResponse[key];\n      if(task.result === null) anySkips = true;\n      else if(!task.result) anyFailures = true;\n    }\n\n    if(anyFailures) {\n      return Output.getHostnameHtml(hostname, \"host_failure\");\n    }\n    if(anySkips) {\n      return Output.getHostnameHtml(hostname, \"host_skips\");\n    }\n    return Output.getHostnameHtml(hostname, \"host_success\");\n  }\n\n  static getHighStateOutput(hostResponse) {\n\n    // The tasks are in an (unordered) object with uninteresting keys\n    // convert it to an array that is in execution order\n    // first put all the values in an array\n    const tasks = [];\n    Object.keys(hostResponse).forEach(\n      function(taskKey) {\n        hostResponse[taskKey].___key___ = taskKey;\n        tasks.push(hostResponse[taskKey]);\n      }\n    );\n    // then sort the array\n    tasks.sort(function(a, b) { return a.__run_num__ - b.__run_num__; } );\n\n    const indent = \"    \";\n\n    const div = document.createElement(\"div\");\n\n    let succeeded = 0;\n    let failed = 0;\n    let skipped = 0;\n    let total_millis = 0;\n    let changes = 0;\n    for(const task of tasks) {\n\n      const taskDiv = document.createElement(\"div\");\n\n      const span = document.createElement(\"span\");\n      if(task.result === null) {\n        // 2714 = HEAVY CHECK MARK\n        span.style.color = \"yellow\";\n        span.innerText = \"\\u2714\";\n        skipped += 1;\n      } else if(task.result) {\n        // 2714 = HEAVY CHECK MARK\n        span.style.color = \"green\";\n        span.innerText = \"\\u2714\";\n        succeeded += 1;\n      } else {\n        // 2718 = HEAVY BALLOT X\n        span.style.color = \"red\";\n        span.innerText = \"\\u2718\";\n        failed += 1;\n      }\n      taskDiv.append(span);\n\n      taskDiv.append(document.createTextNode(\" \"));\n\n      if(task.name) {\n        taskDiv.append(document.createTextNode(task.name));\n      } else {\n        // make sure that the checkbox/ballot-x is on a reasonable line\n        // also for the next \"from\" clause (if any)\n        taskDiv.append(document.createTextNode(\"(anonymous task)\"));\n      }\n\n      if(task.__id__ && task.__id__ !== task.name) {\n        taskDiv.append(document.createTextNode(\" id=\" + encodeURIComponent(task.__id__)));\n      }\n\n      if(task.__sls__) {\n        taskDiv.append(document.createTextNode(\n          \" (from \" + task.__sls__.replace(\".\", \"/\") + \".sls)\"));\n      }\n\n      const components = task.___key___.split(\"_|-\");\n      taskDiv.append(document.createElement(\"br\"));\n      taskDiv.append(document.createTextNode(\n        indent + \"Function is \" + components[0] + \".\" + components[3]));\n\n      if(task.comment) {\n        taskDiv.append(document.createElement(\"br\"));\n        let txt = task.comment;\n        // trim extra whitespace\n        txt = txt.replace(/[ \\r\\n]+$/g, \"\");\n        // indent extra lines\n        txt = txt.replace(/[\\n]+/g, \"\\n\" + indent);\n        taskDiv.append(document.createTextNode(indent + txt));\n      }\n\n      if(task.hasOwnProperty(\"changes\")) {\n        if(typeof task.changes !== \"object\" || Array.isArray(task.changes)) {\n          taskDiv.append(document.createElement(\"br\"));\n          taskDiv.append(document.createTextNode(indent + JSON.stringify(task.changes)));\n        } else {\n          for(const key of Object.keys(task.changes).sort()) {\n            changes = changes + 1;\n            const change = task.changes[key];\n            // 25BA = BLACK RIGHT-POINTING POINTER\n            // don't use arrows here, these are higher than a regular\n            // text-line and disturb the text-flow\n            if(typeof change === \"string\" && change.includes(\"\\n\")) {\n              taskDiv.append(document.createElement(\"br\"));\n              // show multi-line text as a separate block\n              taskDiv.append(document.createTextNode(indent + key + \":\"));\n              const lines = change.trim().split(\"\\n\");\n              for(const line of lines) {\n                taskDiv.append(document.createElement(\"br\"));\n                taskDiv.append(document.createTextNode(\"      \" + line));\n              }\n            } else if(typeof change !== \"object\" || Array.isArray(task.change)) {\n              // show all other non-objects in a simple way\n              taskDiv.append(document.createElement(\"br\"));\n              taskDiv.append(document.createTextNode(\n                indent + key + \": \" +\n                JSON.stringify(change)));\n            } else {\n              // treat old->new first\n              if(change.hasOwnProperty(\"old\") && change.hasOwnProperty(\"new\")) {\n                taskDiv.append(document.createElement(\"br\"));\n                // place changes on one line\n                taskDiv.append(document.createTextNode(\n                  indent + key + \": \" +\n                  JSON.stringify(change.old) + \" \\u25BA \" +\n                  JSON.stringify(change.new)));\n                delete change.old;\n                delete change.new;\n              }\n              // then show whatever remains\n              for(const taskkey of Object.keys(change).sort()) {\n                taskDiv.append(document.createElement(\"br\"));\n                taskDiv.append(document.createTextNode(\n                  indent + key + \": \" + taskkey + \": \" +\n                  JSON.stringify(change[taskkey])));\n              }\n            }\n          }\n        }\n      }\n\n      if(task.hasOwnProperty(\"start_time\")) {\n        taskDiv.append(document.createElement(\"br\"));\n        taskDiv.append(document.createTextNode(\n          indent + \"Started at \" + task.start_time));\n      }\n\n      if(task.hasOwnProperty(\"duration\")) {\n        const millis = Math.round(task.duration);\n        total_millis += millis;\n        if(millis >= 10) {\n          // anything below 10ms is not worth reporting\n          // report only the \"slow\" jobs\n          // it still counts for the grand total thought\n          taskDiv.append(document.createElement(\"br\"));\n          taskDiv.append(document.createTextNode(\n            indent + \"Duration \" + OutputHighstate.getDurationClause(millis)));\n        }\n      }\n\n      // show any unknown attribute of a task\n      // do not use Object.entries, that is not supported by the test framework\n      for(const key of Object.keys(task)) {\n        const item = task[key];\n        if(key === \"___key___\") continue; // ignored, generated by us\n        if(key === \"__id__\") continue; // handled\n        if(key === \"__sls__\") continue; // handled\n        if(key === \"__run_num__\") continue; // handled, not shown\n        if(key === \"changes\") continue; // handled\n        if(key === \"comment\") continue; // handled\n        if(key === \"duration\") continue; // handled\n        if(key === \"host\") continue; // ignored, same as host\n        if(key === \"name\") continue; // handled\n        if(key === \"pchanges\") continue; // ignored, also ignored by cli\n        if(key === \"result\") continue; // handled\n        if(key === \"start_time\") continue; // handled\n        taskDiv.append(document.createElement(\"br\"));\n        taskDiv.append(document.createTextNode(\n          indent + key + \" = \" + JSON.stringify(item)));\n      }\n\n      div.append(taskDiv);\n    }\n\n    // add a summary line\n    let line = \"\";\n\n    if(succeeded) line += \", \" + succeeded + \" succeeded\";\n    if(skipped) line += \", \" + skipped + \" skipped\";\n    if(failed) line += \", \" + failed + \" failed\";\n    const total = succeeded + skipped + failed;\n    if(total !== succeeded && total !== skipped && total !== failed) {\n      line += \", \" + (succeeded + skipped + failed) + \" total\";\n    }\n\n    // note that the number of changes may be higher or lower\n    // than the number of tasks. tasks may contribute multiple\n    // changes, or tasks may have no changes.\n    if(changes === 1) line += \", \" + changes + \" change\";\n    else if(changes) line += \", \" + changes + \" changes\";\n\n    // multiple durations and significant?\n    if(total > 1 && total_millis >= 10) {\n      line += \", \" + OutputHighstate.getDurationClause(total_millis);\n    }\n\n    if(line) {\n      div.append(document.createTextNode(line.substring(2)));\n    }\n\n\n    return div;\n  }\n\n}","export class OutputJson {\n\n  // format an object as JSON\n  // returns NULL when it is not a simple object\n  // i.e. no multi-line objects, no indentation here\n  static formatSimpleJSON(value) {\n\n    if(value === null) {\n      // null is an object, but not really\n      // leave that to the builtin function\n      return JSON.stringify(value);\n    }\n\n    if(value === undefined) {\n      // JSON.stringify does not return a string for this\n      // but again a value undefined, we need a string\n      return \"undefined\";\n    }\n\n    if(typeof value !== \"object\") {\n      // a simple type\n      // leave that to the builtin function\n      return JSON.stringify(value);\n    }\n\n    if(Array.isArray(value) && value.length === 0) {\n      // show the brackets for an empty array a bit wider apart\n      return \"[ ]\";\n    }\n\n    if(!Array.isArray(value) && Object.keys(value).length === 0) {\n      // show the brackets for an empty object a bit wider apart\n      return \"{ }\";\n    }\n\n    return null;\n  }\n\n  // format an object as JSON\n  // based on an initial indentation and an indentation increment\n  static formatJSON(value, indentLevel=0) {\n\n    // indent each level with 4 spaces\n    const indentStep = 4;\n\n    let str = OutputJson.formatSimpleJSON(value);\n    if(str !== null) {\n      return str;\n    }\n\n    if(Array.isArray(value)) {\n      // an array\n      // put each element on its own line\n      str = \"[\";\n      let separator = \"\";\n      for(const elem of value) {\n        str += separator + \"\\n\" + \" \".repeat(indentLevel + indentStep) +\n          OutputJson.formatJSON(elem, indentLevel + indentStep);\n        separator = \",\";\n      }\n      str += \"\\n\" + \" \".repeat(indentLevel) + \"]\";\n      return str;\n    }\n\n    // regular object\n    // put each name+value on its own line\n    const keys = Object.keys(value);\n    str = \"{\";\n    let separator = \"\";\n    // do not use Object.entries, that is not supported by the test framework\n    for(const key of Object.keys(value).sort()) {\n      const item = value[key];\n      str += separator + \"\\n\" + \" \".repeat(indentLevel + indentStep) + \"\\\"\" + key + \"\\\": \" +\n        OutputJson.formatJSON(item, indentLevel + indentStep);\n      separator = \",\";\n    }\n    str += \"\\n\" + \" \".repeat(indentLevel) + \"}\";\n    return str;\n  }\n\n}","export class OutputNested {\n\n  // heavily inspired by the implementation for NESTED output\n  // as originally implemented in salt/output/nested.py from Salt\n\n  static ustring(indent, msg, prefix='', suffix='') {\n    return \" \".repeat(indent) + prefix + msg + suffix;\n  }\n\n  static display(ret, indent, prefix, out) {\n    if(ret === null) {\n      out.push(OutputNested.ustring(indent, \"None\", prefix));\n    } else if(ret === undefined) {\n      out.push(OutputNested.ustring(indent, \"undefined\", prefix));\n    } else if(typeof ret === \"boolean\" || typeof ret === \"number\") {\n      out.push(OutputNested.ustring(indent, ret, prefix));\n    } else if(typeof ret === \"string\") {\n      let first_line = true;\n      ret = ret.replace(/\\n$/, \"\");\n      for(const line of ret.split(\"\\n\")) {\n        let line_prefix = prefix;\n        if(!first_line)\n          line_prefix = \".\".repeat(prefix.length);\n        out.push(OutputNested.ustring(indent, line, line_prefix));\n        first_line = false;\n      }\n    } else if(typeof ret === \"object\" && Array.isArray(ret)) {\n      for(const ind of ret) {\n        if(typeof ind === \"object\" /* including array */ ) {\n          out.push(OutputNested.ustring(indent, '|_'));\n          let prefix;\n          if(typeof ind === \"object\" && !Array.isArray(ind))\n            prefix = '';\n          else\n            prefix ='-\\u00A0';\n          OutputNested.display(ind, indent + 2, prefix, out);\n        } else {\n          OutputNested.display(ind, indent, '-\\u00A0', out);\n        }\n      }\n    } else if(typeof ret === \"object\") {\n      if(indent) out.push(OutputNested.ustring(indent, '----------'));\n      for(const key of Object.keys(ret).sort()) {\n        const val = ret[key];\n        out.push(OutputNested.ustring(indent, key, prefix, ':'));\n        if(val !== null && val !== \"\") {\n          OutputNested.display(val, indent + 4, '', out);\n        }\n      }\n    }\n    return out;\n  }\n\n  static formatNESTED(value, indentLevel=0) {\n    const lines = OutputNested.display(value, 0, '', []);\n    return lines.join('\\n');\n  }\n\n}","export class OutputSaltGuiHighstate {\n\n  // no separate `isHighStateOutput` here\n  // the implementation from OutputHighstate is (re)used\n\n  static getDurationClause(millis) {\n    if(millis === 1) {\n      return `${millis} millisecond`;\n    }\n    if(millis < 1000) {\n      return `${millis} milliseconds`;\n    }\n    if(millis === 1000) {\n      return `${millis/1000} second`;\n    }\n    return `${millis/1000} seconds`;\n  }\n\n  static getHighStateLabel(hostname, hostResponse) {\n    let anyFailures = false;\n    let anySkips = false;\n    // do not use Object.entries, that is not supported by the test framework\n    for(const key of Object.keys(hostResponse)) {\n      const task = hostResponse[key];\n      if(task.result === null) anySkips = true;\n      else if(!task.result) anyFailures = true;\n    }\n\n    if(anyFailures) {\n      return Output.getHostnameHtml(hostname, \"host_failure\");\n    }\n    if(anySkips) {\n      return Output.getHostnameHtml(hostname, \"host_skips\");\n    }\n    return Output.getHostnameHtml(hostname, \"host_success\");\n  }\n\n  static addChangesInfo(taskDiv, task, indent) {\n    if(!task.hasOwnProperty(\"changes\")) {\n      return 0;\n    }\n\n    if(typeof task.changes !== \"object\" || Array.isArray(task.changes)) {\n      taskDiv.append(document.createElement(\"br\"));\n      taskDiv.append(document.createTextNode(indent + JSON.stringify(task.changes)));\n      return 0;\n    }\n\n    let changes = 0;\n    for(const key of Object.keys(task.changes).sort()) {\n\n      changes = changes + 1;\n\n      const change = task.changes[key];\n\n      if(typeof change === \"string\" && change.includes(\"\\n\")) {\n        taskDiv.append(document.createElement(\"br\"));\n        // show multi-line text as a separate block\n        taskDiv.append(document.createTextNode(indent + key + \":\"));\n        const lines = change.trim().split(\"\\n\");\n        for(const line of lines) {\n          taskDiv.append(document.createElement(\"br\"));\n          taskDiv.append(document.createTextNode(\"      \" + line));\n        }\n        continue;\n      }\n\n      if(Array.isArray(change)) {\n        for(const idx in change) {\n          const task = change[idx];\n          taskDiv.append(document.createElement(\"br\"));\n          taskDiv.append(document.createTextNode(\n            indent + key + \"[\" + idx + \"]: \" + JSON.stringify(task)));\n        }\n        continue;\n      }\n\n      if(typeof change !== \"object\") {\n        // show all other non-objects in a simple way\n        taskDiv.append(document.createElement(\"br\"));\n        taskDiv.append(document.createTextNode(\n          indent + key + \": \" +\n          JSON.stringify(change)));\n        continue;\n      }\n\n      // treat old->new first\n      if(change.hasOwnProperty(\"old\") && change.hasOwnProperty(\"new\")) {\n        taskDiv.append(document.createElement(\"br\"));\n        // place changes on one line\n        // 25BA = BLACK RIGHT-POINTING POINTER\n        // don't use arrows here, these are higher than a regular\n        // text-line and disturb the text-flow\n        taskDiv.append(document.createTextNode(\n          indent + key + \": \" +\n          JSON.stringify(change.old) + \" \\u25BA \" +\n          JSON.stringify(change.new)));\n        delete change.old;\n        delete change.new;\n      }\n      // then show whatever remains\n      for(const taskkey of Object.keys(change).sort()) {\n        taskDiv.append(document.createElement(\"br\"));\n        taskDiv.append(document.createTextNode(\n          indent + key + \": \" + taskkey + \": \" +\n          JSON.stringify(change[taskkey])));\n      }\n    }\n  }\n\n  static getHighStateOutput(hostResponse) {\n\n    // The tasks are in an (unordered) object with uninteresting keys\n    // convert it to an array that is in execution order\n    // first put all the values in an array\n    const tasks = [];\n    Object.keys(hostResponse).forEach(\n      function(taskKey) {\n        hostResponse[taskKey].___key___ = taskKey;\n        tasks.push(hostResponse[taskKey]);\n      }\n    );\n    // then sort the array\n    tasks.sort(function(a, b) { return a.__run_num__ - b.__run_num__; } );\n\n    const indent = \"    \";\n\n    const div = document.createElement(\"div\");\n\n    let succeeded = 0;\n    let failed = 0;\n    let skipped = 0;\n    let total_millis = 0;\n    let changes = 0;\n    for(const task of tasks) {\n\n      const taskDiv = document.createElement(\"div\");\n\n      const span = document.createElement(\"span\");\n      if(task.result === null) {\n        // 2714 = HEAVY CHECK MARK\n        span.style.color = \"yellow\";\n        span.innerText = \"\\u2714\";\n        skipped += 1;\n      } else if(task.result) {\n        // 2714 = HEAVY CHECK MARK\n        span.style.color = \"green\";\n        span.innerText = \"\\u2714\";\n        succeeded += 1;\n      } else {\n        // 2718 = HEAVY BALLOT X\n        span.style.color = \"red\";\n        span.innerText = \"\\u2718\";\n        failed += 1;\n      }\n      taskDiv.append(span);\n\n      taskDiv.append(document.createTextNode(\" \"));\n\n      if(task.name) {\n        taskDiv.append(document.createTextNode(task.name));\n      } else {\n        // make sure that the checkbox/ballot-x is on a reasonable line\n        // also for the next \"from\" clause (if any)\n        taskDiv.append(document.createTextNode(\"(anonymous task)\"));\n      }\n\n      if(task.__id__ && task.__id__ !== task.name) {\n        taskDiv.append(document.createTextNode(\" id=\" + encodeURIComponent(task.__id__)));\n      }\n\n      if(task.__sls__) {\n        taskDiv.append(document.createTextNode(\n          \" (from \" + task.__sls__.replace(\".\", \"/\") + \".sls)\"));\n      }\n\n      const components = task.___key___.split(\"_|-\");\n      taskDiv.append(document.createElement(\"br\"));\n      taskDiv.append(document.createTextNode(\n        indent + \"Function is \" + components[0] + \".\" + components[3]));\n\n      if(task.comment) {\n        taskDiv.append(document.createElement(\"br\"));\n        let txt = task.comment;\n        // trim extra whitespace\n        txt = txt.replace(/[ \\r\\n]+$/g, \"\");\n        // indent extra lines\n        txt = txt.replace(/[\\n]+/g, \"\\n\" + indent);\n        taskDiv.append(document.createTextNode(indent + txt));\n      }\n\n      changes += OutputSaltGuiHighstate.addChangesInfo(taskDiv, task, indent);\n\n      if(task.hasOwnProperty(\"start_time\")) {\n        taskDiv.append(document.createElement(\"br\"));\n        taskDiv.append(document.createTextNode(\n          indent + \"Started at \" + Output.dateTimeStr(task.start_time)));\n      }\n\n      if(task.hasOwnProperty(\"duration\")) {\n        const millis = Math.round(task.duration);\n        total_millis += millis;\n        if(millis >= 10) {\n          // anything below 10ms is not worth reporting\n          // report only the \"slow\" jobs\n          // it still counts for the grand total thought\n          taskDiv.append(document.createElement(\"br\"));\n          taskDiv.append(document.createTextNode(\n            indent + \"Duration \" + OutputSaltGuiHighstate.getDurationClause(millis)));\n        }\n      }\n\n      // show any unknown attribute of a task\n      // do not use Object.entries, that is not supported by the test framework\n      for(const key of Object.keys(task)) {\n        const item = task[key];\n        if(key === \"___key___\") continue; // ignored, generated by us\n        if(key === \"__id__\") continue; // handled\n        if(key === \"__sls__\") continue; // handled\n        if(key === \"__run_num__\") continue; // handled, not shown\n        if(key === \"changes\") continue; // handled\n        if(key === \"comment\") continue; // handled\n        if(key === \"duration\") continue; // handled\n        if(key === \"host\") continue; // ignored, same as host\n        if(key === \"name\") continue; // handled\n        if(key === \"pchanges\") continue; // ignored, also ignored by cli\n        if(key === \"result\") continue; // handled\n        if(key === \"start_time\") continue; // handled\n        taskDiv.append(document.createElement(\"br\"));\n        taskDiv.append(document.createTextNode(\n          indent + key + \" = \" + JSON.stringify(item)));\n      }\n\n      div.append(taskDiv);\n    }\n\n    // add a summary line\n    let line = \"\";\n\n    if(succeeded) line += \", \" + succeeded + \" succeeded\";\n    if(skipped) line += \", \" + skipped + \" skipped\";\n    if(failed) line += \", \" + failed + \" failed\";\n    const total = succeeded + skipped + failed;\n    if(total !== succeeded && total !== skipped && total !== failed) {\n      line += \", \" + (succeeded + skipped + failed) + \" total\";\n    }\n\n    // note that the number of changes may be higher or lower\n    // than the number of tasks. tasks may contribute multiple\n    // changes, or tasks may have no changes.\n    if(changes === 1) line += \", \" + changes + \" change\";\n    else if(changes) line += \", \" + changes + \" changes\";\n\n    // multiple durations and significant?\n    if(total > 1 && total_millis >= 10) {\n      line += \", \" + OutputSaltGuiHighstate.getDurationClause(total_millis);\n    }\n\n    if(line) {\n      div.append(document.createTextNode(line.substring(2)));\n    }\n\n    return div;\n  }\n\n}","export class OutputYaml {\n\n  // format an object as YAML\n  // returns NULL when it is not a simple object\n  // i.e. no multi-line objects, no indentation here\n  static formatSimpleYAML(value) {\n\n    if(value === null) {\n      return \"null\";\n    }\n\n    if(value === undefined) {\n      return \"undefined\";\n    }\n\n    if(typeof value === \"boolean\") {\n      return value ? \"true\" : \"false\";\n    }\n\n    if(typeof value === \"string\") {\n      let needQuotes = false;\n\n      // simple number with extra 0's at the start is still a string\n      if(value.match(/^0[0-9]+$/)) return value;\n\n      if(!isNaN(Number(value))) needQuotes = true;\n\n      if(value.match(/^$/)) needQuotes = true;\n\n      if(value.match(/^ /)) needQuotes = true;\n      if(value.match(/ $/)) needQuotes = true;\n\n      if(value.match(/^@/)) needQuotes = true;\n      if(value.match(/^`/)) needQuotes = true;\n      if(value.match(/^%/)) needQuotes = true;\n\n      if(!value.match(/^[-a-z0-9_()./:+ ]+$/i)) needQuotes = true;\n\n      if(!needQuotes) return value;\n      return \"'\" + value + \"'\";\n    }\n\n    if(typeof value !== \"object\") {\n      return \"\" + value;\n    }\n\n    if(Array.isArray(value) && value.length === 0) {\n      // show the brackets for an empty array a bit wider apart\n      return \"[ ]\";\n    }\n\n    if(!Array.isArray(value) && Object.keys(value).length === 0) {\n      // show the brackets for an empty object a bit wider apart\n      return \"{ }\";\n    }\n\n    return null;\n  }\n\n  // format an object as YAML\n  // based on an initial indentation and an indentation increment\n  static formatYAML(value, indentLevel=0) {\n\n    // indent each level with this number of spaces\n    // note that list items are indented with 2 spaces\n    // independently of this setting to match the prefix \"- \"\n    const indentStep = 2;\n\n    const str = OutputYaml.formatSimpleYAML(value);\n    if(str !== null) {\n      return str;\n    }\n\n    if(Array.isArray(value)) {\n      let out = \"\";\n      let separator = \"\";\n      for(const item of value) {\n        out += separator + \"-\\u00A0\" + OutputYaml.formatYAML(item, indentLevel + 2);\n        separator = \"\\n\" + \" \".repeat(indentLevel);\n      }\n      return out;\n    }\n\n    // regular object\n    let out = \"\";\n    let separator = \"\";\n    for(const key of Object.keys(value).sort()) {\n      const item = value[key];\n      out += separator + key + \":\";\n      const str = OutputYaml.formatSimpleYAML(item);\n      if(str !== null) {\n        out += \" \" + str;\n      } else if(Array.isArray(item)) {\n        out += \"\\n\" + \" \".repeat(indentLevel) + OutputYaml.formatYAML(item, indentLevel);\n      } else if(typeof item === \"object\") {\n        out += \"\\n\" + \" \".repeat(indentLevel + indentStep) + OutputYaml.formatYAML(item, indentLevel + indentStep);\n      } else {\n        out += \"x\" + OutputYaml.formatYAML(item, indentLevel + indentStep);\n      }\n      separator = \"\\n\" + \" \".repeat(indentLevel);\n    }\n    return out;\n  }\n\n}","import {OutputDocumentation} from './OutputDocumentation';\nimport {OutputHighstate} from './OutputHighstate';\nimport {OutputJson} from './OutputJson';\nimport {OutputNested} from './OutputNested';\nimport {OutputSaltGuiHighstate} from './OutputSaltGuiHighstate';\nimport {OutputYaml} from './OutputYaml';\n\n// Functions to turn responses from the salt system into visual information\n// The following variations exist:\n// A) documentation output\n//    one of the responsing nodes is selected\n//    all other nodes are then ignored\n// B) state output\n//    the response is formatted as a list of tasks\n// C) error output\n//    the response is formatted as text\n// D) other output\n//    the response is formatted as json text\n//\n// Additionally the following preparations may be needed:\n// 1) Output from WHEEL functions\n//    This output is re-organized to let it appear as if the output comes\n//    from a single node called \"master\".\n// 2) Output from RUNNERS functions\n//    This output is re-organized to let it appear as if the output comes\n//    from a single node called \"master\".\n\nexport class Output {\n\n  static isOutputFormatAllowed(requestedOutputFormat) {\n    let supportedOutputFormats = null;\n    // window.localStorage is not defined during unit testing\n    if(window.localStorage) supportedOutputFormats = window.localStorage.getItem(\"output_formats\");\n    if(supportedOutputFormats === \"undefined\") supportedOutputFormats = null;\n    if(supportedOutputFormats === null) supportedOutputFormats = \"doc,saltguihighstate,json\";\n    return supportedOutputFormats.includes(requestedOutputFormat);\n  }\n\n  // Re-organize the output to let it appear as if the output comes\n  // from a single node called \"RUNNER\" or \"MASTER\".\n  // This way all responses are organized by minion\n  static addVirtualMinion(response, command) {\n\n    if(command.startsWith(\"runners.\")) {\n      // Add a new level in the object\n      return { \"RUNNER\": response };\n    }\n\n    if(command.startsWith(\"wheel.\")) {\n      // Add a new level in the object\n      return { \"WHEEL\": response };\n    }\n\n    // otherwise return the original\n    return response;\n  }\n\n  // compose the host/minion-name label that is shown with each response\n  static getHostnameHtml(hostname, extraClass=\"\") {\n    const span = document.createElement(\"span\");\n    span.classList.add(\"hostname\");\n    if(extraClass) span.classList.add(extraClass);\n    span.innerText = hostname;\n    return span;\n  }\n\n  // the output is only text\n  // note: do not return a text-node\n  static getTextOutput(hostResponse) {\n    // strip trailing whitespace\n    hostResponse = hostResponse.replace(/[ \\r\\n]+$/g, \"\");\n\n    // replace all returned JIDs to links\n    // typically found in the output of an async job\n    // patJid is defined in scripts/parsecmdline.js\n    if(hostResponse.match(patJid)) {\n      const a = document.createElement(\"a\");\n      a.href = \"/job?id=\" + encodeURIComponent(hostResponse);\n      a.innerText = hostResponse;\n      return a;\n    }\n\n    // all regular text\n    const span = document.createElement(\"span\");\n    span.innerText = hostResponse;\n    return span;\n  }\n\n\n  // format an object in the preferred style\n  static formatObject(obj) {\n    if(Output.isOutputFormatAllowed(\"json\")) {\n      return OutputJson.formatJSON(obj);\n    }\n\n    if(Output.isOutputFormatAllowed(\"yaml\")) {\n      return OutputYaml.formatYAML(obj);\n    }\n\n    if(Output.isOutputFormatAllowed(\"nested\")) {\n      return OutputNested.formatNESTED(obj);\n    }\n\n    // when nothing is allowed, JSON is always allowed\n    return OutputJson.formatJSON(obj);\n  }\n\n\n  // this is the default output form\n  // just format the returned objects\n  // note: do not return a text-node\n  static getNormalOutput(hostResponse) {\n    const content = Output.formatObject(hostResponse);\n    const element = document.createElement(content.includes(\"\\n\") ? \"div\" : \"span\");\n    element.innerText = content;\n    return element;\n  }\n\n\n  static hasProperties(obj, props) {\n    if(!obj || typeof obj !== \"object\") {\n      return false;\n    }\n    for(const prop of props) {\n      if(!obj.hasOwnProperty(prop)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n\n  static isAsyncOutput(response) {\n    let keys = Object.keys(response);\n    if(keys.length !== 2) return false;\n    keys = keys.sort();\n    if(keys[0] !== \"jid\") return false;\n    if(keys[1] !== \"minions\") return false;\n    return true;\n  }\n\n\n  // reformat a date-time string\n  // supported formats:\n  // (time) 19:05:01.561754\n  // (datetime) 2019, Jan 26 19:05:22.808348\n  // current action is (only):\n  // - reduce the number of digits for the fractional seconds\n  static dateTimeStr(str) {\n\n    // no available setting, then return the original\n    const datetime_fraction_digits_str = window.localStorage.getItem(\"datetime_fraction_digits\");\n    if(datetime_fraction_digits_str === null) return str;\n\n    // setting is not a number, return the original\n    let datetime_fraction_digits_nr = Number.parseInt(datetime_fraction_digits_str);\n    if(isNaN(datetime_fraction_digits_nr)) return str;\n\n    // stick to the min/max values without complaining\n    if(datetime_fraction_digits_nr < 0) datetime_fraction_digits_nr = 0;\n    if(datetime_fraction_digits_nr > 6) datetime_fraction_digits_nr = 6;\n\n    // find the fractional part (assume only one '.' in the string)\n    let dotPos = str.indexOf(\".\");\n    if(dotPos < 0) return str;\n\n    // with no digits, also remove the dot\n    if(datetime_fraction_digits_nr === 0) dotPos -= 1;\n\n    return str.substring(0, dotPos + datetime_fraction_digits_nr + 1);\n  }\n\n\n  // the orchestrator for the output\n  // determines what format should be used and uses that\n  static addResponseOutput(outputContainer, minions, response, command) {\n\n    // remove old content\n    outputContainer.innerText = \"\";\n\n    // reformat runner/wheel output into regular output\n    response = Output.addVirtualMinion(response, command);\n\n    if(typeof response === \"string\") {\n      // do not format a string as an object\n      outputContainer.innerText = response;\n      return;\n    }\n\n    if(typeof response !== \"object\" || Array.isArray(response)) {\n      outputContainer.innerText = Output.formatObject(response);\n      return;\n    }\n\n    // it might be documentation\n    const commandArg = command.trim().replace(/^[a-z.]* */i, \"\");\n    const isDocumentationOutput = OutputDocumentation.isDocumentationOutput(Output, response, commandArg);\n    if(isDocumentationOutput) {\n      OutputDocumentation.reduceDocumentationOutput(response, commandArg, commandArg);\n      OutputDocumentation.addDocumentationOutput(outputContainer, response);\n      return;\n    }\n\n    const allDiv = document.createElement(\"div\");\n\n    if(!command.startsWith(\"runners.\") &&\n       !command.startsWith(\"wheel.\") &&\n       !Output.isAsyncOutput(response)) {\n      // runners/wheel responses are not per minion\n      // Do not produce a #response line for async-start confirmation\n      const span = document.createElement(\"span\");\n\n      const cntResponses = Object.keys(response).length;\n      const cntMinions = minions.length;\n\n      let txt;\n\n      if(cntResponses === 1) {\n        txt = cntResponses + \" response\";\n      } else {\n        txt = cntResponses + \" responses\";\n      }\n\n      if(cntMinions !== cntResponses) {\n        txt = txt + \", \" + (cntMinions - cntResponses) + \" no response\";\n      }\n\n      if(cntResponses > 0 && cntMinions !== cntResponses) {\n        txt = txt + \", \" + cntMinions + \" total\";\n      }\n\n      // some room for the triangle\n      txt = txt + \" \";\n\n      span.innerText = txt;\n      allDiv.appendChild(span);\n    }\n\n    const masterTriangle = document.createElement(\"span\");\n    masterTriangle.innerText = \"\\u25bd\";\n    masterTriangle.style = \"cursor: pointer\";\n    allDiv.appendChild(masterTriangle);\n\n    outputContainer.appendChild(allDiv);\n\n    masterTriangle.addEventListener(\"click\", _ => {\n      // 25B7 = WHITE RIGHT-POINTING TRIANGLE\n      // 25BD = WHITE DOWN-POINTING TRIANGLE\n      if(masterTriangle.innerText !== \"\\u25bd\") {\n        masterTriangle.innerText = \"\\u25bd\";\n      } else {\n        masterTriangle.innerText = \"\\u25b7\";\n      }\n\n      for(const div of outputContainer.childNodes) {\n        // only click on items that are collapsible\n        const childs = div.getElementsByClassName(\"triangle\");\n        if(childs.length !== 1) continue;\n        // do not collapse the \"all\" item again\n        const tr = childs[0];\n        if(tr === masterTriangle) continue;\n        // only click on items that are not already the same as \"all\"\n        if(tr.innerText === masterTriangle.innerText) continue;\n        // (un)collapse the minion\n        const evt = new MouseEvent(\"click\", {});\n        tr.dispatchEvent(evt);\n      }\n    });\n\n    let nrMultiLineBlocks = 0;\n\n    // for all other types we consider the output per minion\n    // this is more generic and it simplifies the handlers\n    for(const hostname of minions.sort()) {\n\n      const isSuccess = true;\n      const retCode = 0;\n\n      let hostResponse = response[hostname];\n      if(Output.hasProperties(hostResponse, [\"retcode\", \"return\", \"success\"])) {\n        hostResponse = hostResponse.return;\n      }\n      else if(command.startsWith(\"runner.\") && hostResponse && hostResponse.hasOwnProperty(\"return\")) {\n        hostResponse = hostResponse.return.return;\n      }\n\n      let hostOutput = null;\n      let hostMultiLine = null;\n      let fndRepresentation = false;\n\n      // the standard label is the hostname,\n      // future: colored based on the successflag\n      // future: colored based on the retcode\n      let hostClass = \"host_success\";\n      if(!isSuccess) hostClass = \"host_failure\";\n      if(!response.hasOwnProperty(hostname)) hostClass = \"host_noresponse\";\n      let hostLabel = Output.getHostnameHtml(hostname, hostClass);\n\n      if(!fndRepresentation && !response.hasOwnProperty(hostname)) {\n        hostOutput = Output.getTextOutput(\"(no response)\");\n        fndRepresentation = true;\n      }\n\n      if(!fndRepresentation && typeof hostResponse === \"string\") {\n        hostOutput = Output.getTextOutput(hostResponse);\n        hostMultiLine = hostResponse.includes(\"\\n\");\n        fndRepresentation = true;\n      }\n\n      if(!fndRepresentation && typeof hostResponse !== \"object\") {\n        hostOutput = Output.getNormalOutput(hostResponse);\n        hostMultiLine = false;\n        fndRepresentation = true;\n      }\n\n      // null is an object, but treat it separatelly\n      if(!fndRepresentation && hostResponse === null) {\n        hostOutput = Output.getNormalOutput(hostResponse);\n        hostMultiLine = false;\n        fndRepresentation = true;\n      }\n\n      // an array is an object, but treat it separatelly\n      if(!fndRepresentation && Array.isArray(hostResponse)) {\n        hostOutput = Output.getNormalOutput(hostResponse);\n        hostMultiLine = hostResponse.length > 0;\n        fndRepresentation = true;\n      }\n\n      // it might be highstate output\n      const commandCmd = command.trim().replace(/ .*/, \"\");\n      const isHighStateOutput = OutputHighstate.isHighStateOutput(commandCmd, hostResponse);\n      // enhanced highstate display\n      if(!fndRepresentation && isHighStateOutput && Output.isOutputFormatAllowed(\"saltguihighstate\")) {\n        hostLabel = OutputSaltGuiHighstate.getHighStateLabel(hostname, hostResponse);\n        hostOutput = OutputSaltGuiHighstate.getHighStateOutput(hostResponse);\n        hostMultiLine = true;\n        fndRepresentation = true;\n      }\n      // regular highstate display\n      if(!fndRepresentation && isHighStateOutput && Output.isOutputFormatAllowed(\"highstate\")) {\n        hostLabel = OutputHighstate.getHighStateLabel(hostname, hostResponse);\n        hostOutput = OutputHighstate.getHighStateOutput(hostResponse);\n        hostMultiLine = true;\n        fndRepresentation = true;\n      }\n\n      // nothing special? then it is normal output\n      if(!fndRepresentation) {\n        hostOutput = Output.getNormalOutput(hostResponse);\n        hostMultiLine = Object.keys(hostResponse).length > 0;\n      }\n\n      // one response does not need to be collapsible\n      const cnt = Object.keys(response).length;\n      if(cnt === 1) {\n        hostMultiLine = false;\n      }\n\n      if(hostMultiLine) nrMultiLineBlocks += 1;\n\n      // compose the actual output\n      const div = document.createElement(\"div\");\n\n      div.append(hostLabel);\n\n      div.appendChild(document.createTextNode(\": \"));\n\n      // multiple line, collapsible\n      // 25B7 = WHITE RIGHT-POINTING TRIANGLE\n      // 25BD = WHITE DOWN-POINTING TRIANGLE\n      let triangle = null;\n      if(hostMultiLine) {\n        triangle = document.createElement(\"span\");\n        triangle.innerText = \"\\u25bd\";\n        triangle.style = \"cursor: pointer\";\n        triangle.classList.add(\"triangle\");\n        div.appendChild(triangle);\n        div.appendChild(document.createElement(\"br\"));\n\n        triangle.addEventListener(\"click\", _ => {\n          // 25B7 = WHITE RIGHT-POINTING TRIANGLE\n          // 25BD = WHITE DOWN-POINTING TRIANGLE\n          if(triangle.innerText !== \"\\u25bd\") {\n            triangle.innerText = \"\\u25bd\";\n            hostOutput.style.display = \"\";\n          } else {\n            triangle.innerText = \"\\u25b7\";\n            hostOutput.style.display = \"none\";\n          }\n        });\n      }\n\n      div.append(hostOutput);\n\n      outputContainer.append(div);\n    }\n\n    if(nrMultiLineBlocks <= 1) {\n      // No collapsible elements, hide the master\n      // Also hide with 1 collapsible element\n      masterTriangle.style.display = \"none\";\n    }\n\n  }\n}","import {PageRoute} from './PageRoute';\nimport {Route} from './Route';\nimport {DropDownMenu} from '../DropDownMenu';\nimport {Output} from '../output';\n\nexport class GrainsMinionRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]grainsminion$\", \"Grains\", \"#page_grainsminion\", \"#button_grains\", router);\n\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._showGrains = this._showGrains.bind(this);\n\n    document.querySelector(\"#button_close_grainsminion\").addEventListener(\"click\", _ => {\n      this.router.goTo(\"/grains\");\n    });\n  }\n\n  onShow() {\n    const minions = this;\n\n    const minion = decodeURIComponent(window.getQueryParam(\"minion\"));\n\n    const title = document.getElementById(\"grainsminion_title\");\n    title.innerText = \"Grains on \" + minion;\n\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getGrainsItems(minion).then(minions._showGrains);\n      minions.router.api.getJobs().then(minions._updateJobs);\n      minions.router.api.getJobsActive().then(minions._runningJobs);\n    });\n  }\n\n  _showGrains(data) {\n    const minion = decodeURIComponent(window.getQueryParam(\"minion\"));\n\n    const grains = data.return[0][minion];\n\n    const gmp = document.getElementById(\"grainsminion_page\");\n    const menu = new DropDownMenu(gmp);\n    menu.addMenuItem(\"Add&nbsp;grain...\", function(evt) {\n      // use placeholders for name and value\n      this._runCommand(evt, minion, \"grains.setval \\\"name\\\" \\\"value\\\"\");\n    }.bind(this));\n    menu.addMenuItem(\"Refresh&nbsp;grains...\", function(evt) {\n      this._runCommand(evt, minion, \"saltutil.refresh_grains\");\n    }.bind(this));\n\n    const container = document.getElementById(\"grainsminion_list\");\n\n    // new menu's are always added at the bottom of the div\n    // fix that by re-adding the minion list\n    gmp.appendChild(container);\n\n    while(container.tBodies[0].rows.length > 0) {\n      container.tBodies[0].deleteRow(0);\n    }\n\n    if(!grains) return;\n\n    const keys = Object.keys(grains).sort();\n    for(const k of keys) {\n      const grain = document.createElement('tr');\n\n      const name = Route._createTd(\"grain_name\", k);\n      grain.appendChild(name);\n\n      const grain_value = Output.formatObject(grains[k]);\n\n      const menu = new DropDownMenu(grain);\n      menu.addMenuItem(\"Edit&nbsp;grain...\", function(evt) {\n        this._runCommand(evt, minion, \"grains.setval \\\"\" + k + \"\\\" \" + JSON.stringify(grains[k]));\n      }.bind(this));\n      if(grain_value.startsWith(\"[\")) {\n        menu.addMenuItem(\"Add&nbsp;value...\", function(evt) {\n          this._runCommand(evt, minion, \"grains.append \\\"\" + k + \"\\\" \\\"value\\\"\");\n        }.bind(this));\n      }\n      menu.addMenuItem(\"Delete&nbsp;key...\", function(evt) {\n        this._runCommand(evt, minion, \"grains.delkey \\\"\" + k + \"\\\"\");\n      }.bind(this));\n      menu.addMenuItem(\"Delete&nbsp;value...\", function(evt) {\n        this._runCommand(evt, minion, \"grains.delval \\\"\" + k + \"\\\"\");\n      }.bind(this));\n\n      // menu comes before this data on purpose\n      const value = Route._createTd(\"grain_value\", grain_value);\n      grain.appendChild(value);\n\n      container.tBodies[0].appendChild(grain);\n\n      grain.addEventListener(\"click\", evt => this._runCommand(evt, minion, \"grains.setval \\\"\" + k + \"\\\" \" + JSON.stringify(grains[k])));\n    }\n  }\n}\n","import {PageRoute} from './PageRoute';\nimport {Route} from './Route';\nimport {DropDownMenu} from '../DropDownMenu';\n\nrequire('../../sorttable/sorttable');\n\nexport class GrainsRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]grains$\", \"Grains\", \"#page_grains\", \"#button_grains\", router);\n\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._updateKeys = this._updateKeys.bind(this);\n    this._updateMinion = this._updateMinion.bind(this);\n\n    // collect the list of displayed minions\n    let previewGrainsText = window.localStorage.getItem(\"preview_grains\");\n    if(!previewGrainsText || previewGrainsText === \"undefined\") {\n      previewGrainsText = \"[]\";\n    }\n    this._previewGrains = JSON.parse(previewGrainsText);\n    if(!Array.isArray(this._previewGrains)) {\n      this._previewGrains = [ ];\n    }\n    // add all the required columns\n    const tr = document.querySelector(\"#page_grains thead tr\");\n    while(tr.childElementCount > 6) {\n      tr.removeChild(tr.lastChild);\n    }\n    for(let i = 0; i < this._previewGrains.length; i++) {\n      const th = document.createElement(\"th\");\n      th.innerText = this._previewGrains[i];\n      tr.appendChild(th);\n    }\n    // the new columns are not yet sortable, make sure they are\n    sorttable.makeSortable(document.querySelector(\"#page_grains table\"));\n  }\n\n  onShow() {\n    const minions = this;\n\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getMinions().then(minions._updateMinions);\n      minions.router.api.getKeys().then(minions._updateKeys);\n      minions.router.api.getJobs().then(minions._updateJobs);\n      minions.router.api.getJobsActive().then(minions._runningJobs);\n    });\n  }\n\n  _updateKeys(data) {\n    const keys = data.return;\n\n    const list = this.getPageElement().querySelector('#minions');\n\n    const hostnames = keys.minions.sort();\n    for(const hostname of hostnames) {\n      this._addMinion(list, hostname, 1 + this._previewGrains.length);\n\n      // preliminary dropdown menu\n      const element = document.getElementById(hostname);\n      const menu = new DropDownMenu(element);\n      this._addMenuItemShowGrains(menu, hostname);\n\n      for(let i = 0; i < this._previewGrains.length; i++) {\n        element.appendChild(Route._createTd(\"\", \"\"));\n      }\n\n      element.addEventListener(\"click\", evt => window.location.assign(\"grainsminion?minion=\" + encodeURIComponent(hostname)));\n    }\n\n    this.keysLoaded = true;\n    if(this.keysLoaded && this.jobsLoaded) this.resolvePromise();\n  }\n\n  _updateOfflineMinion(container, hostname) {\n    super._updateOfflineMinion(container, hostname);\n\n    const element = document.getElementById(hostname);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"saltversion\", \"\"));\n    element.appendChild(Route._createTd(\"os\", \"\"));\n    element.appendChild(Route._createTd(\"graininfo\", \"\"));\n    element.appendChild(Route._createTd(\"run-command-button\", \"\"));\n    for(let i = 0; i < this._previewGrains.length; i++) {\n      element.appendChild(Route._createTd(\"\", \"\"));\n    }\n  }\n\n  _updateMinion(container, minion, hostname) {\n    super._updateMinion(container, minion, hostname);\n\n    const element = document.getElementById(hostname);\n\n    const cnt = Object.keys(minion).length;\n    const grainInfoText = cnt + \" grains\";\n    const grainInfoTd = Route._createTd(\"graininfo\", grainInfoText);\n    grainInfoTd.setAttribute(\"sorttable_customkey\", cnt);\n    element.appendChild(grainInfoTd);\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemShowGrains(menu, hostname);\n\n    // add all the required columns\n    while(element.childElementCount > 6) {\n      element.removeChild(element.lastChild);\n    }\n    for(let i = 0; i < this._previewGrains.length; i++) {\n      const td = document.createElement(\"td\");\n      const grainName = this._previewGrains[i];\n      if(grainName in minion) {\n        td.innerText = Output.formatObject(minion[grainName]);\n        td.classList.add(\"grain_value\");\n      }\n      element.appendChild(td);\n    }\n\n    element.addEventListener(\"click\", evt => window.location.assign(\"grainsminion?minion=\" + encodeURIComponent(hostname)));\n  }\n\n  _addMenuItemShowGrains(menu, hostname) {\n    menu.addMenuItem(\"Show&nbsp;grains\", function(evt) {\n      window.location.assign(\"grainsminion?minion=\" + encodeURIComponent(hostname));\n    }.bind(this));\n  }\n}\n","import {Route} from './Route';\n\nexport class JobRoute extends Route {\n\n  constructor(router) {\n    super(\"^[\\/]job$\", \"Job\", \"#page_job\", \"\", router);\n    this._onJobData = this._onJobData.bind(this);\n  }\n\n  onShow() {\n    const job = this;\n    const id = decodeURIComponent(window.getQueryParam(\"id\"));\n    return new Promise(function(resolve, reject) {\n      job.resolvePromise = resolve;\n      job.router.api.getJob(id).then(job._onJobData);\n    });\n  }\n\n  _isResultOk(result) {\n    if(!result.success) return false;\n    if(result.retcode !== 0) return false;\n    return true;\n  }\n\n  _onJobData(data) {\n    const job = this;\n    const info = data.info[0];\n    job.getPageElement().querySelector(\".output\").innerText = \"\";\n\n    document.querySelector(\"#button_close_job\").addEventListener(\"click\", _ => {\n      this.router.goTo(\"/jobs\");\n    });\n\n    const argumentsText = this._decodeArgumentsText(info.Arguments[0]);\n    const commandText = info.Function + \" \" + argumentsText;\n    const jobinfo = document.getElementById(\"job_page\");\n    const menuSection = jobinfo.querySelector(\".job_menu\");\n    const menu = new DropDownMenu(menuSection);\n\n    // 1: re-run with original target pattern\n    menu.addMenuItem(\"Re-run&nbsp;job...\", function(evt) {\n      this._runFullCommand(evt, info[\"Target-type\"], info.Target, commandText);\n    }.bind(this));\n\n    // 2: re-run list of minions\n    let minionList = \"\";\n    if(info.Minions) {\n      for(const m of info.Minions) {\n        minionList += \",\" + m;\n      }\n    }\n    if(minionList && minionList === \",\" + info.Minions[0]) {\n      // suppress a trivial case\n      minionList = null;\n    }\n    if(minionList) {\n      const lst = minionList.substring(1);\n      menu.addMenuItem(\"Re-run&nbsp;job&nbsp;on&nbsp;all&nbsp;minions...\", function(evt) {\n        this._runFullCommand(evt, \"list\", lst, commandText);\n      }.bind(this));\n    }\n\n    // 3: re-run all failed (error+timeout)\n    minionList = \"\";\n    let has1 = false, has2 = false;\n    if(info.Minions) {\n      for(const m of info.Minions) {\n        if(!(m in info.Result)) has1 = true;\n        if(m in info.Result && !this._isResultOk(info.Result[m])) has2 = true;\n        if(!(m in info.Result) || !this._isResultOk(info.Result[m])) {\n          minionList += \",\" + m;\n        }\n      }\n    }\n    // only when we have both types in the list\n    // otherwise the #4 or #5 is sufficient\n    if(has1 && has2 && minionList) {\n      const lst = minionList.substring(1);\n      menu.addMenuItem(\"Re-run&nbsp;job&nbsp;on&nbsp;unsuccessful&nbsp;minions...\", function(evt) {\n        this._runFullCommand(evt, \"list\", lst, commandText);\n      }.bind(this));\n    }\n\n    // 4: re-run all failed (error)\n    minionList = \"\";\n    if(info.Minions) {\n      for(const m of info.Minions) {\n        if(m in info.Result && !this._isResultOk(info.Result[m])) {\n          minionList += \",\" + m;\n        }\n      }\n    }\n    if(minionList) {\n      const lst = minionList.substring(1);\n      menu.addMenuItem(\"Re-run&nbsp;job&nbsp;on&nbsp;failed&nbsp;minions...\", function(evt) {\n        this._runFullCommand(evt, \"list\", lst, commandText);\n      }.bind(this));\n    }\n\n    // 5: re-run all failed (timeout)\n    minionList = \"\";\n    if(info.Minions) {\n      for(const m of info.Minions) {\n        if(!(m in info.Result)) {\n          minionList += \",\" + m;\n        }\n      }\n    }\n    if(minionList) {\n      const lst = minionList.substring(1);\n      menu.addMenuItem(\"Re-run&nbsp;job&nbsp;on&nbsp;non&nbsp;responding&nbsp;minions...\", function(evt) {\n        this._runFullCommand(evt, \"list\", lst, commandText);\n      }.bind(this));\n    }\n\n    const functionText = commandText + \" on \" +\n      window.makeTargetText(info[\"Target-type\"], info.Target);\n    jobinfo.querySelector(\".function\").innerText = functionText;\n\n    jobinfo.querySelector(\".time\").innerText = Output.dateTimeStr(info.StartTime);\n\n    const output = job.getPageElement().querySelector(\".output\");\n    // use same formatter as direct commands\n    let minions = [\"WHEEL\"];\n    if(info.Minions) minions = info.Minions;\n    Output.addResponseOutput(output, minions, info.Result, info.Function);\n\n    this.resolvePromise();\n  }\n\n}\n","import {PageRoute} from './PageRoute';\n\nexport class JobsRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]jobs$\", \"Jobs\", \"#page_jobs\", \"#button_jobs\", router);\n    this.jobsLoaded = false;\n  }\n\n  onShow() {\n    const jobs = this;\n    return new Promise(function(resolve, reject) {\n      jobs.resolvePromise = resolve;\n      if(jobs.jobsLoaded) resolve();\n      jobs.router.api.getJobs().then(data => {\n        jobs._updateJobs(data, 50, true);\n      });\n      jobs.router.api.getJobsActive().then(data => {\n        jobs._runningJobs(data, true);\n      });\n    });\n  }\n\n}\n","import {PageRoute} from './PageRoute';\nimport {Route} from './Route';\nimport {DropDownMenu} from '../DropDownMenu';\n\nexport class KeysRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]keys$\", \"Keys\", \"#page_keys\", \"#button_keys\", router);\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._updateKeys = this._updateKeys.bind(this);\n    this._updateKeysFingerprint = this._updateKeysFingerprint.bind(this);\n  }\n\n  onShow() {\n    const keys = this;\n    const p1 = keys.router.api.getKeys();\n    const p2 = keys.router.api.getKeysFingerprint();\n\n    Promise.all([p1, p2])\n      .then(function(data){\n        // process result of 1st promise\n        keys._updateKeys(data[0]);\n        // process result of 2nd promise\n        keys._updateKeysFingerprint(data[1]);\n      });\n    return new Promise(function(resolve, reject) {\n      keys.resolvePromise = resolve;\n      if(keys.keysLoaded && keys.jobsLoaded) resolve();\n      keys.router.api.getJobs().then(keys._updateJobs);\n      keys.router.api.getJobsActive().then(keys._runningJobs);\n    });\n  }\n\n  _updateKeysFingerprint(data) {\n    const keys = data.return[0].data.return;\n\n    for(const property of Object.keys(keys)) {\n      if(property === \"local\") continue;\n      const hosts = keys[property];\n      for(const hostname of Object.keys(hosts)) {\n        const item = document.querySelector(\"#\" + hostname + \" .os\");\n        if(item) {\n          // remove td.os for accepted minions and add td.fingerprint\n          item.parentElement.insertBefore(Route._createTd(\"fingerprint\", \"\"), item);\n          item.parentElement.removeChild(item);\n        }\n\n        // update td.fingerprint with fingerprint value\n        const fingerprintElement = document.querySelector(\"#\" + hostname + \" .fingerprint\");\n        const fingerprint = hosts[hostname];\n        if(fingerprintElement) fingerprintElement.innerText = fingerprint;\n      }\n    }\n  }\n\n  _updateKeys(data) {\n    const keys = data.return;\n    const list = this.getPageElement().querySelector(\"#minions\");\n\n    // Unaccepted goes first because that is where the user must decide\n    const hostnames_pre = keys.minions_pre.sort();\n    for(const hostname of hostnames_pre) {\n      this._addPreMinion(list, hostname);\n    }\n\n    const hostnames_accepted = keys.minions.sort();\n    for(const hostname of hostnames_accepted) {\n      this._addMinion(list, hostname, 1);\n\n      // preliminary dropdown menu\n      const element = document.getElementById(hostname);\n      const menu = new DropDownMenu(element);\n      this._addMenuItemReject(menu, hostname, \" include_accepted=true\");\n      this._addMenuItemDelete(menu, hostname, \"\");\n    }\n\n    const hostnames_denied = keys.minions_denied.sort();\n    for(const hostname of hostnames_denied) {\n      this._addDeniedMinion(list, hostname);\n    }\n\n    const hostnames_rejected = keys.minions_rejected.sort();\n    for(const hostname of hostnames_rejected) {\n      this._addRejectedMinion(list, hostname);\n    }\n\n    let summary = \"\";\n    if(hostnames_pre.length === 0)\n      summary += \", no unaccepted keys\";\n    if(hostnames_accepted.length === 0)\n      summary += \", no accepted keys\";\n    if(hostnames_denied.length === 0)\n      summary += \", no denied keys\";\n    if(hostnames_rejected.length === 0)\n      summary += \", no rejected keys\";\n    if(summary) {\n      const div = Route._createDiv(\"msg\", summary.replace(/, n/, \"N\"));\n      this.getPageElement().querySelector(\".minion-list\").appendChild(div);\n    }\n\n    this.keysLoaded = true;\n    if(this.keysLoaded && this.jobsLoaded) this.resolvePromise();\n  }\n\n  _updateOfflineMinion(container, hostname) {\n    super._updateOfflineMinion(container, hostname);\n\n    const element = document.getElementById(hostname);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"fingerprint\", \"\"));\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemReject(menu, hostname, \" include_accepted=true\");\n    this._addMenuItemDelete(menu, hostname, \"\");\n  }\n\n  _addRejectedMinion(container, hostname) {\n    const element = this._getElement(container, hostname);\n\n    element.appendChild(Route._createTd(\"hostname\", hostname));\n\n    const rejected = Route._createTd(\"status\", \"rejected\");\n    rejected.classList.add(\"rejected\");\n    element.appendChild(rejected);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"fingerprint\", \"\"));\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemDelete(menu, hostname, \"\");\n    this._addMenuItemAccept(menu, hostname, \" include_rejected=true\");\n\n    container.tBodies[0].appendChild(element);\n  }\n\n  _addDeniedMinion(container, hostname) {\n    const element = this._getElement(container, hostname);\n\n    element.appendChild(Route._createTd(\"hostname\", hostname));\n\n    const denied = Route._createTd(\"status\", \"denied\");\n    denied.classList.add(\"denied\");\n    element.appendChild(denied);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"fingerprint\", \"\"));\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemAccept(menu, hostname, \" include_denied=true\");\n    this._addMenuItemReject(menu, hostname, \" include_denied=true\");\n    this._addMenuItemDelete(menu, hostname, \"\");\n\n    container.tBodies[0].appendChild(element);\n  }\n\n  _addPreMinion(container, hostname) {\n    const element = this._getElement(container, hostname);\n\n    element.appendChild(Route._createTd(\"hostname\", hostname));\n\n    const pre = Route._createTd(\"status\", \"unaccepted\");\n    pre.classList.add(\"unaccepted\");\n    element.appendChild(pre);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"fingerprint\", \"\"));\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemAccept(menu, hostname, \"\");\n    this._addMenuItemReject(menu, hostname, \"\");\n    this._addMenuItemDelete(menu, hostname, \"\");\n\n    container.tBodies[0].appendChild(element);\n  }\n\n  _addMenuItemAccept(menu, hostname, extra) {\n    menu.addMenuItem(\"Accept&nbsp;key...\", function(evt) {\n      this._runCommand(evt, hostname, \"wheel.key.accept\" + extra);\n    }.bind(this));\n  }\n\n  _addMenuItemReject(menu, hostname, extra) {\n    menu.addMenuItem(\"Reject&nbsp;key...\", function(evt) {\n      this._runCommand(evt, hostname, \"wheel.key.reject\" + extra);\n    }.bind(this));\n  }\n\n  _addMenuItemDelete(menu, hostname, extra) {\n    menu.addMenuItem(\"Delete&nbsp;key...\", function(evt) {\n      this._runCommand(evt, hostname, \"wheel.key.delete\" + extra);\n    }.bind(this));\n  }\n}\n","import {Route} from './Route';\n\nexport class LoginRoute extends Route {\n\n  constructor(router) {\n    super(\"^[\\/]login$\", \"Login\", \"#page_login\", \"\", router);\n\n    this.loginPending = false;\n\n    this.onLogin = this.onLogin.bind(this);\n    this.onLoginSuccess = this.onLoginSuccess.bind(this);\n    this.onLoginFailure = this.onLoginFailure.bind(this);\n    this.registerEventListeners();\n  }\n\n  onShow() {\n    const eauthSelector = document.querySelector(\"#login-form #eauth\");\n    const eauthValue = window.localStorage.getItem(\"eauth\");\n    eauthSelector.value = eauthValue ? eauthValue : \"pam\";\n  }\n\n  registerEventListeners() {\n    const submit = document.querySelector(\"#login-form\");\n    submit.addEventListener(\"submit\", this.onLogin);\n  }\n\n  onLogin(evt) {\n    evt.preventDefault();\n    if(this.loginPending) return; //Don't continue if waiting on a request\n\n    const username = document.querySelector(\"#username\").value;\n    const password = document.querySelector(\"#password\").value;\n    const eauth = document.querySelector(\"#eauth\").value;\n\n    this.toggleForm(false);\n    this.router.api.login(username, password, eauth)\n      .then(this.onLoginSuccess, this.onLoginFailure);\n  }\n\n  onLoginSuccess() {\n    this.toggleForm(true);\n\n    const notice = document.querySelector(\".notice-wrapper\");\n\n    const success = Route._createDiv(\"notice\", \"Please wait...\");\n    success.style.backgroundColor = \"#4CAF50\";\n    notice.replaceChild(success, notice.firstChild);\n\n    document.querySelector(\"#username\").disabled = true;\n    document.querySelector(\"#password\").disabled = true;\n    document.querySelector(\"#eauth\").disabled = true;\n\n    notice.className = \"notice-wrapper\";\n    notice.focus(); //Used to trigger a reflow (to restart animation)\n    notice.className = \"notice-wrapper show\";\n\n    this.router.goTo(\"/\");\n  }\n\n  onLoginFailure() {\n    this.toggleForm(true);\n\n    const notice = document.querySelector(\".notice-wrapper\");\n\n    const authFailed = Route._createDiv(\"notice\", \"Authentication failed\");\n    authFailed.style.backgroundColor = \"#F44336\";\n\n    notice.replaceChild(authFailed, notice.firstChild);\n    notice.className = \"notice-wrapper\";\n    notice.focus(); //Used to trigger a reflow (to restart animation)\n    notice.className = \"notice-wrapper show\";\n  }\n\n  toggleForm(allowSubmit) {\n    this.loginPending = !allowSubmit;\n    document.querySelector(\"#login-form input[type='submit']\")\n      .disabled = !allowSubmit;\n  }\n\n}\n","import {PageRoute} from './PageRoute';\nimport {DropDownMenu} from '../DropDownMenu';\n\nexport class MinionsRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]$\", \"Minions\", \"#page_minions\", \"#button_minions\", router);\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._updateKeys = this._updateKeys.bind(this);\n  }\n\n  onShow() {\n    const minions = this;\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getMinions().then(minions._updateMinions);\n      minions.router.api.getKeys().then(minions._updateKeys);\n      minions.router.api.getJobs().then(minions._updateJobs);\n      minions.router.api.getJobsActive().then(minions._runningJobs);\n      //we need these functions to populate the dropdown boxes\n      minions.router.api.getConfigValues().then(minions._configvalues);\n    });\n  }\n\n  _configvalues(data) {\n    // store for later use\n\n    const templates = data.return[0].data.return.saltgui_templates;\n    window.localStorage.setItem(\"templates\", JSON.stringify(templates));\n\n    const public_pillars = data.return[0].data.return.saltgui_public_pillars;\n    window.localStorage.setItem(\"public_pillars\", JSON.stringify(public_pillars));\n\n    const preview_grains = data.return[0].data.return.saltgui_preview_grains;\n    window.localStorage.setItem(\"preview_grains\", JSON.stringify(preview_grains));\n\n    let nodegroups = data.return[0].data.return.nodegroups;\n    if(!nodegroups) nodegroups = {};\n    window.localStorage.setItem(\"nodegroups\", JSON.stringify(nodegroups));\n\n    const output_formats = data.return[0].data.return.saltgui_output_formats;\n    window.localStorage.setItem(\"output_formats\", JSON.stringify(output_formats));\n\n    const datetime_fraction_digits = data.return[0].data.return.saltgui_datetime_fraction_digits;\n    window.localStorage.setItem(\"datetime_fraction_digits\", JSON.stringify(datetime_fraction_digits));\n  }\n\n  _updateKeys(data) {\n    const keys = data.return;\n\n    const list = this.getPageElement().querySelector(\"#minions\");\n\n    const hostnames = keys.minions.sort();\n    for(const hostname of hostnames) {\n      this._addMinion(list, hostname, 1);\n\n      // preliminary dropdown menu\n      const element = document.getElementById(hostname);\n      const menu = new DropDownMenu(element);\n      this._addMenuItemStateApply(menu, hostname);\n\n      element.addEventListener(\"click\", evt => this._runCommand(evt, hostname, \"state.apply\"));\n    }\n\n    this.keysLoaded = true;\n    if(this.keysLoaded && this.jobsLoaded) this.resolvePromise();\n  }\n\n  _updateOfflineMinion(container, hostname) {\n    super._updateOfflineMinion(container, hostname);\n\n    const element = document.getElementById(hostname);\n\n    // force same columns on all rows\n    element.appendChild(Route._createTd(\"saltversion\", \"\"));\n    element.appendChild(Route._createTd(\"os\", \"\"));\n    element.appendChild(Route._createTd(\"run-command-button\", \"\"));\n  }\n\n  _updateMinion(container, minion, hostname) {\n    super._updateMinion(container, minion, hostname);\n\n    const element = document.getElementById(hostname);\n    const menu = new DropDownMenu(element);\n    this._addMenuItemStateApply(menu, hostname);\n\n    element.addEventListener(\"click\", evt => this._runCommand(evt, hostname, \"state.apply\"));\n  }\n\n  _addMenuItemStateApply(menu, hostname) {\n    menu.addMenuItem(\"Apply&nbsp;state...\", function(evt) {\n      this._runCommand(evt, hostname, \"state.apply\");\n    }.bind(this));\n  }\n}\n","import {PageRoute} from './PageRoute';\nimport {DropDownMenu} from '../DropDownMenu';\nimport {Output} from '../output';\n\nexport class PillarsMinionRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]pillarsminion$\", \"Pillars\", \"#page_pillarsminion\", \"#button_pillars\", router);\n\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._showPillars = this._showPillars.bind(this);\n\n    document.querySelector(\"#button_close_pillarsminion\").addEventListener(\"click\", _ => {\n      this.router.goTo(\"/pillars\");\n    });\n  }\n\n  onShow() {\n    const minions = this;\n\n    const minion = decodeURIComponent(window.getQueryParam(\"minion\"));\n\n    const title = document.getElementById(\"pillarsminion_title\");\n    title.innerText = \"Pillars on \" + minion;\n\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getPillarItems(minion).then(minions._showPillars);\n      minions.router.api.getJobs().then(minions._updateJobs);\n      minions.router.api.getJobsActive().then(minions._runningJobs);\n    });\n  }\n\n  _showPillars(data) {\n    const minion = decodeURIComponent(window.getQueryParam(\"minion\"));\n\n    const pillars = data.return[0][minion];\n\n    const pmp = document.getElementById(\"pillarsminion_page\");\n    const menu = new DropDownMenu(pmp);\n    this._addMenuItemRefreshPillar(menu, minion);\n\n    const container = document.getElementById(\"pillarsminion_list\");\n\n    // new menu's are always added at the bottom of the div\n    // fix that by re-adding the minion list\n    pmp.appendChild(container);\n\n    while(container.tBodies[0].rows.length > 0) {\n      container.tBodies[0].deleteRow(0);\n    }\n\n    if(!pillars) return;\n\n    // collect the public pillars and compile their regexps\n    let publicPillarsText = window.localStorage.getItem(\"public_pillars\");\n    if(!publicPillarsText || publicPillarsText === \"undefined\") publicPillarsText = \"[]\";\n    let public_pillars = JSON.parse(publicPillarsText);\n    if(!Array.isArray(public_pillars)) public_pillars = [ ];\n    for(let i = 0; i < public_pillars.length; i++) {\n      try {\n        public_pillars[i] = new RegExp(public_pillars[i]);\n      }\n      catch(err) {\n        // most likely a syntax error in the RE\n        public_pillars[i] = null;\n      }\n    }\n\n    const keys = Object.keys(pillars).sort();\n    for(const k of keys) {\n      const pillar = document.createElement('tr');\n\n      const name = PillarsMinionRoute._createTd(\"pillar_name\", k);\n      pillar.appendChild(name);\n\n      // menu comes before this data if there was any\n\n      // 8 bullet characters\n      const value_hidden = \"\\u25CF\\u25CF\\u25CF\\u25CF\\u25CF\\u25CF\\u25CF\\u25CF\";\n      const pillar_hidden = PillarsMinionRoute._createTd(\"pillar_hidden\", value_hidden);\n      // initially use the hidden view\n      pillar.appendChild(pillar_hidden);\n\n      const value_shown = Output.formatObject(pillars[k]);\n      const pillar_shown = PillarsMinionRoute._createTd(\"pillar_shown\", value_shown);\n      // initially hide the normal view\n      pillar_shown.style.display = \"none\";\n      // add the non-masked representation, not shown yet\n      pillar.appendChild(pillar_shown);\n\n      // show public pillars immediatelly\n      for(let i = 0; i < public_pillars.length; i++) {\n        if(public_pillars[i] && public_pillars[i].test(k)) {\n          // same code as when clicking the hidden value\n          pillar_hidden.style.display = \"none\";\n          pillar_shown.style.display = \"\";\n          break;\n        }\n      }\n\n      pillar_hidden.addEventListener(\"click\", function(evt) {\n        pillar_hidden.style.display = \"none\";\n        pillar_shown.style.display = \"\";\n      });\n\n      pillar_shown.addEventListener(\"click\", function(evt) {\n        pillar_shown.style.display = \"none\";\n        pillar_hidden.style.display = \"\";\n      });\n\n      container.tBodies[0].appendChild(pillar);\n    }\n\n    if(!keys.length) {\n      const noPillarsMsg = PillarsMinionRoute._createTd(\"msg\", \"No pillars found\");\n      container.tBodies[0].appendChild(noPillarsMsg);\n    }\n  }\n\n  _addMenuItemRefreshPillar(menu, hostname) {\n    menu.addMenuItem(\"Refresh&nbsp;pillar...\", function(evt) {\n      this._runCommand(evt, hostname, \"saltutil.refresh_pillar\");\n    }.bind(this));\n  }\n}\n","import {PageRoute} from './PageRoute';\nimport {DropDownMenu} from '../DropDownMenu';\n\nexport class PillarsRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]pillars$\", \"Pillars\", \"#page_pillars\", \"#button_pillars\", router);\n\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._updateKeys = this._updateKeys.bind(this);\n    this._updateMinion = this._updateMinion.bind(this);\n  }\n\n  onShow() {\n    const minions = this;\n\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getPillarObfuscate(null).then(minions._updateMinions);\n      minions.router.api.getKeys().then(minions._updateKeys);\n      minions.router.api.getJobs().then(minions._updateJobs);\n      minions.router.api.getJobsActive().then(minions._runningJobs);\n    });\n  }\n\n  _updateKeys(data) {\n    const keys = data.return;\n\n    const list = this.getPageElement().querySelector('#minions');\n\n    const hostnames = keys.minions.sort();\n    for(const hostname of hostnames) {\n      this._addMinion(list, hostname, 1);\n\n      // preliminary dropdown menu\n      const element = document.getElementById(hostname);\n      const menu = new DropDownMenu(element);\n      this._addMenuItemShowPillars(menu, hostname);\n\n      element.addEventListener(\"click\", evt => window.location.assign(\"pillarsminion?minion=\" + encodeURIComponent(hostname)));\n    }\n\n    this.keysLoaded = true;\n    if(this.keysLoaded && this.jobsLoaded) this.resolvePromise();\n  }\n\n  _updateOfflineMinion(container, hostname) {\n    super._updateOfflineMinion(container, hostname);\n\n    const element = document.getElementById(hostname);\n\n    // force same columns on all rows\n    element.appendChild(PillarsRoute._createTd(\"pillarinfo\", \"\"));\n    element.appendChild(PillarsRoute._createTd(\"run-command-button\", \"\"));\n  }\n\n  _updateMinion(container, minion, hostname) {\n    super._updateMinion(container, null, hostname);\n\n    const element = document.getElementById(hostname);\n\n    const cnt = Object.keys(minion).length;\n    let pillarInfoText;\n    if(cnt === 0) {\n      pillarInfoText = \"No pillars\";\n    } else if(cnt === 1) {\n      pillarInfoText = cnt + \" pillar\";\n    } else {\n      pillarInfoText = cnt + \" pillars\";\n    }\n    const pillarInfoTd = PillarsRoute._createTd(\"pillarinfo\", pillarInfoText);\n    pillarInfoTd.setAttribute(\"sorttable_customkey\", cnt);\n    element.appendChild(pillarInfoTd);\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemShowPillars(menu, hostname);\n\n    element.addEventListener(\"click\", evt => window.location.assign(\"pillarsminion?minion=\" + encodeURIComponent(hostname)));\n  }\n\n  _addMenuItemShowPillars(menu, hostname) {\n    menu.addMenuItem(\"Show&nbsp;pillars\", function(evt) {\n      window.location.assign(\"pillarsminion?minion=\" + encodeURIComponent(hostname));\n    }.bind(this));\n  }\n}\n","import {PageRoute} from './PageRoute';\nimport {DropDownMenu} from '../DropDownMenu';\n\nexport class SchedulesRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]schedules$\", \"Schedules\", \"#page_schedules\", \"#button_schedules\", router);\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._updateKeys = this._updateKeys.bind(this);\n    this._updateMinion = this._updateMinion.bind(this);\n  }\n\n  onShow() {\n    const minions = this;\n\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getScheduleList(null)\n        .then(minions._updateMinions, minions._updateMinions);\n      minions.router.api.getKeys().then(minions._updateKeys);\n      minions.router.api.getJobs().then(minions._updateJobs);\n      minions.router.api.getJobsActive().then(minions._runningJobs);\n    });\n  }\n\n  // This one has some historic ballast:\n  // Meta-data is returned on the same level as\n  // the list of scheduled items\n  static _fixMinion(data) {\n    const ret = { \"schedules\": {}, \"enabled\": true };\n    for(const k in data) {\n      if(k === \"enabled\") {\n        ret.enabled = data.enabled;\n        continue;\n      }\n      if(k === \"schedule\" && JSON.stringify(data[k]) === \"{}\") {\n        continue;\n      }\n      ret.schedules[k] = data[k];\n    }\n    return ret;\n  }\n\n  _updateKeys(data) {\n    const keys = data.return;\n\n    const list = this.getPageElement().querySelector('#minions');\n\n    const hostnames = keys.minions.sort();\n    for(const hostname of hostnames) {\n      this._addMinion(list, hostname, 1);\n\n      // preliminary dropdown menu\n      const element = document.getElementById(hostname);\n      const menu = new DropDownMenu(element);\n      this._addMenuItemShowSchedules(menu, hostname);\n\n      element.addEventListener(\"click\", evt => window.location.assign(\"schedulesminion?minion=\" + encodeURIComponent(hostname)));\n    }\n\n    this.keysLoaded = true;\n    if(this.keysLoaded && this.jobsLoaded) this.resolvePromise();\n  }\n\n  _updateOfflineMinion(container, hostname) {\n    super._updateOfflineMinion(container, hostname);\n\n    const element = document.getElementById(hostname);\n\n    // force same columns on all rows\n    element.appendChild(SchedulesRoute._createTd(\"scheduleinfo\", \"\"));\n    element.appendChild(SchedulesRoute._createTd(\"run-command-button\", \"\"));\n  }\n\n  _updateMinion(container, minion, hostname) {\n\n    minion = SchedulesRoute._fixMinion(minion);\n\n    const cnt = Object.keys(minion.schedules).length;\n    let scheduleinfo = cnt + \" schedule\" + (cnt === 1 ? \"\" : \"s\");\n    if(!minion.enabled)\n      scheduleinfo += \" (disabled)\";\n\n    let element = document.getElementById(hostname);\n    if(element === null) {\n      // offline minion not found on screen...\n      // construct a basic element that can be updated here\n      element = document.createElement('tr');\n      element.id = hostname;\n      container.appendChild(element);\n    }\n    while(element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n\n    element.appendChild(SchedulesRoute._createTd(\"hostname\", hostname));\n\n    const statusDiv = SchedulesRoute._createTd(\"status\", \"accepted\");\n    statusDiv.classList.add(\"accepted\");\n    element.appendChild(statusDiv);\n\n    const td = SchedulesRoute._createTd(\"scheduleinfo\", scheduleinfo);\n    td.setAttribute(\"sorttable_customkey\", cnt);\n    element.appendChild(td);\n\n    const menu = new DropDownMenu(element);\n    this._addMenuItemShowSchedules(menu, hostname);\n\n    element.addEventListener(\"click\", evt => window.location.assign(\"schedulesminion?minion=\" + encodeURIComponent(hostname)));\n  }\n\n  _addMenuItemShowSchedules(menu, hostname) {\n    menu.addMenuItem(\"Show&nbsp;schedules\", function(evt) {\n      window.location.assign(\"schedulesminion?minion=\" + encodeURIComponent(hostname));\n    }.bind(this));\n  }\n}\n","import {PageRoute} from './PageRoute';\nimport {SchedulesRoute} from './SchedulesRoute';\nimport {DropDownMenu} from '../DropDownMenu';\n\nexport class SchedulesMinionRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]schedulesminion$\", \"Schedules\", \"#page_schedulesminion\", \"#button_schedules\", router);\n\n    this.keysLoaded = false;\n    this.jobsLoaded = false;\n\n    this._showSchedules = this._showSchedules.bind(this);\n\n    document.querySelector(\"#button_close_schedulesminion\").addEventListener(\"click\", _ => {\n      this.router.goTo(\"/schedules\");\n    });\n  }\n\n  onShow() {\n    const minions = this;\n\n    const minion = decodeURIComponent(window.getQueryParam(\"minion\"));\n\n    // preliminary title\n    const title = document.getElementById(\"schedulesminion_title\");\n    title.innerText = \"Schedules on \" + minion;\n\n    return new Promise(function(resolve, reject) {\n      minions.resolvePromise = resolve;\n      if(minions.keysLoaded && minions.jobsLoaded) resolve();\n      minions.router.api.getScheduleList(minion).then(minions._showSchedules);\n      minions.router.api.getJobs().then(minions._updateJobs);\n      minions.router.api.getJobsActive().then(minions._runningJobs);\n    });\n  }\n\n  _showSchedules(data) {\n    const minion = decodeURIComponent(window.getQueryParam(\"minion\"));\n\n    let schedules = data.return[0][minion];\n    schedules = SchedulesRoute._fixMinion(schedules);\n\n    const title = document.getElementById(\"schedulesminion_title\");\n    let txt = \"Schedules on \" + minion;\n    if(!schedules.enabled) txt += \" (disabled)\";\n    title.innerText = txt;\n\n    const page = document.getElementById(\"schedulesminion_page\");\n\n    const menu = new DropDownMenu(page);\n    menu.addMenuItem(\"Enable&nbsp;scheduler...\", function(evt) {\n      this._runCommand(evt, minion, \"schedule.enable\");\n    }.bind(this));\n    menu.addMenuItem(\"Disable&nbsp;scheduler...\", function(evt) {\n      this._runCommand(evt, minion, \"schedule.disable\");\n    }.bind(this));\n\n    const container = document.getElementById(\"schedulesminion_list\");\n    page.append(container);\n\n    while(container.tBodies[0].rows.length > 0) {\n      container.tBodies[0].deleteRow(0);\n    }\n\n\n    if(!schedules) return;\n\n    const keys = Object.keys(schedules.schedules).sort();\n    for(const k of keys) {\n\n      const schedule = schedules.schedules[k];\n\n      // simplify the schedule information\n      if(\"name\" in schedule)\n        delete schedule.name;\n      if(\"enabled\" in schedule && schedule.enabled)\n        delete schedule.enabled;\n      if(\"jid_include\" in schedule && schedule.jid_include)\n        delete schedule.jid_include;\n      if(\"maxrunning\" in schedule && schedule.maxrunning === 1)\n        delete schedule.maxrunning;\n\n      const tr = document.createElement('tr');\n\n      const name = SchedulesMinionRoute._createTd(\"schedule_name\", k);\n      tr.appendChild(name);\n\n      const isJobDisabled = schedule.hasOwnProperty(\"enabled\") && !schedule.enabled;\n\n      const menu = new DropDownMenu(tr);\n      let cmd = \"schedule.modify \" + k;\n      for(const key in schedule) {\n        cmd = cmd + \" \" + key + \"=\" + JSON.stringify(schedule[key]);\n      }\n      menu.addMenuItem(\"Modify&nbsp;job...\", function(evt) {\n        this._runCommand(evt, minion, cmd);\n      }.bind(this));\n      menu.addMenuItem(\"Enable&nbsp;job...\", function(evt) {\n        this._runCommand(evt, minion, \"schedule.enable_job \" + k);\n      }.bind(this));\n      menu.addMenuItem(\"Disable&nbsp;job...\", function(evt) {\n        this._runCommand(evt, minion, \"schedule.disable_job \" + k);\n      }.bind(this));\n      menu.addMenuItem(\"Delete&nbsp;job...\", function(evt) {\n        this._runCommand(evt, minion, \"schedule.delete \" + k);\n      }.bind(this));\n      menu.addMenuItem(\"Run&nbsp;job...\", function(evt) {\n        let cmd = \"schedule.run_job\";\n        if(isJobDisabled) cmd += \" force=true\";\n        cmd += \" \" + k;\n        this._runCommand(evt, minion, cmd);\n      }.bind(this));\n\n      // menu comes before this data on purpose\n      const schedule_value = Output.formatObject(schedule);\n      const value = SchedulesMinionRoute._createTd(\"schedule_value\", schedule_value);\n      if(isJobDisabled) value.classList.add(\"disabled_schedule\");\n      tr.appendChild(value);\n\n      container.tBodies[0].appendChild(tr);\n\n      tr.addEventListener(\"click\", evt => this._runCommand(evt, minion, cmd));\n    }\n\n    if(!keys.length) {\n      const noSchedulesMsg = SchedulesMinionRoute._createDiv(\"msg\", \"No schedules found\");\n      container.tBodies[0].appendChild(noSchedulesMsg);\n    }\n  }\n}\n","import {PageRoute} from './PageRoute';\nimport {DropDownMenu} from '../DropDownMenu';\n\nexport class TemplatesRoute extends PageRoute {\n\n  constructor(router) {\n    super(\"^[\\/]templates$\", \"Templates\", \"#page_templates\", \"#button_templates\", router);\n    this.jobsLoaded = false;\n\n    this._updateTemplates = this._updateTemplates.bind(this);\n    this._applyTemplate = this._applyTemplate.bind(this);\n  }\n\n  onShow() {\n    const templates = this;\n    return new Promise(function(resolve, reject) {\n      templates.resolvePromise = resolve;\n      if(templates.jobsLoaded) resolve();\n      templates.router.api.getJobs().then(templates._updateJobs);\n      templates.router.api.getJobsActive().then(templates._runningJobs);\n      templates.router.api.getConfigValues().then(templates._updateTemplates);\n    });\n  }\n\n  _updateTemplates(data) {\n    const container = this.getPageElement().querySelector(\".templates\");\n    \n    // should we update it or just use from cache (see commandbox) ?\n    const templates = data.return[0].data.return.saltgui_templates;\n    window.localStorage.setItem(\"templates\", JSON.stringify(templates));\n    const keys = Object.keys(templates).sort();\n    for(const key of keys) {\n      const template = templates[key];\n      this._addTemplate(container, key, template);\n    }\n  }\n\n  _addTemplate(container, name, template) {\n    const tr = document.createElement(\"tr\");\n\n    tr.appendChild(TemplatesRoute._createTd(\"name\", name));\n\n    // calculate description\n    const description = template[\"description\"];\n    if(!description) {\n      tr.appendChild(TemplatesRoute._createTd(\"description value_none\", \"(none)\"));\n    } else {\n      tr.appendChild(TemplatesRoute._createTd(\"description\", description));\n    }\n\n    // calculate targettype\n    const targettype = template[\"targettype\"];\n    // calculate target\n    const target = template[\"target\"];\n    if(!targettype && !target) {\n      tr.appendChild(TemplatesRoute._createTd(\"target value_none\", \"(none)\"));\n    } else if(/* targettype && */ !target) {\n      tr.appendChild(TemplatesRoute._createTd(\"target\", targettype));\n    } else if(!targettype /* && target */) {\n      tr.appendChild(TemplatesRoute._createTd(\"target\", target));\n    } else {\n      tr.appendChild(TemplatesRoute._createTd(\"target\", targettype + \" \" + target));\n    }\n\n    // calculate command\n    const command = template[\"command\"];\n    if(!command) {\n      tr.appendChild(TemplatesRoute._createTd(\"command value_none\", \"(none)\"));\n    } else {\n      tr.appendChild(TemplatesRoute._createTd(\"command\", command));\n    }\n\n    const menu = new DropDownMenu(tr);\n    menu.addMenuItem(\"Apply&nbsp;template...\", function(evt) {\n      this._applyTemplate(evt, targettype, target, command);\n    }.bind(this));\n\n    container.tBodies[0].appendChild(tr);\n\n    tr.addEventListener(\"click\", evt => this._applyTemplate(evt, targettype, target, command));\n  }\n\n  _applyTemplate(evt, targettype, target, command) {\n    this._runFullCommand(evt, targettype, target, command);\n  }\n\n}\n","export class HTTPError extends Error {\n  constructor(status, message) {\n    super();\n    this.status = status;\n    this.message = message;\n  }\n}\n\n\nexport class API {\n  constructor(apiurl=\"\") {\n    this.APIURL = apiurl;\n  }\n\n  isAuthenticated() {\n    // use the /stats api call to see if we are allowed to access SaltGUI\n    // (if the session cookie is still valid)\n    return this.apiRequest(\"GET\", \"/stats\", {})\n      .then(response => {\n        return window.sessionStorage.getItem(\"token\") !== null;\n      }, response => { return false; } );\n  }\n\n  login(username, password, eauth=\"pam\") {\n    const params = {\n      username: username,\n      password: password,\n      eauth: eauth\n    };\n\n    // store it as the default login method\n    window.localStorage.setItem(\"eauth\", eauth);\n\n    return this.apiRequest(\"POST\", \"/login\", params)\n      .then(data => {\n        const response = data.return[0];\n        if(Object.keys(response.perms).length === 0) {\n          // we are allowed to login but there are no permissions available\n          throw new HTTPError(403, \"Unauthorized\");\n        }\n        window.sessionStorage.setItem(\"token\", response.token);\n      });\n  }\n\n  logout() {\n    // only delete the session here as the router should take care of\n    // redirecting to the login screen\n    return this.apiRequest(\"POST\", \"/logout\", {})\n      .then(response => {\n        window.sessionStorage.removeItem(\"token\");\n      });\n  }\n\n  getMinions() {\n    return this.apiRequest(\"GET\", \"/minions\", {});\n  }\n\n  getKeys() {\n    return this.apiRequest(\"GET\", \"/keys\", {});\n  }\n\n  getKeysFingerprint() {\n    const params = {\n      client: \"wheel\",\n      fun: \"key.finger\",\n      match: \"*\"\n    };\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getJobs() {\n    return this.apiRequest(\"GET\", \"/jobs\", {});\n  }\n\n  getJob(id) {\n    return this.apiRequest(\"GET\", \"/jobs/\" + id, {});\n  }\n\n  getGrainsItems(minion) {\n    const params = {\n      client: \"local\",\n      fun: \"grains.items\",\n      tgt_type: \"list\",\n      tgt: minion\n    };\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getPillarItems(minion) {\n    const params = {\n      client: \"local\",\n      fun: \"pillar.items\"\n    };\n    if(minion) {\n      params.tgt_type = \"list\";\n      params.tgt = minion;\n    } else {\n      params.tgt_type = \"glob\";\n      params.tgt = \"*\";\n    }\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getPillarObfuscate(minion) {\n    const params = {\n      client: \"local\",\n      fun: \"pillar.obfuscate\"\n    };\n    if(minion) {\n      params.tgt_type = \"list\";\n      params.tgt = minion;\n    } else {\n      params.tgt_type = \"glob\";\n      params.tgt = \"*\";\n    }\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getScheduleList(minion) {\n    const params = {\n      client: \"local\",\n      fun: \"schedule.list\",\n      kwarg: { return_yaml: false }\n    };\n    if(minion) {\n      params.tgt_type = \"list\";\n      params.tgt = minion;\n    } else {\n      params.tgt_type = \"glob\";\n      params.tgt = \"*\";\n    }\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getJobsActive() {\n    const params = {\n      client: \"runner\",\n      fun: \"jobs.active\"\n    };\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  getConfigValues() {\n    const params = {\n      client: \"wheel\",\n      fun: \"config.values\"\n    };\n    return this.apiRequest(\"POST\", \"/\", params).catch(console.error);\n  }\n\n  apiRequest(method, route, params) {\n    const location = this.APIURL + route;\n    const token = window.sessionStorage.getItem(\"token\");\n    const headers = {\n      \"Accept\": \"application/json\",\n      \"X-Auth-Token\": token !== null ? token : \"\",\n      \"Cache-Control\": \"no-cache\"\n    };\n    const options = {\n      method: method,\n      url: location,\n      headers: headers\n    };\n\n    if(method === \"POST\") options.body = JSON.stringify(params);\n\n    return fetch(location, options)\n      .then(response => {\n        if(response.ok) return response.json();\n        // fetch does not reject on > 300 http status codes, so let's\n        // do it ourselves\n        throw new HTTPError(response.status, response.statusText);\n      });\n  }\n}\n","// documentation utilities\n\nexport class Documentation {\n\n  // formatting of the documentation is done as a regular output type\n  // that is therefore in output.js\n\n  constructor (commandbox) {\n    this.commandbox = commandbox;\n    this._manualRunMenuSysDocRun = this._manualRunMenuSysDocRun.bind(this);\n\n    commandbox.cmdmenu.addMenuItem(\n      this._manualRunMenuSysDocPrepare,\n      this._manualRunMenuSysDocRun);\n  }\n\n  _manualRunMenuSysDocPrepare(menuitem) {\n    let target = document.querySelector(\".run-command #target\").value;\n    target = target ? \"target\" : \"all minions\";\n    let command = document.querySelector(\".run-command #command\").value;\n    // remove the command arguments\n    command = command.trim().replace(/ .*/, \"\");\n    command = command.trim().replace(/[.]*$/, \"\");\n    if(!command.match(/^[a-z_][a-z0-9_.]*$/i)) {\n      // When it is not a command, don't treat it as a command.\n      // This RE still allows some illegal command formats, but\n      // that is something that sys.doc/runners.doc can handle.\n      menuitem.style.display = \"none\";\n    } else if(!command) {\n      // this spot was reserved for `sys.doc` without parameters\n      // but that is far too slow for normal use\n      menuitem.style.display = \"none\";\n    } else if(command === \"runners\" || command.startsWith(\"runners.\")) {\n      // actually \"command\" is not passed, but we select that part of the actual result\n      // because `runners.doc.runner` always returns all documentation for \"runners\"\n      command = command.substring(8);\n      if(command) command = \" \" + command;\n      menuitem.innerText = \"Run 'runners.doc.runner\" + command + \"'\";\n      menuitem.style.display = \"block\";\n    } else if(command === \"wheel\" || command.startsWith(\"wheel.\")) {\n      // actually \"command\" is not passed, but we select that part of the actual result\n      // because `runners.doc.wheel` always returns all documentation for \"wheel\"\n      command = command.substring(6);\n      if(command) command = \" \" + command;\n      menuitem.innerText = \"Run 'runners.doc.wheel\" + command + \"'\";\n      menuitem.style.display = \"block\";\n    } else {\n      menuitem.innerText = \"Run 'sys.doc \" + command + \"' on \" + target;\n      menuitem.style.display = \"block\";\n    }\n  }\n\n  _manualRunMenuSysDocRun() {\n    const button = document.querySelector(\".run-command input[type='submit']\");\n    if(button.disabled) return;\n    const output = document.querySelector(\".run-command pre\");\n\n    let target = document.querySelector(\".run-command #target\").value;\n    // the help text is taken from the first minion that answers\n    // when no target is selected, just ask all minions\n    if(target === \"\") target = \"*\";\n\n    // do not use the command-parser\n    let command = document.querySelector(\".run-command #command\").value;\n    // remove arguments\n    command = command.trim().replace(/ .*/, \"\");\n    // remove trailing dots\n    command = command.trim().replace(/[.]*$/, \"\");\n    // command can be empty here (but the gui prevents that)\n\n    button.disabled = true;\n    output.innerText = \"Loading...\";\n\n    let docCommand;\n    let dummyCommand;\n    if(command === \"runners\" || command.startsWith(\"runners.\")) {\n      // runners command. docCommand is WITHOUT further arguments\n      docCommand = \"runners.doc.runner\";\n      dummyCommand = \"runners.doc.runner \" + command;\n    } else if(command === \"wheel\" || command.startsWith(\"wheel.\")) {\n      // wheel command. docCommand is WITHOUT further arguments\n      docCommand = \"runners.doc.wheel\";\n      dummyCommand = \"runners.doc.wheel \" + command;\n    } else {\n      // regular command. docCommand is WITH further argument\n      docCommand = \"sys.doc \" + command;\n      dummyCommand = \"sys.doc \" + command;\n    }\n\n    const tgtType = TargetType.menuTargetType._value;\n\n    this.commandbox._getRunParams(tgtType, target, docCommand).then(\n      response => this.commandbox._onRunReturn(response.return[0], dummyCommand)\n    );\n  }\n\n}","import {DropDownMenu} from './DropDownMenu';\n\nexport class RunType {\n\n  static createMenu() {\n    const runblock = document.getElementById(\"runblock\");\n    RunType.menuRunType = new DropDownMenu(runblock);\n    // do not show the menu title at first\n    RunType.menuRunType.setTitle(\"\");\n    RunType.menuRunType.addMenuItem(\"Normal\", this._updateRunTypeText, \"normal\");\n    RunType.menuRunType.addMenuItem(\"Async\", this._updateRunTypeText, \"async\");\n  }\n\n  static _updateRunTypeText() {\n    const runType = RunType.getRunType();\n\n    switch(runType) {\n    case \"normal\":\n      // now that the menu is used show the menu title\n      RunType.menuRunType.setTitle(\"Normal\");\n      break;\n    case \"async\":\n      RunType.menuRunType.setTitle(\"Async\");\n      break;\n    }\n  }\n\n  static setRunTypeDefault() {\n    RunType.menuRunType._value = \"normal\";\n    RunType._updateRunTypeText();\n    // reset the title to the absolute minimum\n    // so that the menu does not stand out in trivial situations\n    RunType.menuRunType.setTitle(\"\");\n  }\n\n  static getRunType() {\n    const runType = RunType.menuRunType._value;\n    if(runType === undefined || runType === \"\") return \"normal\";\n    return runType;\n  }\n\n}\n","import {DropDownMenu} from './DropDownMenu';\n\nexport class TargetType {\n\n  static createMenu() {\n    const targetbox = document.getElementById(\"targetbox\");\n    TargetType.menuTargetType = new DropDownMenu(targetbox);\n    // do not show the menu title at first\n    TargetType.menuTargetType.addMenuItem(\"Normal\", this.manualUpdateTargetTypeText, \"glob\");\n    TargetType.menuTargetType.addMenuItem(\"List\", this.manualUpdateTargetTypeText, \"list\");\n    TargetType.menuTargetType.addMenuItem(TargetType._targetTypeNodeGroupPrepare, this.manualUpdateTargetTypeText, \"nodegroup\");\n    TargetType.menuTargetType.addMenuItem(\"Compound\", this.manualUpdateTargetTypeText, \"compound\");\n    TargetType.setTargetTypeDefault();\n  }\n\n  // It takes a while before we known the list of nodegroups\n  // so this conclusion must be re-evaluated each time\n  static _targetTypeNodeGroupPrepare(menuitem) {\n    const nodegroups = window.localStorage.getItem(\"nodegroups\");\n    if(nodegroups && nodegroups !== \"{}\") {\n      menuitem.innerText = \"Nodegroup\";\n      menuitem.style.display = \"block\";\n    } else {\n      menuitem.style.display = \"none\";\n    }\n  }\n\n  static autoSelectTargetType(target) {\n\n    if(TargetType.menuTargetType._value !== undefined &&\n      TargetType.menuTargetType._value !== \"\" &&\n      !TargetType.menuTargetType._system) {\n      // user has selected the value, do not touch it\n      return;\n    }\n\n    if(target.includes(\"@\") || target.includes(\" \") ||\n       target.includes(\"(\") || target.includes(\")\")) {\n      // \"@\" is a strong indicator for compound target\n      // but \"space\", \"(\" and \")\" are also typical for compound target\n      TargetType.menuTargetType._value = \"compound\";\n      TargetType._updateTargetTypeText();\n      return;\n    }\n\n    if(target.includes(\",\")) {\n      // \",\" is a strong indicator for list target (when it is also not compound)\n      TargetType.menuTargetType._value = \"list\";\n      TargetType._updateTargetTypeText();\n      return;\n    }\n\n    if(target.startsWith(\"#\")) {\n      // \"#\" at the start of a line is a strong indicator for nodegroup target\n      // this is not a SALTSTACK standard, but our own invention\n      TargetType.menuTargetType._value = \"nodegroup\";\n      TargetType._updateTargetTypeText();\n      return;\n    }\n\n    // do not show it when default and not explicitly selected\n    TargetType.setTargetTypeDefault();\n  }\n\n  static manualUpdateTargetTypeText() {\n    TargetType.menuTargetType._system = false;\n    TargetType._updateTargetTypeText();\n  }\n\n  static _updateTargetTypeText() {\n    const targetType = TargetType.getTargetType();\n\n    switch(targetType) {\n    case \"compound\":\n      TargetType.menuTargetType.setTitle(\"Compound\");\n      break;\n    case \"glob\":\n      // now that the menu is used show the menu title\n      TargetType.menuTargetType.setTitle(\"Normal\");\n      break;\n    case \"list\":\n      TargetType.menuTargetType.setTitle(\"List\");\n      break;\n    case \"nodegroup\":\n      TargetType.menuTargetType.setTitle(\"Nodegroup\");\n      break;\n    }\n  }\n\n  static setTargetTypeDefault() {\n    TargetType.menuTargetType._value = \"glob\";\n    // reset the title to the absolute minimum\n    // so that the menu does not stand out in trivial situations\n    TargetType.menuTargetType.setTitle(\"\");\n    TargetType.menuTargetType._system = true;\n  }\n\n  static setTargetType(tt) {\n    TargetType.menuTargetType._value = tt;\n    TargetType.menuTargetType._system = true;\n    TargetType._updateTargetTypeText();\n  }\n\n  static getTargetType() {\n    const targetType = TargetType.menuTargetType._value;\n    if(targetType === undefined || targetType === \"\") return \"glob\";\n    return targetType;\n  }\n\n}\n","import {DropDownMenu} from './DropDownMenu';\nimport {Documentation} from './Documentation';\nimport {RunType} from './RunType';\nimport {TargetType} from './TargetType';\nimport {Output} from './output';\n\nexport class CommandBox {\n\n  constructor(api) {\n    this.api = api;\n    this._getRunParams = this._getRunParams.bind(this);\n    this._onRun = this._onRun.bind(this);\n    this._onRunReturn = this._onRunReturn.bind(this);\n    this._showManualRun = this._showManualRun.bind(this);\n    this._hideManualRun = this._hideManualRun.bind(this);\n\n    const cmdbox = document.querySelector(\".run-command #cmdbox\");\n    this.cmdmenu = new DropDownMenu(cmdbox);\n\n    this.documentation = new Documentation(this);\n    this._registerEventListeners();\n\n    RunType.createMenu();\n    TargetType.createMenu();\n\n    const title = document.querySelector(\".run-command #templatemenuhere\");\n    const menu = new DropDownMenu(title);\n    let templatesText = window.localStorage.getItem(\"templates\");\n    if(!templatesText || templatesText === \"undefined\") templatesText = \"{}\";\n    const templates = JSON.parse(templatesText);\n    const keys = Object.keys(templates).sort();\n    const page = this;\n    for(const key of keys) {\n      const template = templates[key];\n      let description = template[\"description\"];\n      if(!description) description = \"(\" + key + \")\";\n      menu.addMenuItem(\n        description,\n        function() {\n          page._applyTemplate(template);\n        }\n      );\n    }\n  }\n\n  _registerEventListeners() {\n    document.querySelector(\"#popup_runcommand\")\n      .addEventListener(\"click\", this._hideManualRun);\n    document.querySelector(\"#button_manualrun\")\n      .addEventListener(\"click\", this._showManualRun);\n    document.querySelector(\"#button_close_cmd\")\n      .addEventListener(\"click\", this._hideManualRun);\n\n    document.querySelector(\".run-command input[type='submit']\")\n      .addEventListener(\"click\", this._onRun);\n\n    this._addKeyEventListener(\"#target\", _ => {\n      const target = document.querySelector(\".run-command #target\").value;\n      TargetType.autoSelectTargetType(target);\n    });\n\n    this._addKeyEventListener(\"#command\", this.cmdmenu.verifyAll);\n  }\n\n  _applyTemplate(template) {\n\n    if(template.targettype) {\n      let tt = template.targettype;\n      const targetbox = document.querySelector(\"#targetbox\");\n      // show the extended selection controls when\n      targetbox.style.display = \"inherit\";\n      if(tt !== \"glob\" && tt !== \"list\" && tt !== \"compound\" && tt !== \"nodegroup\") {\n        // we don't support that, revert to standard (not default)\n        tt = \"glob\";\n      }\n      TargetType.setTargetType(tt);\n    } else {\n      // not in the template, revert to default\n      TargetType.setTargetTypeDefault();\n    }\n\n    if(template.target) {\n      const target = document.querySelector(\".run-command #target\");\n      target.value = template.target;\n    }\n\n    if(template.command) {\n      const command = document.querySelector(\".run-command #command\");\n      command.value = template.command;\n    }\n  }\n\n  _addKeyEventListener(selector, func) {\n    // keydown is too early, keypress also does not work\n    document.querySelector(selector).addEventListener(\"keyup\", func);\n    // cut/paste do not work everywhere\n    document.querySelector(selector).addEventListener(\"cut\", func);\n    document.querySelector(selector).addEventListener(\"paste\", func);\n    // blur/focus should not be needed but are a valuable fallback\n    document.querySelector(selector).addEventListener(\"blur\", func);\n    document.querySelector(selector).addEventListener(\"focus\", func);\n  }\n\n  _onRun() {\n    const button = document.querySelector(\".run-command input[type='submit']\");\n    if(button.disabled) return;\n    const output = document.querySelector(\".run-command pre\");\n\n    const target = document.querySelector(\".run-command #target\").value;\n    const command = document.querySelector(\".run-command #command\").value;\n\n    const tgtType = TargetType.menuTargetType._value;\n\n    const func = this._getRunParams(tgtType, target, command);\n    if(func === null) return;\n\n    button.disabled = true;\n    output.innerText = \"Loading...\";\n\n    func.then(response => {\n      this._onRunReturn(response.return[0], command);\n    });\n  }\n\n  _onRunReturn(response, command) {\n    const outputContainer = document.querySelector(\".run-command pre\");\n    let minions = Object.keys(response);\n    if(command.startsWith(\"runners.\")) minions = [\"RUNNER\"];\n    if(command.startsWith(\"wheel.\")) minions = [\"WHEEL\"];\n    Output.addResponseOutput(outputContainer, minions, response, command);\n    const button = document.querySelector(\".run-command input[type='submit']\");\n    button.disabled = false;\n  }\n\n  _showManualRun(evt) {\n    const manualRun = document.querySelector(\"#popup_runcommand\");\n    manualRun.style.display = \"block\";\n\n    document.body.style[\"overflow-y\"] = \"hidden\";\n    document.querySelector(\".run-command pre\").innerText = \"Waiting for command...\";\n\n    const target = document.querySelector(\".run-command #target\").value;\n    TargetType.autoSelectTargetType(target);\n\n    RunType.setRunTypeDefault();\n\n    // (re-)populate the dropdown box\n    const targetlist = document.getElementById(\"targetlist\");\n    while(targetlist.firstChild) {\n      targetlist.removeChild(targetlist.firstChild);\n    }\n    const nodegroups = JSON.parse(window.localStorage.getItem(\"nodegroups\"));\n    if(nodegroups) {\n      for(const nodegroup of Object.keys(nodegroups).sort()) {\n        const option = document.createElement(\"option\");\n        option.value = \"#\" + nodegroup;\n        targetlist.appendChild(option);\n      }\n    }\n    const minions = JSON.parse(window.localStorage.getItem(\"minions\"));\n    if(minions) {\n      for(const minion of minions.sort()) {\n        const option = document.createElement(\"option\");\n        option.value = minion;\n        targetlist.appendChild(option);\n      }\n    }\n\n    evt.stopPropagation();\n  }\n\n  _hideManualRun(evt) {\n    //Don't close if they click inside the window\n    if(evt.target.className !== \"popup\" && evt.target.className !== \"nearlyvisiblebutton\") return;\n\n    const manualRun = document.querySelector(\"#popup_runcommand\");\n    manualRun.style.display = \"none\";\n\n    document.body.style[\"overflow-y\"] = \"scroll\";\n\n    // reset to default, so that its value is initially hidden\n    RunType.setRunTypeDefault();\n    TargetType.setTargetTypeDefault();\n\n    // test whether the command may have caused an update to the list\n    // the user may have altered the text after running the command, just ignore that\n    const command = document.querySelector(\".run-command #command\").value.split(\" \")[0];\n    const output = document.querySelector(\".run-command pre\").innerText;\n    const screenModifyingCommands = [\n      \"grains.append\",\n      \"grains.delkey\",\n      \"grains.delval\",\n      \"grains.setval\",\n      \"saltutil.refresh_grains\",\n      \"saltutil.refresh_pillar\",\n      \"schedule.delete\",\n      \"schedule.disable\",\n      \"schedule.disable_job\",\n      \"schedule.enable\",\n      \"schedule.enable_job\",\n      \"schedule.modify\",\n      \"wheel.key.accept\",\n      \"wheel.key.delete\",\n      \"wheel.key.reject\",\n    ];\n    if(screenModifyingCommands.includes(command) && output !== \"Waiting for command...\") {\n      location.reload();\n    }\n\n    evt.stopPropagation();\n  }\n\n  _showError(message) {\n    this._onRunReturn(message, \"\");\n  }\n\n  _getRunParams(tgtType, target, toRun) {\n\n    // The leading # was used to indicate a nodegroup\n    if(tgtType === \"nodegroup\" && target.startsWith(\"#\")) {\n      target = target.substring(1);\n    }\n\n    if(toRun === \"\") {\n      this._showError(\"'Command' field cannot be empty\");\n      return null;\n    }\n\n    // collection for unnamed parameters\n    const args = [ ];\n\n    // collection for named parameters\n    const kwargs = { };\n\n    const ret = window.parseCommandLine(toRun, args, kwargs);\n    if(ret !== null) {\n      // that is an error message being returned\n      this._showError(ret);\n      return null;\n    }\n\n    if(args.length === 0) {\n      this._showError(\"First (unnamed) parameter is the function name, it is mandatory\");\n      return null;\n    }\n\n    const functionToRun = args.shift();\n\n    if(typeof functionToRun !== \"string\") {\n      this._showError(\"First (unnamed) parameter is the function name, it must be a string, not a \" + typeof functionToRun);\n      return null;\n    }\n\n    // RUNNERS commands do not have a target (MASTER is the target)\n    // WHEEL commands also do not have a target\n    // but we use the TARGET value to form the usually required MATCH parameter\n    // therefore for WHEEL commands it is still required\n    if(target === \"\" && functionToRun !== \"runners\" && !functionToRun.startsWith(\"runners.\")) {\n      this._showError(\"'Target' field cannot be empty\");\n      return null;\n    }\n\n    // SALT API returns a 500-InternalServerError when it hits an unknown group\n    // Let's improve on that\n    if(tgtType === \"nodegroup\") {\n      const nodegroups = JSON.parse(window.localStorage.getItem(\"nodegroups\"));\n      if(!nodegroups || !(target in nodegroups)) {\n        this._showError(\"Unknown nodegroup '\" + target + \"'\");\n        return null;\n      }\n    }\n\n    let params = { };\n    if(functionToRun.startsWith(\"runners.\")) {\n      params = kwargs;\n      params.client = \"runner\";\n      // use only the part after \"runners.\" (8 chars)\n      params.fun = functionToRun.substring(8);\n      if(args.length > 0) params.arg = args;\n    } else if(functionToRun.startsWith(\"wheel.\")) {\n      // wheel.key functions are treated slightly different\n      // we re-use the \"target\" field to fill the parameter \"match\"\n      // as used by the salt.wheel.key functions\n      params = kwargs;\n      params.client = \"wheel\";\n      // use only the part after \"wheel.\" (6 chars)\n      params.fun = functionToRun.substring(6);\n      params.match = target;\n    } else {\n      params.client = \"local\";\n      params.fun = functionToRun;\n      params.tgt = target;\n      if(tgtType) params.tgt_type = tgtType;\n      if(args.length !== 0) params.arg = args;\n      if(Object.keys(kwargs).length > 0) params.kwarg = kwargs;\n    }\n\n    const runType = RunType.getRunType();\n    if(params.client === \"local\" && runType === \"async\") {\n      params.client = \"local_async\";\n      // return looks like:\n      // { \"jid\": \"20180718173942195461\", \"minions\": [ ... ] }\n    }\n\n    return this.api.apiRequest(\"POST\", \"/\", params)\n      .catch(error => {\n        this._showError(error.message);\n        return error;\n      });\n  }\n}\n","import {\n  LoginRoute,\n  MinionsRoute, \n  KeysRoute, \n  GrainsRoute, \n  GrainsMinionRoute, \n  SchedulesRoute, \n  SchedulesMinionRoute, \n  PillarsRoute,\n  PillarsMinionRoute, \n  JobRoute, \n  JobsRoute, \n  TemplatesRoute\n} from './routes';\n\nimport {API} from './API';\nimport {CommandBox} from './CommandBox';\n\nexport class Router {\n\n  constructor() {\n    this.api = new API();\n    this.commandbox = new CommandBox(this.api);\n    this.currentRoute = undefined;\n    this.routes = [];\n\n    // show template menu item if templates defined\n    const templatesText = window.localStorage.getItem(\"templates\");\n    if(templatesText && templatesText !== \"undefined\") {\n      const item1 = document.querySelector(\"#button_templates1\");\n      item1.style.display = \"inline-block\";\n      const item2 = document.querySelector(\"#button_templates2\");\n      item2.style.display = \"inline-block\";\n    }\n  }\n\n\n  bootstrap() {\n    this.registerRoute(new LoginRoute(this));\n    this.registerRoute(new MinionsRoute(this));\n    this.registerRoute(new KeysRoute(this));\n    this.registerRoute(new GrainsRoute(this));\n    this.registerRoute(new GrainsMinionRoute(this));\n    this.registerRoute(new SchedulesRoute(this));\n    this.registerRoute(new SchedulesMinionRoute(this));\n    this.registerRoute(new PillarsRoute(this));\n    this.registerRoute(new PillarsMinionRoute(this));\n    this.registerRoute(new JobRoute(this));\n    this.registerRoute(new JobsRoute(this));\n    this.registerRoute(new TemplatesRoute(this));\n\n    this._registerEventListeners();\n\n    this.api\n      .isAuthenticated()\n      .then(valid_session => this.goTo(\n        valid_session ? window.location.pathname + window.location.search : \"/login\"))\n      .catch(error => {\n        console.error(error);\n        this.goTo(\"/login\");\n      });\n  }\n\n  _registerEventListeners() {\n    const router = this;\n\n    document.querySelector(\".logo\")\n      .addEventListener(\"click\", _ => {\n        if(window.location.pathname === \"/login\") return;\n        router.goTo(\"/\");\n      });\n\n    document.querySelector(\"#button_minions1\")\n      .addEventListener(\"click\", _ => {\n        window.location.replace(\"/\");\n      });\n    document.querySelector(\"#button_minions2\")\n      .addEventListener(\"click\", _ => {\n        window.location.replace(\"/\");\n      });\n\n    document.querySelector(\"#button_grains1\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/grains\");\n      });\n    document.querySelector(\"#button_grains2\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/grains\");\n      });\n\n    document.querySelector(\"#button_schedules1\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/schedules\");\n      });\n    document.querySelector(\"#button_schedules2\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/schedules\");\n      });\n\n    document.querySelector(\"#button_pillars1\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/pillars\");\n      });\n    document.querySelector(\"#button_pillars2\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/pillars\");\n      });\n\n    document.querySelector(\"#button_keys1\")\n      .addEventListener(\"click\", _ => {\n        window.location.replace(\"/keys\");\n      });\n    document.querySelector(\"#button_keys2\")\n      .addEventListener(\"click\", _ => {\n        window.location.replace(\"/keys\");\n      });\n\n    document.querySelector(\"#button_jobs1\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/jobs\");\n      });\n    document.querySelector(\"#button_jobs2\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/jobs\");\n      });\n\n    document.querySelector(\"#button_templates1\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/templates\");\n      });\n    document.querySelector(\"#button_templates2\")\n      .addEventListener('click', _ => {\n        window.location.replace(\"/templates\");\n      });\n\n    document.querySelector(\"#button_logout1\")\n      .addEventListener(\"click\", _ => {\n        this.api.logout().then(() => {\n          window.location.replace(\"/\");\n        });\n      });\n    document.querySelector(\"#button_logout2\")\n      .addEventListener(\"click\", _ => {\n        this.api.logout().then(() => {\n          window.location.replace(\"/\");\n        });\n      });\n  }\n\n  registerRoute(route) {\n    this.routes.push(route);\n    if(route.onRegister) route.onRegister();\n  }\n\n  goTo(path) {\n    if(this.switchingRoute) return;\n    if(window.location.pathname === path && this.currentRoute) return;\n    for(const route of this.routes) {\n      if(!route.getPath().test(path.split(\"?\")[0])) continue;\n\n      window.history.pushState({}, undefined, path);\n      this.showRoute(route);\n      return;\n    }\n  }\n\n  showRoute(route) {\n    const router = this;\n    route.getPageElement().style.display = \"\";\n\n    const minionMenuItem = document.getElementById(\"button_minions1\");\n    const jobsMenuItem = document.getElementById(\"button_jobs1\");\n\n    Array.from(document.querySelectorAll(\".menu_item_active\")).forEach(\n      function (e){ e.classList.remove(\"menu_item_active\"); }\n    );\n\n    const elem1 = route.getMenuItemElement1();\n    if(elem1) {\n      elem1.classList.add(\"menu_item_active\");\n      // activate also parent menu item if child element is selected\n      if(elem1.id === \"button_pillars1\" || elem1.id === \"button_schedules1\" || elem1.id === \"button_grains1\") {\n        minionMenuItem.classList.add(\"menu_item_active\");\n      }\n      if(elem1.id === \"button_jobs1\" || elem1.id === \"button_templates1\") {\n        jobsMenuItem.classList.add(\"menu_item_active\");\n      }\n    }\n\n    const elem2 = route.getMenuItemElement2();\n    if(elem2) {\n      elem2.classList.add(\"menu_item_active\");\n    }\n\n    router.switchingRoute = true;\n\n    const afterLoad = function(route) {\n      if(router.currentRoute !== undefined) {\n        router.hideRoute(router.currentRoute);\n      }\n\n      router.currentRoute = route;\n      document.title = \"SaltGUI - \" + router.currentRoute.getName();\n      router.currentRoute.getPageElement().className = \"route current\";\n      router.switchingRoute = false;\n    };\n\n    let response;\n    if(route.onShow) response = route.onShow();\n\n    if(response && response.then) response.then(afterLoad(route));\n    else afterLoad(route);\n  }\n\n  hideRoute(route) {\n    route.getPageElement().className = \"route\";\n    setTimeout(function() {\n      //Hide element after fade, so it does not expand the body\n      route.getPageElement().style.display = \"none\";\n    }, 500);\n    if(route.onHide) route.onHide();\n  }\n\n}","import {Router} from './Router';\n\nimport './parsecmdline';\nimport './utils';\n\nwindow.addEventListener(\"load\", () => {\n  const router = new Router();\n  router.bootstrap();\n});"],"sourceRoot":""}