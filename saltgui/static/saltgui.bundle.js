!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r=n(1);r.keys().forEach(r),e.exports=r},function(e,t,n){var r={"./api.js":2,"./commandbox.js":3,"./documentation.js":4,"./dropdown.js":5,"./index.js":0,"./output/output.js":6,"./output/outputDocumentation.js":7,"./output/outputHighstate.js":8,"./output/outputJson.js":9,"./output/outputNested.js":10,"./output/outputSaltGuiHighstate.js":11,"./output/outputYaml.js":12,"./parsecmdline.js":13,"./router.js":14,"./routes/grains.js":15,"./routes/grainsminion.js":16,"./routes/job.js":17,"./routes/jobs.js":18,"./routes/keys.js":19,"./routes/login.js":20,"./routes/minions.js":21,"./routes/page.js":22,"./routes/pillars.js":23,"./routes/pillarsminion.js":24,"./routes/route.js":25,"./routes/schedules.js":26,"./routes/schedulesminion.js":27,"./routes/templates.js":28,"./runtype.js":29,"./targettype.js":30,"./utils.js":31};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=1},function(e,t){},function(e,t){},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){"use strict";function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.commandbox=t,this._manualRunMenuSysDocRun=this._manualRunMenuSysDocRun.bind(this),t.cmdmenu.addMenuItem(this._manualRunMenuSysDocPrepare,this._manualRunMenuSysDocRun)}var t,n,o;return t=e,(n=[{key:"_manualRunMenuSysDocPrepare",value:function(e){var t=document.querySelector(".run-command #target").value;t=t?"target":"all minions";var n=document.querySelector(".run-command #command").value;(n=(n=n.trim().replace(/ .*/,"")).trim().replace(/[.]*$/,"")).match(/^[a-z_][a-z0-9_.]*$/i)&&n?"runners"===n||n.startsWith("runners.")?((n=n.substring(8))&&(n=" "+n),e.innerText="Run 'runners.doc.runner"+n+"'",e.style.display="block"):"wheel"===n||n.startsWith("wheel.")?((n=n.substring(6))&&(n=" "+n),e.innerText="Run 'runners.doc.wheel"+n+"'",e.style.display="block"):(e.innerText="Run 'sys.doc "+n+"' on "+t,e.style.display="block"):e.style.display="none"}},{key:"_manualRunMenuSysDocRun",value:function(){var e=this,t=document.querySelector(".run-command input[type='submit']");if(!t.disabled){var n=document.querySelector(".run-command pre"),r=document.querySelector(".run-command #target").value;""===r&&(r="*");var o,a,u=document.querySelector(".run-command #command").value;u=(u=u.trim().replace(/ .*/,"")).trim().replace(/[.]*$/,""),t.disabled=!0,n.innerText="Loading...","runners"===u||u.startsWith("runners.")?(o="runners.doc.runner",a="runners.doc.runner "+u):"wheel"===u||u.startsWith("wheel.")?(o="runners.doc.wheel",a="runners.doc.wheel "+u):(o="sys.doc "+u,a="sys.doc "+u);var i=TargetType.menuTargetType._value;this.commandbox._getRunParams(i,r,o).then(function(t){return e.commandbox._onRunReturn(t.return[0],a)})}}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=o},function(e,t){},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){"use strict";function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"isOutputFormatAllowed",value:function(e){var t=null;return window.localStorage&&(t=window.localStorage.getItem("output_formats")),"undefined"===t&&(t=null),null===t&&(t="doc,saltguihighstate,json"),t.includes(e)}},{key:"addVirtualMinion",value:function(e,t){return t.startsWith("runners.")?{RUNNER:e}:t.startsWith("wheel.")?{WHEEL:e}:e}},{key:"getHostnameHtml",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement("span");return n.classList.add("hostname"),t&&n.classList.add(t),n.innerText=e,n}},{key:"getTextOutput",value:function(e){if((e=e.replace(/[ \r\n]+$/g,"")).match(patJid)){var t=document.createElement("a");return t.href="/job?id="+encodeURIComponent(e),t.innerText=e,t}var n=document.createElement("span");return n.innerText=e,n}},{key:"formatObject",value:function(t){return e.isOutputFormatAllowed("json")?OutputJson.formatJSON(t):e.isOutputFormatAllowed("yaml")?OutputYaml.formatYAML(t):e.isOutputFormatAllowed("nested")?OutputNested.formatNESTED(t):OutputJson.formatJSON(t)}},{key:"getNormalOutput",value:function(t){var n=e.formatObject(t),r=document.createElement(n.includes("\n")?"div":"span");return r.innerText=n,r}},{key:"hasProperties",value:function(e,t){if(!e||"object"!==r(e))return!1;var n=!0,o=!1,a=void 0;try{for(var u,i=t[Symbol.iterator]();!(n=(u=i.next()).done);n=!0){var l=u.value;if(!e.hasOwnProperty(l))return!1}}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return!0}},{key:"isAsyncOutput",value:function(e){var t=Object.keys(e);return 2===t.length&&("jid"===(t=t.sort())[0]&&"minions"===t[1])}},{key:"dateTimeStr",value:function(e){var t=window.localStorage.getItem("datetime_fraction_digits");if(null===t)return e;var n=Number.parseInt(t);if(isNaN(n))return e;n<0&&(n=0),n>6&&(n=6);var r=e.indexOf(".");return r<0?e:(0===n&&(r-=1),e.substring(0,r+n+1))}},{key:"addResponseOutput",value:function(t,n,o,a){if(t.innerText="","string"!=typeof(o=e.addVirtualMinion(o,a)))if("object"!==r(o)||Array.isArray(o))t.innerText=e.formatObject(o);else{var u=a.trim().replace(/^[a-z.]* */i,"");if(OutputDocumentation.isDocumentationOutput(e,o,u))return OutputDocumentation.reduceDocumentationOutput(o,u,u),void OutputDocumentation.addDocumentationOutput(t,o);var i=document.createElement("div");if(!a.startsWith("runners.")&&!a.startsWith("wheel.")&&!e.isAsyncOutput(o)){var l,c=document.createElement("span"),s=Object.keys(o).length,d=n.length;l=1===s?s+" response":s+" responses",d!==s&&(l=l+", "+(d-s)+" no response"),s>0&&d!==s&&(l=l+", "+d+" total"),l+=" ",c.innerText=l,i.appendChild(c)}var f=document.createElement("span");f.innerText="▽",f.style="cursor: pointer",i.appendChild(f),t.appendChild(i),f.addEventListener("click",function(e){"▽"!==f.innerText?f.innerText="▽":f.innerText="▷";var n=!0,r=!1,o=void 0;try{for(var a,u=t.childNodes[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var i=a.value.getElementsByClassName("triangle");if(1===i.length){var l=i[0];if(l!==f&&l.innerText!==f.innerText){var c=new MouseEvent("click",{});l.dispatchEvent(c)}}}}catch(e){r=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}});var p=0,m=!0,y=!1,v=void 0;try{for(var h,g=function(){var n=h.value,u=o[n];e.hasProperties(u,["retcode","return","success"])?u=u.return:a.startsWith("runner.")&&u&&u.hasOwnProperty("return")&&(u=u.return.return);var i=null,l=null,c=!1,s="host_success";o.hasOwnProperty(n)||(s="host_noresponse");var d=e.getHostnameHtml(n,s);c||o.hasOwnProperty(n)||(i=e.getTextOutput("(no response)"),c=!0),c||"string"!=typeof u||(i=e.getTextOutput(u),l=u.includes("\n"),c=!0),c||"object"===r(u)||(i=e.getNormalOutput(u),l=!1,c=!0),c||null!==u||(i=e.getNormalOutput(u),l=!1,c=!0),!c&&Array.isArray(u)&&(i=e.getNormalOutput(u),l=u.length>0,c=!0);var f=a.trim().replace(/ .*/,""),m=OutputHighstate.isHighStateOutput(f,u);!c&&m&&e.isOutputFormatAllowed("saltguihighstate")&&(d=OutputSaltGuiHighstate.getHighStateLabel(n,u),i=OutputSaltGuiHighstate.getHighStateOutput(u),l=!0,c=!0),!c&&m&&e.isOutputFormatAllowed("highstate")&&(d=OutputHighstate.getHighStateLabel(n,u),i=OutputHighstate.getHighStateOutput(u),l=!0,c=!0),c||(i=e.getNormalOutput(u),l=Object.keys(u).length>0),1===Object.keys(o).length&&(l=!1),l&&(p+=1);var y=document.createElement("div");y.append(d),y.appendChild(document.createTextNode(": "));var v=null;l&&((v=document.createElement("span")).innerText="▽",v.style="cursor: pointer",v.classList.add("triangle"),y.appendChild(v),y.appendChild(document.createElement("br")),v.addEventListener("click",function(e){"▽"!==v.innerText?(v.innerText="▽",i.style.display=""):(v.innerText="▷",i.style.display="none")})),y.append(i),t.append(y)},b=n.sort()[Symbol.iterator]();!(m=(h=b.next()).done);m=!0)g()}catch(e){y=!0,v=e}finally{try{m||null==b.return||b.return()}finally{if(y)throw v}}p<=1&&(f.style.display="none")}else t.innerText=o}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){"use strict";function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"isDocuKeyMatch",value:function(e,t){return!t||(e===t||!!e.startsWith(t+"."))}},{key:"isDocumentationOutput",value:function(t,n,o){if(!t.isOutputFormatAllowed("doc"))return!1;var a=!1;o=e.reduceFilterKey(o);for(var u=Object.keys(n),i=0;i<u.length;i++){var l=n[u[i]];if(l){if("object"!==r(l))return!1;if(Array.isArray(l))return!1;for(var c=Object.keys(l),s=0;s<c.length;s++){var d=c[s];if(null!==l[d]){if("string"!=typeof l[d])return!1;e.isDocuKeyMatch(d,o)&&(a=!0)}}}}return a}},{key:"reduceFilterKey",value:function(e){return"wheel"===e?"":e.startsWith("wheel.")?e.substring(6):"runners"===e?"":e.startsWith("runners.")?e.substring(8):e}},{key:"reduceDocumentationOutput",value:function(t,n,o){if(t&&"object"===r(t)){o=e.reduceFilterKey(o);for(var a=null,u=Object.keys(t),i=0;i<u.length;i++){var l=u[i];if(a)delete t[l];else if(t[l]&&"object"===r(t[l])){for(var c=t[l],s=Object.keys(c),d=0;d<s.length;d++){var f=s[d];e.isDocuKeyMatch(f,o)||delete c[f]}0!==Object.keys(c).length?a=l:delete t[l]}else delete t[l]}if(a){var p=t[a];delete t[a],t[n]=p}else t.dummy={},t.dummy[n]="no documentation found"}}},{key:"addDocumentationOutput",value:function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var o=t[n[r]],a=!0,u=!1,i=void 0;try{for(var l,c=Object.keys(o).sort()[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var s=l.value,d=o[s];if(null!==d){for(d=(d=(d=(d=(d=(d=(d=d.trimRight()).replace(/[.][.] rubric:: */g,"")).replace(/(:[a-z_]*)*:`/g,"`")).replace(/[ \n]*<[^`]*>`/gm,"`")).replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;");d.includes(".. _");){var f=d.replace(/^(.|\n|\r)*[.][.] _/m,"").replace(/(\n|\r)(.|\n|\r)*$/m,""),p=f.split(": ");if(2!==p.length){console.log("words",p);break}for(var m=p[0],y=p[1];d.includes(m+"_");)d=d.replace(m+"_","<a href='"+y+"' target='_blank'>"+m+"</a>");d=d.replace(".. _"+f,"")}d=(d=(d=(d=d.replace(/``([^`]*)``/g,"<span style='background-color: #575757'>$1</span>")).replace(/`([^`]*)`/g,"<span style='color: yellow'>$1</span>")).replace(/  *\n/gm,"")).replace(/\n\n\n*/gm,"\n\n"),e.innerHTML+="<div><span class='hostname'>"+s+"</span>:</br><pre style='height: initial; overflow-y: initial;'>"+d+"</pre></div>"}}}catch(e){u=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw i}}}}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){"use strict";function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"isHighStateOutput",value:function(e,t){if(!Output.isOutputFormatAllowed("highstate"))return!1;if("object"!==r(t))return!1;if(Array.isArray(t))return!1;if("state.apply"!==e&&"state.highstate"!==e)return!1;for(var n=Object.keys(t),o=0;o<n.length;o++){if(4!==n[o].split("_|-").length)return!1}return!0}},{key:"getDurationClause",value:function(e){return 1===e?"".concat(e," millisecond"):e<1e3?"".concat(e," milliseconds"):"".concat(e/1e3,1e3===e?" second":" seconds")}},{key:"getHighStateLabel",value:function(e,t){for(var n=!1,r=!1,o=Object.keys(t),a=0;a<o.length;a++){var u=t[o[a]];null===u.result?r=!0:u.result||(n=!0)}return n?Output.getHostnameHtml(e,"host_failure"):r?Output.getHostnameHtml(e,"host_skips"):Output.getHostnameHtml(e,"host_success")}},{key:"getHighStateOutput",value:function(t){var n=[];Object.keys(t).forEach(function(e){t[e].___key___=e,n.push(t[e])}),n.sort(function(e,t){return e.__run_num__-t.__run_num__});for(var o=document.createElement("div"),a=0,u=0,i=0,l=0,c=0,s=0;s<n.length;s++){var d=n[s],f=document.createElement("div"),p=document.createElement("span");null===d.result?(p.style.color="yellow",p.innerText="✔",i+=1):d.result?(p.style.color="green",p.innerText="✔",a+=1):(p.style.color="red",p.innerText="✘",u+=1),f.append(p),f.append(document.createTextNode(" ")),d.name?f.append(document.createTextNode(d.name)):f.append(document.createTextNode("(anonymous task)")),d.__id__&&d.__id__!==d.name&&f.append(document.createTextNode(" id="+encodeURIComponent(d.__id__))),d.__sls__&&f.append(document.createTextNode(" (from "+d.__sls__.replace(".","/")+".sls)"));var m=d.___key___.split("_|-");if(f.append(document.createElement("br")),f.append(document.createTextNode("    Function is "+m[0]+"."+m[3])),d.comment){f.append(document.createElement("br"));var y=d.comment;y=(y=y.replace(/[ \r\n]+$/g,"")).replace(/[\n]+/g,"\n    "),f.append(document.createTextNode("    "+y))}if(d.hasOwnProperty("changes"))if("object"!==r(d.changes)||Array.isArray(d.changes))f.append(document.createElement("br")),f.append(document.createTextNode("    "+JSON.stringify(d.changes)));else{var v=!0,h=!1,g=void 0;try{for(var b,_=Object.keys(d.changes).sort()[Symbol.iterator]();!(v=(b=_.next()).done);v=!0){var w=b.value;c+=1;var S=d.changes[w];if("string"==typeof S&&S.includes("\n")){f.append(document.createElement("br")),f.append(document.createTextNode("    "+w+":"));var O=S.trim().split("\n"),k=!0,x=!1,j=void 0;try{for(var T,E=O[Symbol.iterator]();!(k=(T=E.next()).done);k=!0){var N=T.value;f.append(document.createElement("br")),f.append(document.createTextNode("      "+N))}}catch(e){x=!0,j=e}finally{try{k||null==E.return||E.return()}finally{if(x)throw j}}}else if("object"!==r(S)||Array.isArray(d.change))f.append(document.createElement("br")),f.append(document.createTextNode("    "+w+": "+JSON.stringify(S)));else{S.hasOwnProperty("old")&&S.hasOwnProperty("new")&&(f.append(document.createElement("br")),f.append(document.createTextNode("    "+w+": "+JSON.stringify(S.old)+" ► "+JSON.stringify(S.new))),delete S.old,delete S.new);var R=!0,A=!1,L=void 0;try{for(var M,P=Object.keys(S).sort()[Symbol.iterator]();!(R=(M=P.next()).done);R=!0){var H=M.value;f.append(document.createElement("br")),f.append(document.createTextNode("    "+w+": "+H+": "+JSON.stringify(S[H])))}}catch(e){A=!0,L=e}finally{try{R||null==P.return||P.return()}finally{if(A)throw L}}}}}catch(e){h=!0,g=e}finally{try{v||null==_.return||_.return()}finally{if(h)throw g}}}if(d.hasOwnProperty("start_time")&&(f.append(document.createElement("br")),f.append(document.createTextNode("    Started at "+d.start_time))),d.hasOwnProperty("duration")){var D=Math.round(d.duration);l+=D,D>=10&&(f.append(document.createElement("br")),f.append(document.createTextNode("    Duration "+e.getDurationClause(D))))}for(var C=Object.keys(d),J=0;J<C.length;J++){var q=C[J],$=d[q];"___key___"!==q&&("__id__"!==q&&"__sls__"!==q&&"__run_num__"!==q&&"changes"!==q&&"comment"!==q&&"duration"!==q&&"host"!==q&&"name"!==q&&"pchanges"!==q&&"result"!==q&&"start_time"!==q&&(f.append(document.createElement("br")),f.append(document.createTextNode("    "+q+" = "+JSON.stringify($)))))}o.append(f)}var I="";a&&(I+=", "+a+" succeeded"),i&&(I+=", "+i+" skipped"),u&&(I+=", "+u+" failed");var F=a+i+u;return F!==a&&F!==i&&F!==u&&(I+=", "+(a+i+u)+" total"),1===c?I+=", "+c+" change":c&&(I+=", "+c+" changes"),F>1&&l>=10&&(I+=", "+e.getDurationClause(l)),I&&o.append(document.createTextNode(I.substring(2))),o}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){"use strict";function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"formatSimpleJSON",value:function(e){return null===e?JSON.stringify(e):void 0===e?"undefined":"object"!==r(e)?JSON.stringify(e):Array.isArray(e)&&0===e.length?"[ ]":Array.isArray(e)||0!==Object.keys(e).length?null:"{ }"}},{key:"formatJSON",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.formatSimpleJSON(t);if(null!==r)return r;if(Array.isArray(t)){r="[";var o="",a=!0,u=!1,i=void 0;try{for(var l,c=t[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var s=l.value;r+=o+"\n"+" ".repeat(n+4)+e.formatJSON(s,n+4),o=","}}catch(e){u=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw i}}return r+="\n"+" ".repeat(n)+"]"}Object.keys(t);r="{";var d="",f=!0,p=!1,m=void 0;try{for(var y,v=Object.keys(t).sort()[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var h=y.value,g=t[h];r+=d+"\n"+" ".repeat(n+4)+'"'+h+'": '+e.formatJSON(g,n+4),d=","}}catch(e){p=!0,m=e}finally{try{f||null==v.return||v.return()}finally{if(p)throw m}}return r+="\n"+" ".repeat(n)+"}"}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){"use strict";function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"ustring",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return" ".repeat(e)+n+t+r}},{key:"display",value:function(t,n,o,a){if(null===t)a.push(e.ustring(n,"None",o));else if(void 0===t)a.push(e.ustring(n,"undefined",o));else if("boolean"==typeof t||"number"==typeof t)a.push(e.ustring(n,t,o));else if("string"==typeof t){var u=!0;t=t.replace(/\n$/,"");var i=!0,l=!1,c=void 0;try{for(var s,d=t.split("\n")[Symbol.iterator]();!(i=(s=d.next()).done);i=!0){var f=s.value,p=o;u||(p=".".repeat(o.length)),a.push(e.ustring(n,f,p)),u=!1}}catch(e){l=!0,c=e}finally{try{i||null==d.return||d.return()}finally{if(l)throw c}}}else if("object"===r(t)&&Array.isArray(t)){var m=!0,y=!1,v=void 0;try{for(var h,g=t[Symbol.iterator]();!(m=(h=g.next()).done);m=!0){var b=h.value;if("object"===r(b)){a.push(e.ustring(n,"|_"));var _=void 0;_="object"!==r(b)||Array.isArray(b)?"- ":"",e.display(b,n+2,_,a)}else e.display(b,n,"- ",a)}}catch(e){y=!0,v=e}finally{try{m||null==g.return||g.return()}finally{if(y)throw v}}}else if("object"===r(t)){n&&a.push(e.ustring(n,"----------"));var w=!0,S=!1,O=void 0;try{for(var k,x=Object.keys(t).sort()[Symbol.iterator]();!(w=(k=x.next()).done);w=!0){var j=k.value,T=t[j];a.push(e.ustring(n,j,o,":")),null!==T&&""!==T&&e.display(T,n+4,"",a)}}catch(e){S=!0,O=e}finally{try{w||null==x.return||x.return()}finally{if(S)throw O}}}return a}},{key:"formatNESTED",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.display(t,0,"",[]).join("\n")}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){"use strict";function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"getDurationClause",value:function(e){return 1===e?"".concat(e," millisecond"):e<1e3?"".concat(e," milliseconds"):"".concat(e/1e3,1e3===e?" second":" seconds")}},{key:"getHighStateLabel",value:function(e,t){for(var n=!1,r=!1,o=Object.keys(t),a=0;a<o.length;a++){var u=t[o[a]];null===u.result?r=!0:u.result||(n=!0)}return n?Output.getHostnameHtml(e,"host_failure"):r?Output.getHostnameHtml(e,"host_skips"):Output.getHostnameHtml(e,"host_success")}},{key:"addChangesInfo",value:function(e,t,n){if(!t.hasOwnProperty("changes"))return 0;if("object"!==r(t.changes)||Array.isArray(t.changes))return e.append(document.createElement("br")),e.append(document.createTextNode(n+JSON.stringify(t.changes))),0;var o=!0,a=!1,u=void 0;try{for(var i,l=Object.keys(t.changes).sort()[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var c=i.value;1;var s=t.changes[c];if("string"==typeof s&&s.includes("\n")){e.append(document.createElement("br")),e.append(document.createTextNode(n+c+":"));var d=s.trim().split("\n"),f=!0,p=!1,m=void 0;try{for(var y,v=d[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var h=y.value;e.append(document.createElement("br")),e.append(document.createTextNode("      "+h))}}catch(e){p=!0,m=e}finally{try{f||null==v.return||v.return()}finally{if(p)throw m}}}else if(Array.isArray(s))for(var g in s){var b=s[g];e.append(document.createElement("br")),e.append(document.createTextNode(n+c+"["+g+"]: "+JSON.stringify(b)))}else if("object"===r(s)){s.hasOwnProperty("old")&&s.hasOwnProperty("new")&&(e.append(document.createElement("br")),e.append(document.createTextNode(n+c+": "+JSON.stringify(s.old)+" ► "+JSON.stringify(s.new))),delete s.old,delete s.new);var _=!0,w=!1,S=void 0;try{for(var O,k=Object.keys(s).sort()[Symbol.iterator]();!(_=(O=k.next()).done);_=!0){var x=O.value;e.append(document.createElement("br")),e.append(document.createTextNode(n+c+": "+x+": "+JSON.stringify(s[x])))}}catch(e){w=!0,S=e}finally{try{_||null==k.return||k.return()}finally{if(w)throw S}}}else e.append(document.createElement("br")),e.append(document.createTextNode(n+c+": "+JSON.stringify(s)))}}catch(e){a=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}}},{key:"getHighStateOutput",value:function(t){var n=[];Object.keys(t).forEach(function(e){t[e].___key___=e,n.push(t[e])}),n.sort(function(e,t){return e.__run_num__-t.__run_num__});for(var r=document.createElement("div"),o=0,a=0,u=0,i=0,l=0,c=0;c<n.length;c++){var s=n[c],d=document.createElement("div"),f=document.createElement("span");null===s.result?(f.style.color="yellow",f.innerText="✔",u+=1):s.result?(f.style.color="green",f.innerText="✔",o+=1):(f.style.color="red",f.innerText="✘",a+=1),d.append(f),d.append(document.createTextNode(" ")),s.name?d.append(document.createTextNode(s.name)):d.append(document.createTextNode("(anonymous task)")),s.__id__&&s.__id__!==s.name&&d.append(document.createTextNode(" id="+encodeURIComponent(s.__id__))),s.__sls__&&d.append(document.createTextNode(" (from "+s.__sls__.replace(".","/")+".sls)"));var p=s.___key___.split("_|-");if(d.append(document.createElement("br")),d.append(document.createTextNode("    Function is "+p[0]+"."+p[3])),s.comment){d.append(document.createElement("br"));var m=s.comment;m=(m=m.replace(/[ \r\n]+$/g,"")).replace(/[\n]+/g,"\n    "),d.append(document.createTextNode("    "+m))}if(l+=e.addChangesInfo(d,s,"    "),s.hasOwnProperty("start_time")&&(d.append(document.createElement("br")),d.append(document.createTextNode("    Started at "+Output.dateTimeStr(s.start_time)))),s.hasOwnProperty("duration")){var y=Math.round(s.duration);i+=y,y>=10&&(d.append(document.createElement("br")),d.append(document.createTextNode("    Duration "+e.getDurationClause(y))))}for(var v=Object.keys(s),h=0;h<v.length;h++){var g=v[h],b=s[g];"___key___"!==g&&("__id__"!==g&&"__sls__"!==g&&"__run_num__"!==g&&"changes"!==g&&"comment"!==g&&"duration"!==g&&"host"!==g&&"name"!==g&&"pchanges"!==g&&"result"!==g&&"start_time"!==g&&(d.append(document.createElement("br")),d.append(document.createTextNode("    "+g+" = "+JSON.stringify(b)))))}r.append(d)}var _="";o&&(_+=", "+o+" succeeded"),u&&(_+=", "+u+" skipped"),a&&(_+=", "+a+" failed");var w=o+u+a;return w!==o&&w!==u&&w!==a&&(_+=", "+(o+u+a)+" total"),1===l?_+=", "+l+" change":l&&(_+=", "+l+" changes"),w>1&&i>=10&&(_+=", "+e.getDurationClause(i)),_&&r.append(document.createTextNode(_.substring(2))),r}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){"use strict";function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"formatSimpleYAML",value:function(e){if(null===e)return"null";if(void 0===e)return"undefined";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e){var t=!1;return e.match(/^0[0-9]+$/)?e:(isNaN(Number(e))||(t=!0),e.match(/^$/)&&(t=!0),e.match(/^ /)&&(t=!0),e.match(/ $/)&&(t=!0),e.match(/^@/)&&(t=!0),e.match(/^`/)&&(t=!0),e.match(/^%/)&&(t=!0),e.match(/^[-a-z0-9_().\/:+ ]+$/i)||(t=!0),t?"'"+e+"'":e)}return"object"!==r(e)?""+e:Array.isArray(e)&&0===e.length?"[ ]":Array.isArray(e)||0!==Object.keys(e).length?null:"{ }"}},{key:"formatYAML",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=e.formatSimpleYAML(t);if(null!==o)return o;if(Array.isArray(t)){var a="",u="",i=!0,l=!1,c=void 0;try{for(var s,d=t[Symbol.iterator]();!(i=(s=d.next()).done);i=!0){var f=s.value;a+=u+"- "+e.formatYAML(f,n+2),u="\n"+" ".repeat(n)}}catch(e){l=!0,c=e}finally{try{i||null==d.return||d.return()}finally{if(l)throw c}}return a}var p="",m="",y=!0,v=!1,h=void 0;try{for(var g,b=Object.keys(t).sort()[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var _=g.value,w=t[_];p+=m+_+":";var S=e.formatSimpleYAML(w);null!==S?p+=" "+S:Array.isArray(w)?p+="\n"+" ".repeat(n)+e.formatYAML(w,n):"object"===r(w)?p+="\n"+" ".repeat(n+2)+e.formatYAML(w,n+2):p+="x"+e.formatYAML(w,n+2),m="\n"+" ".repeat(n)}}catch(e){v=!0,h=e}finally{try{y||null==b.return||b.return()}finally{if(v)throw h}}return p}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},function(e,t){var n=/^(None|null|Null|NULL)$/,r=/^(false|False|FALSE)$/,o=/^(true|True|TRUE)$/,a=/^[2-9][0-9][0-9][0-9][01][0-9][0-3][0-9][0-2][0-9][0-5][0-9][0-5][0-9][0-9][0-9][0-9][0-9][0-9][0-9]$/,u=/^((0)|([-+]?[1-9][0-9]*))$/,i=/^([-+]?(([0-9]+)|([0-9]+[.][0-9]*)|([0-9]*[.][0-9]+))([eE][-+]?[0-9]+)?)$/;window.parseCommandLine=function(e,t,l){for(e=e.trim();e.length>0;){var c=null,s=e.indexOf(" ");s<0&&(s=e.length);var d=e.indexOf("=");if(d>=0&&d<s&&(c=e.substr(0,d),""===(e=e.substr(d+1))||" "===e[0]))return"Must have value for named parameter '"+c+"'";var f=void 0,p=void 0;"{"===e[0]?(f="}",p="dictionary"):"["===e[0]?(f="]",p="array"):'"'===e[0]&&(f='"',p="double-quoted-string");var m=void 0;if(f&&p)for(var y=1;;){var v=e.indexOf(f,y);if(v<0)return"No valid "+p+" found";var h=e.substring(0,v+1);try{m=JSON.parse(h)}catch(e){y=v+1;continue}if((v+=1)<e.length&&" "!==e[v])return"Valid "+p+", but followed by text:"+e.substring(v)+"...";e=e.substring(v);break}else{for(var g="";e.length>0&&" "!==e[0];)g+=e[0],e=e.substring(1);if(n.test(g))m=null;else if(r.test(g))m=!1;else if(o.test(g))m=!0;else if(a.test(g))m=g;else if(u.test(g))m=parseInt(g);else if(i.test(g)){if(m=parseFloat(g),!isFinite(m))return"Numeric argument has overflowed or is infinity"}else m=g}null!==c?l[c]=m:t.push(m),e=e.trim()}return null}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){"use strict";function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=new API,this.commandbox=new CommandBox(this.api),this.currentRoute=void 0,this.routes=[],this.registerRoute(new LoginRoute(this)),this.registerRoute(new MinionsRoute(this)),this.registerRoute(new KeysRoute(this)),this.registerRoute(new GrainsRoute(this)),this.registerRoute(new GrainsMinionRoute(this)),this.registerRoute(new SchedulesRoute(this)),this.registerRoute(new SchedulesMinionRoute(this)),this.registerRoute(new PillarsRoute(this)),this.registerRoute(new PillarsMinionRoute(this)),this.registerRoute(new JobRoute(this)),this.registerRoute(new JobsRoute(this)),this.registerRoute(new TemplatesRoute(this));var n=window.localStorage.getItem("templates");n&&"undefined"!==n&&(document.querySelector("#button_templates1").style.display="inline-block",document.querySelector("#button_templates2").style.display="inline-block");this._registerEventListeners(),this.api.isAuthenticated().then(function(e){return t.goTo(e?window.location.pathname+window.location.search:"/login")}).catch(function(e){console.error(e),t.goTo("/login")})}var t,r,o;return t=e,(r=[{key:"_registerEventListeners",value:function(){var e=this,t=this;document.querySelector(".logo").addEventListener("click",function(e){"/login"!==window.location.pathname&&t.goTo("/")}),document.querySelector("#button_minions1").addEventListener("click",function(e){window.location.replace("/")}),document.querySelector("#button_minions2").addEventListener("click",function(e){window.location.replace("/")}),document.querySelector("#button_grains1").addEventListener("click",function(e){window.location.replace("/grains")}),document.querySelector("#button_grains2").addEventListener("click",function(e){window.location.replace("/grains")}),document.querySelector("#button_schedules1").addEventListener("click",function(e){window.location.replace("/schedules")}),document.querySelector("#button_schedules2").addEventListener("click",function(e){window.location.replace("/schedules")}),document.querySelector("#button_pillars1").addEventListener("click",function(e){window.location.replace("/pillars")}),document.querySelector("#button_pillars2").addEventListener("click",function(e){window.location.replace("/pillars")}),document.querySelector("#button_keys1").addEventListener("click",function(e){window.location.replace("/keys")}),document.querySelector("#button_keys2").addEventListener("click",function(e){window.location.replace("/keys")}),document.querySelector("#button_jobs1").addEventListener("click",function(e){window.location.replace("/jobs")}),document.querySelector("#button_jobs2").addEventListener("click",function(e){window.location.replace("/jobs")}),document.querySelector("#button_templates1").addEventListener("click",function(e){window.location.replace("/templates")}),document.querySelector("#button_templates2").addEventListener("click",function(e){window.location.replace("/templates")}),document.querySelector("#button_logout1").addEventListener("click",function(t){e.api.logout().then(function(){window.location.replace("/")})}),document.querySelector("#button_logout2").addEventListener("click",function(t){e.api.logout().then(function(){window.location.replace("/")})})}},{key:"registerRoute",value:function(e){this.routes.push(e),e.onRegister&&e.onRegister()}},{key:"goTo",value:function(e){if(!(this.switchingRoute||window.location.pathname===e&&this.currentRoute)){var t=!0,n=!1,r=void 0;try{for(var o,a=this.routes[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;if(u.getPath().test(e.split("?")[0]))return window.history.pushState({},void 0,e),void this.showRoute(u)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}}},{key:"showRoute",value:function(e){var t=this;e.getPageElement().style.display="";var n=document.getElementById("button_minions1"),r=document.getElementById("button_jobs1");Array.from(document.querySelectorAll(".menu_item_active")).forEach(function(e){e.classList.remove("menu_item_active")});var o=e.getMenuItemElement1();o&&(o.classList.add("menu_item_active"),"button_pillars1"!==o.id&&"button_schedules1"!==o.id&&"button_grains1"!==o.id||n.classList.add("menu_item_active"),"button_jobs1"!==o.id&&"button_templates1"!==o.id||r.classList.add("menu_item_active"));var a=e.getMenuItemElement2();a&&a.classList.add("menu_item_active"),t.switchingRoute=!0;var u,i=function(e){void 0!==t.currentRoute&&t.hideRoute(t.currentRoute),t.currentRoute=e,document.title="SaltGUI - "+t.currentRoute.getName(),t.currentRoute.getPageElement().className="route current",t.switchingRoute=!1};e.onShow&&(u=e.onShow()),u&&u.then?u.then(i(e)):i(e)}},{key:"hideRoute",value:function(e){e.getPageElement().className="route",setTimeout(function(){e.getPageElement().style.display="none"},500),e.onHide&&e.onHide()}}])&&n(t.prototype,r),o&&n(t,o),e}();window.addEventListener("load",function(){return new r})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){window.elapsedToString=function(e){try{var t=(new Date).getTime()/1e3-e.getTime()/1e3;return t<0?"Magic happened in the future":t<20?"A few moments ago":t<120?"A few minutes ago":t<3600?Math.round(t/60)+" minute(s) ago":t<86400?Math.round(t/60/60)+" hour(s) ago":t<172800?"Yesterday":t<2592e3?Math.round(t/60/60/24)+" days ago":"A long time ago, in a galaxy far, far away"}catch(e){return"It did happen, when I don't know"}},window.createElement=function(e,t,n){var r=document.createElement(e);return r.classList.add(t),""!==n&&(r.innerHTML=n),r},window.getQueryParam=function(e){var t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),r=!0,o=!1,a=void 0;try{for(var u,i=n[Symbol.iterator]();!(r=(u=i.next()).done);r=!0){var l=u.value.split("=");if(t.push(l[0]),l[0]===e)return l[1]}}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}},window.escape=function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML},window.makeTargetText=function(e,t){var n="";return"glob"!==e&&"list"!==e&&(n=e+" "),n+=t}}]);
//# sourceMappingURL=saltgui.bundle.js.map